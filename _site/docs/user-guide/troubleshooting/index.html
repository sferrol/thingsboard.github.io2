







<!Doctype html>
<html id="docs" class="ThingsBoard Documentation">







<head>
    <meta charset="utf-8">
    <meta name="cf-2fa-verify" content="a08672380de15e9">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Troubleshooting | ThingsBoard Community Edition</title>
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Troubleshooting" />
<meta name="author" content="thingsboard" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="ThingsBoard IoT Platform troubleshooting" />
<meta property="og:description" content="ThingsBoard IoT Platform troubleshooting" />
<link rel="canonical" href="http://0.0.0.0:4002/docs/user-guide/troubleshooting/" />
<meta property="og:url" content="http://0.0.0.0:4002/docs/user-guide/troubleshooting/" />
<meta property="og:site_name" content="ThingsBoard" />
<meta property="og:image" content="http://0.0.0.0:4002/images/thingsboard_logo.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://0.0.0.0:4002/images/thingsboard_logo.png" />
<meta property="twitter:title" content="Troubleshooting" />
<meta name="twitter:site" content="@thingsboard" />
<meta name="twitter:creator" content="@thingsboard" />
<script type="application/ld+json">
{"url":"http://0.0.0.0:4002/docs/user-guide/troubleshooting/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4002/images/thingsboard_logo.png"},"name":"thingsboard"},"author":{"@type":"Person","name":"thingsboard"},"image":{"twitter":"/images/thingsboard_logo.png","facebook":"/images/thingsboard_logo.png","url":"http://0.0.0.0:4002/images/thingsboard_logo.png","@type":"imageObject"},"description":"ThingsBoard IoT Platform troubleshooting","@type":"WebPage","headline":"Troubleshooting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
    
    <meta name="twitter:description" content="ThingsBoard IoT Platform troubleshooting"/>
    
    
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/styles.css">
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.7.0/qs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gifffer/1.5.0/gifffer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
    <script type="text/javascript">
        window.onload = function() {
            Gifffer();
        }
    </script>
    <script type="text/javascript">
        /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
        !function (a) {
            "use strict";
            var b = function (b, c, d) {
                function e(a) {
                    return h.body ? a() : void setTimeout(function () {
                        e(a)
                    })
                }

                function f() {
                    i.addEventListener && i.removeEventListener("load", f), i.media = d || "all"
                }

                var g, h = a.document, i = h.createElement("link");
                if (c) g = c; else {
                    var j = (h.body || h.getElementsByTagName("head")[0]).childNodes;
                    g = j[j.length - 1]
                }
                var k = h.styleSheets;
                i.rel = "stylesheet", i.href = b, i.media = "only x", e(function () {
                    g.parentNode.insertBefore(i, c ? g : g.nextSibling)
                });
                var l = function (a) {
                    for (var b = i.href, c = k.length; c--;) if (k[c].href === b) return a();
                    setTimeout(function () {
                        l(a)
                    })
                };
                return i.addEventListener && i.addEventListener("load", f), i.onloadcssdefined = l, l(f), i
            };
            "undefined" != typeof exports ? exports.loadCSS = b : a.loadCSS = b
        }("undefined" != typeof global ? global : this);

        /*! onloadCSS. (onload callback for loadCSS) [c]2017 Filament Group, Inc. MIT License */
        function onloadCSS(a, b) {
            function c() {
                !d && b && (d = !0, b.call(a))
            }

            var d;
            a.addEventListener && a.addEventListener("load", c), a.attachEvent && a.attachEvent("onload", c), "isApplicationInstalled" in navigator && "onloadcssdefined" in a && a.onloadcssdefined(c)
        }
    </script>
    <script type="text/javascript">

        function jqueryDefer(method) {
            if (window.jQuery) {
                method();
            } else {
                setTimeout(function () {
                    jqueryDefer(method)
                }, 50);
            }
        }

        function jqueryUiDefer(method) {
            if (window.jQuery && window.jQuery.ui) {
                method();
            } else {
                setTimeout(function () {
                    jqueryUiDefer(method)
                }, 50);
            }
        }

        window.vis = (function () {
            var stateKey,
                eventKey,
                keys = {
                    hidden: "visibilitychange",
                    webkitHidden: "webkitvisibilitychange",
                    mozHidden: "mozvisibilitychange",
                    msHidden: "msvisibilitychange"
                };
            for (stateKey in keys) {
                if (stateKey in document) {
                    eventKey = keys[stateKey];
                    break;
                }
            }
            return function (c) {
                if (c) document.addEventListener(eventKey, c);
                return !document[stateKey];
            }
        })();

        function loadScript(src, callback) {
            var s, r, t;
            r = false;
            s = document.createElement('script');
            s.type = 'text/javascript';
            s.src = src;
            s.onload = s.onreadystatechange = function () {
                if (!r && (!this.readyState || this.readyState == 'complete')) {
                    r = true;
                    if (callback) {
                        callback();
                    }
                }
            };
            t = document.getElementsByTagName('script')[0];
            t.parentNode.insertBefore(s, t);
        }

        function loadCssAsync(src, callback) {
            var stylesheet = loadCSS(src);
            if (callback) {
                onloadCSS(stylesheet, callback);
            }
        }

        function loadNextScript(index, scriptsList, completeCallback) {
            if (index < scriptsList.length) {
                var script = scriptsList[index];
                if (script.type === 'script') {
                    loadScript(script.src, function () {
                        if (script.callback) {
                            script.callback();
                        }
                        index++;
                        loadNextScript(index, scriptsList, completeCallback);
                    });
                } else if (script.type === 'css') {
                    loadCssAsync(script.src, function () {
                        index++;
                        loadNextScript(index, scriptsList, completeCallback);
                    });
                }
            } else if (completeCallback) {
                completeCallback();
            }
        }

        var initialScriptsList = [
            {src: '/js/jquery-2.2.0.min.js', type: 'script'},
            {src: '/css/jquery-ui.min.css', type: 'css'},
            {src: '/js/jquery-ui.min.js', type: 'script'},
            {src: '/js/jquery.vide.js', type: 'script'},
            {src: '/js/script.js', type: 'script'},
            {src: '/css/photoswipe.css', type: 'css'},
            {src: '/css/default-skin/default-skin.css', type: 'css'},
            {src: '/js/photoswipe.min.js', type: 'script'},
            {src: '/js/photoswipe-ui-default.min.js', type: 'script'}
        ];

        loadNextScript(0, initialScriptsList);

        jqueryDefer(function () {
            (function ($, win) {
                $.fn.inViewport = function (cb) {
                    return this.each(function (i, el) {
                        function visPx() {
                            var H = $(this).height(),
                                r = el.getBoundingClientRect(), t = r.top, b = r.bottom;
                            var result = cb.call(el, Math.max(0, t > 0 ? H - t : (b < H ? b : H)));
                            if (result) {
                                $(win).off("resize scroll", visPx);
                            }
                        }

                        visPx();
                        $(win).on("resize scroll", visPx);
                    });
                };
            }(jQuery, window));
        });

        function inViewportDefer(method) {
            if (window.jQuery && $.fn.inViewport) {
                method();
            } else {
                setTimeout(function () {
                    inViewportDefer(method)
                }, 50);
            }
        }

    </script>
    <script type="text/javascript">
        function _gaLt(event) {
            /* If GA is blocked or not loaded, or not main|middle|touch click then don't track */
            if (!ga.hasOwnProperty("loaded") || ga.loaded != true || (event.which != 1 && event.which != 2)) {
                return;
            }
            var el = event.srcElement || event.target;

            while (el && (typeof el.tagName == 'undefined' || el.tagName.toLowerCase() != 'a' || !el.href)) {
                el = el.parentNode;
            }
            if (el && el.href) {
                var link = el.href;
                if ((link.indexOf(location.host) == -1 || link.indexOf('.' + location.host) > 0) && !link.match(/^javascript\:/i)) {
                    var target = (el.target && !el.target.match(/^_(self|parent|top)$/i)) ? el.target : false;
                    if (event.ctrlKey || event.shiftKey || event.metaKey || event.which == 2) {
                        target = "_blank";
                    }

                    var hbrun = false; // tracker has not yet run
                    var hitBack = function () {
                        if (hbrun) return;
                        hbrun = true;
                        window.location.href = link;
                    };

                    if (target) {
                        ga(
                            "send", "event", "Outgoing Links", link,
                            document.location.pathname + document.location.search
                        );
                    } else {
                        event.preventDefault ? event.preventDefault() : event.returnValue = !1;
                        ga(
                            "send", "event", "Outgoing Links", link,
                            document.location.pathname + document.location.search, {
                                "hitCallback": hitBack
                            }
                        );

                        setTimeout(hitBack, 1000);
                    }
                }
            }
        }

        var _w = window;
        var _gaLtEvt = ("ontouchstart" in _w) ? "click" : "mousedown";
        _w.addEventListener ? _w.addEventListener("load", function () {
                document.body.addEventListener(_gaLtEvt, _gaLt, !1)
            }, !1)
            : _w.attachEvent && _w.attachEvent("onload", function () {
            document.body.attachEvent("on" + _gaLtEvt, _gaLt)
        });
    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-88383331-1', 'auto');
        ga('send', 'pageview');
    </script>
    <script>
        function Burger() {
            var header = $('header');
            var body = $('body');
            if (header.hasClass('opened-burger')) {
                header.removeClass('opened-burger');
                let subMenus = $('nav.head-menu > ul > li > div.centered-sub > ul.sub-menu');
                subMenus.removeClass('open-sub');
                body.css('overflow', '');
            } else {
                header.addClass('opened-burger');
                body.css('overflow', 'hidden');
            }
        }
    </script>
    <script>

        jqueryDefer(function () {
            let menuElement = $('nav.head-menu > ul');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            let menuItems = $('nav.head-menu > ul > li');
            let indicator = $('nav.head-menu > ul > div.indicator');
            let subMenuActive = false;
            menuElement.on('mouseleave', function (event) {
                if (!$(event.relatedTarget).parents('div.sub-menu-container').length) {
                    subMenuActive = false;
                    submenuContainer.removeClass('active bounds-transition');
                    menuItems.removeClass('active');
                    indicator.removeClass('left-transition');
                }
            });
            submenuContainer.on('mouseleave', function (event) {
                if (!$(event.relatedTarget).parents('nav.head-menu > ul').length) {
                    subMenuActive = false;
                    submenuContainer.removeClass('active bounds-transition');
                    menuItems.removeClass('active');
                    indicator.removeClass('left-transition');
                }
            });
            menuItems.each(function() {
                let item = $( this );
                let subMenuId = item.attr('data-submenu-id');
                item.on('mouseenter', function () {
                    let submenus = $('nav.head-menu > div.sub-menu-container > div');
                    submenus.css('display', 'none');
                    menuItems.removeClass('active');
                    item.addClass('active');
                    let targetSubMenu = $('nav.head-menu > div.sub-menu-container > div#'+subMenuId);
                    targetSubMenu.css('display', 'block');
                    submenuContainer.css('overflow', 'visible');
                    let left = item.position().left + (item.outerWidth() - targetSubMenu.outerWidth()) / 2;
                    submenuContainer.css('left', left + 'px');
                    if (!subMenuActive) {
                        submenuContainer.addClass('active');
                        subMenuActive = true;
                    } else {
                        submenuContainer.addClass('bounds-transition');
                        indicator.addClass('left-transition');
                    }
                    indicator.css('left', item.position().left);
                    indicator.css('width', item.outerWidth());
                    submenuContainer.css('height', targetSubMenu.outerHeight() + 'px');
                    submenuContainer.css('width', targetSubMenu.outerWidth() + 'px');
                    submenuContainer.css('overflow', 'hidden');
                });
            });

            let isMobile = $('button.burger').css('display') === 'block';
            if (isMobile) {
                initMobileSubmenu();
            }

            $(window).resize(function(){
                let newIsMobile = $('button.burger').css('display') === 'block';
                if (isMobile !== newIsMobile) {
                    isMobile = newIsMobile;
                    if (isMobile) {
                        initMobileSubmenu();
                    } else {
                        restoreDesktopSubmenu();
                    }
                }
            });

            // Products selector

            
            let productsSelector = $('.products-selector');
            $(window).click(function(e) {
                if (productsSelector[0].contains(e.target)) {
                    if (productsSelector.hasClass('active')) {
                        productsSelector.removeClass('active');
                    } else {
                        productsSelector.addClass('active');
                    }
                } else {
                    productsSelector.removeClass('active');
                }
            });
            

            // Rogue line numbers fix (don't show line numbers for 1 row)
            $( document ).ready(function() {
                $('.rouge-gutter.gl').each(function() {
                    var lineNumbers = $(this).children('.lineno');
                    if (lineNumbers.text() === '1\n') {
                        $(this).css('display', 'none');
                    }
                });
            });
        });

        function initMobileSubmenu() {

            var header = $('header');
            if (header.hasClass('opened-burger')) {
                var body = $('body');
                body.css('overflow', 'hidden');
            }

            let targetSubMenus = $('nav.head-menu > div.sub-menu-container > div');
            targetSubMenus.css('display', 'block');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            submenuContainer.removeClass('active');
            submenuContainer.css('display', 'none');

            targetSubMenus.each(function() {
                let subMenu = $( this );
                let subMenuId = subMenu.attr('id');
                let parent = $('nav.head-menu > ul > li.'+subMenuId);
                parent.append(subMenu);
            });
        }

        function restoreDesktopSubmenu() {
            var body = $('body');
            body.css('overflow', '');
            let targetSubMenus = $('nav.head-menu > ul > li > div');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            submenuContainer.removeClass('active');
            submenuContainer.css('display', 'block');
            let menuItems = $('nav.head-menu > ul > li');
            menuItems.removeClass('active');
            targetSubMenus.each(function() {
                let subMenu = $( this );
                submenuContainer.append(subMenu);
            });
        }

        function listburg(subMenuId) {
            let isMobile = $('button.burger').css('display') === 'block';
            if (isMobile) {
                let targetSubMenu = $('nav.head-menu > ul > li > div.centered-sub#'+subMenuId+' > ul.sub-menu');
                let isOpen = targetSubMenu.hasClass('open-sub');
                let subMenus = $('nav.head-menu > ul > li > div.centered-sub > ul.sub-menu');
                subMenus.removeClass('open-sub');
                if (!isOpen) {
                    targetSubMenu.addClass('open-sub');
                }
            }
        }
    </script>
</head>
<body>

<div class="products-selector">
    <img src="/images/thingsboard-cm-icon.svg"/>
    <div class="product-info">
        <div class="product-title">
            Community Edition
        </div>
        <div class="product-description">
            ThingsBoard Documentation
        </div>
    </div>
    <div class="products">
        
        

    
        
        


        
    


        <a href="/docs/paas/" class="product">Cloud</a>
        
        

    
        
        


        
            
        
    


        <a href="/docs/pe/user-guide/troubleshooting/" class="product">Professional Edition</a>
        
        

    
        
        


        
            
        
    


        <a href="/docs/user-guide/troubleshooting/" class="product active">Community Edition</a>
        
        

    


        <a href="/docs/edge/" class="product">Edge</a>
        
        

    


        <a href="/docs/iot-gateway/" class="product">IoT Gateway</a>
        
        

    


        <a href="/products/license-server/" class="product">License Server</a>
        
        

    


        <a href="/docs/trendz/" class="product">Trendz Analytics</a>
        
    </div>
</div>

<header>
    <div class="logo-burger">
        
        <button onclick="Burger()" class="burger"></button>
        <div id="githubButtonContainer">
            <a class="github-button" href="https://github.com/thingsboard/thingsboard" data-show-count="true"
               aria-label="Star thingsboard/thingsboard on GitHub">Star</a>
        </div>
    </div>
    <nav class="head-menu">
        <ul>
            <li class="nav-products" data-submenu-id="nav-products">
                <a onclick="listburg('nav-products')">Products</a>
            </li>
            <li class="nav-services" data-submenu-id="nav-services">
                <a onclick="listburg('nav-services')">Services</a>
            </li>
            
            <li class="nav-cases" data-submenu-id="nav-cases">
                <a onclick="listburg('nav-cases')">Use Cases</a>
            </li>
            <li class="nav-customers" data-submenu-id="nav-customers">
                <a onclick="listburg('nav-customers')">Customers</a>
            </li>
            <li class="nav-company" data-submenu-id="nav-company">
                <a onclick="listburg('nav-company')">Company</a>
            </li>
            <div class="indicator"><div class="head-arrow"></div><div class="line"></div><div class="sub-background"></div></div>
        </ul>
        <div class="sub-menu-container">
            <div id="nav-products" class="centered-sub">
                <ul class="sub-menu products">
                    <div class="sub-groups">
                        <div class="group">
                            <p class="group-name">IoT platforms</p>
                            <a class="cloud-lnk" href="/products/paas/">
                                <img src="/images/thingsboard-c-icon.svg">
                                <div class="sub-text">
                                    <h1>Cloud</h1>
                                    <p>Platform as a service</p>
                                </div>
                            </a>
                            <a class="prof-lnk" href="/products/thingsboard-pe/">
                                <img src="/images/thingsboard-p-icon.svg">
                                <div class="sub-text">
                                    <h1>Professional Edition</h1>
                                    <p>Advanced IoT platform</p>
                                </div>
                            </a>
                            <a class="com-lnk" href="/">
                                <img src="/images/thingsboard-cm-icon.svg">
                                <div class="sub-text">
                                    <h1>Community Edition</h1>
                                    <p>Open source platform</p>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <p class="group-name">Product ecosystem</p>
                            <a class="edge-lnk" href="/products/thingsboard-edge/">
                                <img src="/images/thingsboard-e-icon.svg">
                                <div class="sub-text">
                                    <h1>Edge</h1>
                                    <p>Edge computing</p>
                                </div>
                            </a>
                            <a class="gateway-lnk" href="/docs/iot-gateway/what-is-iot-gateway/">
                                <img src="/images/gateway-icon.svg">
                                <div class="sub-text">
                                    <h1>IoT Gateway</h1>
                                    <p>Connect legacy protocols</p>
                                </div>
                            </a>
                            <a class="license-lnk" href="/products/license-server/">
                                <img src="/images/license-icon.svg">
                                <div class="sub-text">
                                    <h1>License Server</h1>
                                    <p>Billing solution</p>
                                </div>
                            </a>
                            <a class="trendz-lnk" href="/products/trendz/">
                                <img src="/images/trendz-icon.svg">
                                <div class="sub-text">
                                    <h1>Trendz Analytics</h1>
                                    <p>Data analytics and Prediction</p>
                                </div>
                            </a>
                        </div>
                    </div>
                </ul>
            </div>
            <div id="nav-services" class="centered-sub">
                <ul class="sub-menu services">
                    <a href="/docs/services/support/">
                        <img src="/images/support-icon.svg">
                        <div class="sub-text">
                            <h1>Support</h1>
                            <p>Support packages</p>
                        </div>
                    </a>
                    <a href="/docs/services/trainings/">
                        <img src="/images/train-icon.svg">
                        <div class="sub-text">
                            <h1>Trainings</h1>
                            <p>ThingsBoard education courses</p>
                        </div>
                    </a>
                    <a href="/docs/services/consulting/">
                        <img src="/images/prof-icon.svg">
                        <div class="sub-text">
                            <h1>Professional services</h1>
                            <p>Development of solutions by the ThingsBoard team</p>
                        </div>
                    </a>
                </ul>
            </div>
            
            <div id="nav-cases" class="centered-sub">
                <ul class="sub-menu cases">
                    <a href="/smart-metering/">
                        <img src="/images/case-met-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Metering</h1>
                            <p>Collection, analysis and visualization of data from meters</p>
                        </div>
                    </a>
                    <a href="/smart-energy/">
                        <img src="/images/case-eng-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Energy</h1>
                            <p>Energy monitoring and efficiency analysis</p>
                        </div>
                    </a>
                    <a href="/smart-farming/">
                        <img src="/images/case-fam-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Farming</h1>
                            <p>Monitoring of indoor conditions and plant growth characteristics</p>
                        </div>
                    </a>
                    <a href="/fleet-tracking/">
                        <img src="/images/case-trk-icon.svg">
                        <div class="sub-text">
                            <h1>Fleet Tracking</h1>
                            <p>Fleet tracking and fleet management</p>
                        </div>
                    </a>
                </ul>
            </div>
            <div id="nav-customers" class="centered-sub">
                <ul class="sub-menu customers">
                    <div class="sub-groups">
                        <div class="group">
                            <a class="small-link" href="/industries/smart-energy/">
                                <img src="/images/se-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart Energy</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/agriculture/">
                                <img src="/images/agr-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Agriculture</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/smart-buildings/">
                                <img src="/images/sb-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart Buildings</h1>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <a class="small-link" href="/industries/smart-city/">
                                <img src="/images/sc-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart City</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/telecom/">
                                <img src="/images/tel-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Telecom</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/industry40/">
                                <img src="/images/in-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Industry 4.0</h1>
                                </div>
                            </a>
                        </div>
                    </div>
                </ul>
            </div>
            <div id="nav-company" class="centered-sub">
                <ul class="sub-menu about">
                    <div class="sub-groups">
                        <div class="group">
                            <a class="small-link" href="/company/">
                                <img src="/images/about-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Our Company</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/docs/contact-us/">
                                <img src="/images/contact-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Contact Us</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/careers/">
                                <img src="/images/careers-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Careers</h1>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <a class="small-link" href="/mediakit/">
                                <img src="/images/media-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Media Kit</h1>
                                </div>
                            </a>
                            <a class="small-link" href="https://blog.thingsboard.io/">
                                <img src="/images/blog-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Blog</h1>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="bottom-group">
                        <a class="small-link" href="/partners/hardware/">
                            <img src="/images/hard-s-icon.svg">
                            <div class="sub-text">
                                <h1>Hardware partners</h1>
                            </div>
                        </a>
                        <a class="small-link" href="/partners/distributors/">
                            <img src="/images/dis-s-icon.svg">
                            <div class="sub-text">
                                <h1>Distributors</h1>
                            </div>
                        </a>
                    </div>
                </ul>
            </div>
        </div>
    </nav>
    <div>
        <a href="/installations/" class="n-button try">Try it now</a>
        <a href="/pricing/" class="n-button price">Pricing</a>
    </div>
</header>


<div id="searchBox">
    <input type="text" id="search" placeholder="Search" onkeydown="if (event.keyCode==13) window.location.replace('/docs/search/?q=' + this.value)">
    <button class="searchButton"></button>
</div>

<!--  HERO  -->
<section id="hero">
  <div id="hero-content">
    <div id="vendorStrip">
      <div id="docsList">
          <ul>
            
              
              
              
              <li>
                  <a href="/docs/getting-started-guides/helloworld/" >Getting Started</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/" class="YAH">Documentation</a>
                  
                     <div class="indicator"><div class="head-arrow"></div><div class="line"></div><div class="sub-background"></div></div>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/guides/" >Guides</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/user-guide/install/installation-options/" >Installation</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/reference/" >Architecture</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/api/" >API</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/faq/" >FAQ</a>
                  
              </li>
            
          </ul>
          <div id="docsBreadcrumbs">
              
                  
                  
                  
                  
                      
                  
                      
                  
                      
                  
                      
                         
                         
                         
    

    

    

    

    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    
        
        
        
    

    

    

    

    


        
            
        
    

    
        
        
        
    

    

    


        
            
        
    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    

    

    

    

    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    

    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    

    

    

    
        
        
        
    

    

    

    


        
            
        
    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    

    


                         
                            
                         
                      
                  
                      
                        
                        
                  
                    <span class="item">Documentation</span>
                    
                        <span class="divider">></span>
                    
                  
                    <span class="item">Troubleshooting</span>
                    
                  
              
          </div>
      </div>
    </div>
  </div>
</section>
<div id="docsNav">
    <div class="docItems">
        
            
            
                <a class="toc" href="/docs/getting-started-guides/helloworld/" >Getting Started</a>
            
        
            
            
                <div class="pi-accordion">
                    


<a class="item" data-title="Community Edition" href="/docs/"></a>


<a class="item" data-title="What is ThingsBoard?" href="/docs/getting-started-guides/what-is-thingsboard/"></a>


<a class="item" data-title="How to connect your device?" href="/docs/getting-started-guides/connectivity/"></a>


<div class="item" data-title="Key concepts">
  <div class="container">


<a class="item" data-title="Entities and relations" href="/docs/user-guide/entities-and-relations/"></a>


<a class="item" data-title="Tenant Profiles" href="/docs/user-guide/tenant-profiles/"></a>


<a class="item item-new" data-title="Device Profiles" href="/docs/user-guide/device-profiles/"></a>


<a class="item" data-title="Attributes" href="/docs/user-guide/attributes/"></a>


<a class="item" data-title="Time-series data" href="/docs/user-guide/telemetry/"></a>


<a class="item" data-title="Alarms" href="/docs/user-guide/alarms/"></a>


<a class="item" data-title="Remote commands to devices" href="/docs/user-guide/rpc/"></a>


<a class="item item-new" data-title="OTA updates" href="/docs/user-guide/ota-updates/"></a>
  </div>
</div>


<div class="item" data-title="Dashboards">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/user-guide/dashboards/"></a>


<a class="item" data-title="Aliases" href="/docs/user-guide/ui/aliases/"></a>


<a class="item" data-title="Widget Actions" href="/docs/user-guide/ui/widget-actions/"></a>


<a class="item" data-title="Widgets Library" href="/docs/user-guide/ui/widget-library/"></a>
  </div>
</div>


<div class="item" data-title="Rule engine">
  <div class="container">


<a class="item" data-title="Getting Started" href="/docs/user-guide/rule-engine-2-0/re-getting-started/"></a>


<a class="item" data-title="Overview" href="/docs/user-guide/rule-engine-2-0/overview/"></a>


<a class="item" data-title="Architecture" href="/docs/user-guide/rule-engine-2-0/architecture/"></a>


<div class="item" data-title="Nodes">
  <div class="container">


<a class="item" data-title="Filter Nodes" href="/docs/user-guide/rule-engine-2-0/filter-nodes/"></a>


<a class="item" data-title="Enrichment Nodes" href="/docs/user-guide/rule-engine-2-0/enrichment-nodes/"></a>


<a class="item" data-title="Transformation Nodes" href="/docs/user-guide/rule-engine-2-0/transformation-nodes/"></a>


<a class="item" data-title="Action Nodes" href="/docs/user-guide/rule-engine-2-0/action-nodes/"></a>


<a class="item" data-title="External Nodes" href="/docs/user-guide/rule-engine-2-0/external-nodes/"></a>
  </div>
</div>


<div class="item item-pe" data-title="PE Nodes">
  <div class="container">


<a class="item" data-title="Transformation Nodes" href="/docs/pe/user-guide/rule-engine-2-0/transformation-nodes/"></a>


<a class="item" data-title="Action Nodes" href="/docs/pe/user-guide/rule-engine-2-0/action-nodes/"></a>


<a class="item" data-title="Analytics Nodes" href="/docs/pe/user-guide/rule-engine-2-0/analytics-nodes/"></a>
  </div>
</div>


<a class="item" data-title="Custom Rule Nodes" href="/docs/user-guide/contribution/rule-node-development/"></a>
  </div>
</div>


<div class="item item-pe" data-title="White-labeling">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/pe/user-guide/white-labeling/"></a>


<a class="item" data-title="Self-registration" href="/docs/pe/user-guide/self-registration/"></a>


<a class="item" data-title="Custom Translations" href="/docs/pe/user-guide/custom-translation/"></a>


<a class="item" data-title="Custom Menu" href="/docs/pe/user-guide/custom-menu/"></a>
  </div>
</div>


<div class="item item-pe" data-title="Integrations">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/user-guide/integrations/"></a>


<a class="item" data-title="Remote Integrations" href="/docs/user-guide/integrations/remote-integrations/"></a>


<a class="item" data-title="HTTP" href="/docs/user-guide/integrations/http/"></a>


<a class="item" data-title="MQTT" href="/docs/user-guide/integrations/mqtt/"></a>


<a class="item" data-title="OPC-UA" href="/docs/user-guide/integrations/opc-ua/"></a>


<a class="item" data-title="Actility ThingPark" href="/docs/user-guide/integrations/thingpark/"></a>


<a class="item" data-title="TheThingsNetwork" href="/docs/user-guide/integrations/ttn/"></a>


<a class="item" data-title="TheThingsIndustries" href="/docs/user-guide/integrations/tti/"></a>


<a class="item" data-title="LORIOT" href="/docs/user-guide/integrations/loriot/"></a>


<a class="item" data-title="AWS IoT" href="/docs/user-guide/integrations/aws-iot/"></a>


<a class="item" data-title="AWS Kinesis" href="/docs/user-guide/integrations/aws-kinesis/"></a>


<a class="item" data-title="IBM Watson" href="/docs/user-guide/integrations/ibm-watson-iot/"></a>


<a class="item" data-title="Azure Event Hub" href="/docs/user-guide/integrations/azure-event-hub/"></a>


<a class="item" data-title="Azure IoT Hub" href="/docs/user-guide/integrations/azure-iot-hub/"></a>


<a class="item" data-title="TCP" href="/docs/user-guide/integrations/tcp/"></a>


<a class="item" data-title="UDP" href="/docs/user-guide/integrations/udp/"></a>


<a class="item" data-title="SigFox" href="/docs/user-guide/integrations/sigfox/"></a>


<a class="item" data-title="Ocean Connect" href="/docs/user-guide/integrations/ocean-connect/"></a>


<a class="item" data-title="Custom Integration development guide" href="/docs/user-guide/integrations/custom/"></a>


<a class="item" data-title="Notifications and Alarms on your smartphone using Telegram Bot" href="/docs/user-guide/rule-engine-2-0/tutorials/integration-with-telegram-bot/"></a>
  </div>
</div>


<div class="item" data-title="Analytics">
  <div class="container">


<a class="item" data-title="Trendz Analytics" href="/docs/trendz/"></a>


<a class="item" data-title="Kafka Streams" href="/docs/samples/analytics/kafka-streams/"></a>
  </div>
</div>


<div class="item" data-title="Other Features">
  <div class="container">


<a class="item" data-title="Device Connectivity Status" href="/docs/user-guide/device-connectivity-status/"></a>


<a class="item" data-title="Claiming Devices" href="/docs/user-guide/claiming-devices/"></a>


<a class="item item-new" data-title="Device provisioning" href="/docs/user-guide/device-provisioning/"></a>


<a class="item" data-title="Entity Views" href="/docs/user-guide/entity-views/"></a>


<a class="item" data-title="API Limits" href="/docs/user-guide/api-limits/"></a>


<a class="item item-new" data-title="Bulk Provisioning" href="/docs/user-guide/bulk-provisioning/"></a>


<a class="item item-pe" data-title="Entity Groups" href="/docs/pe/user-guide/groups/"></a>


<a class="item item-pe" data-title="Scheduler" href="/docs/pe/user-guide/scheduler/"></a>


<a class="item item-pe" data-title="Reporting" href="/docs/pe/user-guide/reporting/"></a>


<a class="item item-pe" data-title="CSV/XLS data export" href="/docs/pe/user-guide/csv-xls-data-export/"></a>


<a class="item item-pe" data-title="File Storage" href="/docs/pe/user-guide/file-storage/"></a>
  </div>
</div>


<div class="item" data-title="Security">
  <div class="container">


<a class="item" data-title="Audit Log" href="/docs/user-guide/audit-log/"></a>


<a class="item item-pe" data-title="Advanced RBAC for IoT" href="/docs/pe/user-guide/rbac/"></a>


<a class="item" data-title="OAuth 2 Support" href="/docs/user-guide/oauth-2-support/"></a>


<a class="item" data-title="MQTT over SSL" href="/docs/user-guide/mqtt-over-ssl/"></a>


<a class="item" data-title="Device authentication options" href="/docs/user-guide/device-credentials/"></a>


<a class="item" data-title="Access Token based authentication" href="/docs/user-guide/access-token/"></a>


<a class="item" data-title="Basic MQTT Credentials" href="/docs/user-guide/basic-mqtt/"></a>


<a class="item" data-title="X.509 Certificate based authentication" href="/docs/user-guide/certificates/"></a>
  </div>
</div>


<div class="item" data-title="Administration UI">
  <div class="container">


<a class="item" data-title="Tenants" href="/docs/user-guide/ui/tenants/"></a>


<a class="item" data-title="Customers" href="/docs/user-guide/ui/customers/"></a>


<a class="item" data-title="Users" href="/docs/user-guide/ui/users/"></a>


<a class="item" data-title="Assets" href="/docs/user-guide/ui/assets/"></a>


<a class="item" data-title="Devices" href="/docs/user-guide/ui/devices/"></a>


<a class="item" data-title="Rule Chains" href="/docs/user-guide/ui/rule-chains/"></a>


<div class="item" data-title="Widgets">
  <div class="container">


<a class="item item-new" data-title="Chart widgets" href="/docs/user-guide/ui/chart-widget/"></a>


<a class="item item-new" data-title="Entity Table widget" href="/docs/user-guide/ui/entity-table-widget/"></a>


<a class="item" data-title="Trip Animation widget" href="/docs/user-guide/ui/trip-animation-widget/"></a>


<a class="item" data-title="Advanced data key configuration" href="/docs/user-guide/ui/advanced-data-key-configuration/"></a>
  </div>
</div>


<a class="item" data-title="Dashboards" href="/docs/user-guide/ui/dashboards/"></a>


<a class="item" data-title="SMS Provider Settings" href="/docs/user-guide/ui/sms-provider-settings/"></a>


<a class="item" data-title="Mail Settings" href="/docs/user-guide/ui/mail-settings/"></a>
  </div>
</div>


<div class="item" data-title="Contribution Guide">
  <div class="container">


<a class="item" data-title="How to contribute" href="/docs/user-guide/contribution/how-to-contribute/"></a>


<a class="item" data-title="How to contribute your device integration guide" href="/docs/user-guide/contribution/how-to-contribute-your-device-integration-guide/"></a>


<a class="item" data-title="Rule Node development" href="/docs/user-guide/contribution/rule-node-development/"></a>


<a class="item" data-title="Widgets development (ThingsBoard v3.x)" href="/docs/user-guide/contribution/widgets-development/"></a>


<a class="item" data-title="Widgets development (ThingsBoard v2.x)" href="/docs/user-guide/contribution/widgets-development-before-3.0/"></a>
  </div>
</div>


<a class="item" data-title="Troubleshooting" href="/docs/user-guide/troubleshooting/"></a>


<a class="item" data-title="Release Notes" href="/docs/reference/releases/"></a>


<a class="item" data-title="Roadmap" href="/docs/reference/roadmap/"></a>
                </div>
            
        
            
            
                <a class="toc" href="/docs/guides/" >Guides</a>
            
        
            
            
                <a class="toc" href="/docs/user-guide/install/installation-options/" >Installation</a>
            
        
            
            
                <a class="toc" href="/docs/reference/" >Architecture</a>
            
        
            
            
                <a class="toc" href="/docs/api/" >API</a>
            
        
            
            
                <a class="toc" href="/docs/faq/" >FAQ</a>
            
        
    </div>
</div>








<section id="encyclopedia">
  
  <div id="docsToc">
        <div class="pi-accordion">
        


<a class="item" data-title="Community Edition" href="/docs/"></a>


<a class="item" data-title="What is ThingsBoard?" href="/docs/getting-started-guides/what-is-thingsboard/"></a>


<a class="item" data-title="How to connect your device?" href="/docs/getting-started-guides/connectivity/"></a>


<div class="item" data-title="Key concepts">
  <div class="container">


<a class="item" data-title="Entities and relations" href="/docs/user-guide/entities-and-relations/"></a>


<a class="item" data-title="Tenant Profiles" href="/docs/user-guide/tenant-profiles/"></a>


<a class="item item-new" data-title="Device Profiles" href="/docs/user-guide/device-profiles/"></a>


<a class="item" data-title="Attributes" href="/docs/user-guide/attributes/"></a>


<a class="item" data-title="Time-series data" href="/docs/user-guide/telemetry/"></a>


<a class="item" data-title="Alarms" href="/docs/user-guide/alarms/"></a>


<a class="item" data-title="Remote commands to devices" href="/docs/user-guide/rpc/"></a>


<a class="item item-new" data-title="OTA updates" href="/docs/user-guide/ota-updates/"></a>
  </div>
</div>


<div class="item" data-title="Dashboards">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/user-guide/dashboards/"></a>


<a class="item" data-title="Aliases" href="/docs/user-guide/ui/aliases/"></a>


<a class="item" data-title="Widget Actions" href="/docs/user-guide/ui/widget-actions/"></a>


<a class="item" data-title="Widgets Library" href="/docs/user-guide/ui/widget-library/"></a>
  </div>
</div>


<div class="item" data-title="Rule engine">
  <div class="container">


<a class="item" data-title="Getting Started" href="/docs/user-guide/rule-engine-2-0/re-getting-started/"></a>


<a class="item" data-title="Overview" href="/docs/user-guide/rule-engine-2-0/overview/"></a>


<a class="item" data-title="Architecture" href="/docs/user-guide/rule-engine-2-0/architecture/"></a>


<div class="item" data-title="Nodes">
  <div class="container">


<a class="item" data-title="Filter Nodes" href="/docs/user-guide/rule-engine-2-0/filter-nodes/"></a>


<a class="item" data-title="Enrichment Nodes" href="/docs/user-guide/rule-engine-2-0/enrichment-nodes/"></a>


<a class="item" data-title="Transformation Nodes" href="/docs/user-guide/rule-engine-2-0/transformation-nodes/"></a>


<a class="item" data-title="Action Nodes" href="/docs/user-guide/rule-engine-2-0/action-nodes/"></a>


<a class="item" data-title="External Nodes" href="/docs/user-guide/rule-engine-2-0/external-nodes/"></a>
  </div>
</div>


<div class="item item-pe" data-title="PE Nodes">
  <div class="container">


<a class="item" data-title="Transformation Nodes" href="/docs/pe/user-guide/rule-engine-2-0/transformation-nodes/"></a>


<a class="item" data-title="Action Nodes" href="/docs/pe/user-guide/rule-engine-2-0/action-nodes/"></a>


<a class="item" data-title="Analytics Nodes" href="/docs/pe/user-guide/rule-engine-2-0/analytics-nodes/"></a>
  </div>
</div>


<a class="item" data-title="Custom Rule Nodes" href="/docs/user-guide/contribution/rule-node-development/"></a>
  </div>
</div>


<div class="item item-pe" data-title="White-labeling">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/pe/user-guide/white-labeling/"></a>


<a class="item" data-title="Self-registration" href="/docs/pe/user-guide/self-registration/"></a>


<a class="item" data-title="Custom Translations" href="/docs/pe/user-guide/custom-translation/"></a>


<a class="item" data-title="Custom Menu" href="/docs/pe/user-guide/custom-menu/"></a>
  </div>
</div>


<div class="item item-pe" data-title="Integrations">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/user-guide/integrations/"></a>


<a class="item" data-title="Remote Integrations" href="/docs/user-guide/integrations/remote-integrations/"></a>


<a class="item" data-title="HTTP" href="/docs/user-guide/integrations/http/"></a>


<a class="item" data-title="MQTT" href="/docs/user-guide/integrations/mqtt/"></a>


<a class="item" data-title="OPC-UA" href="/docs/user-guide/integrations/opc-ua/"></a>


<a class="item" data-title="Actility ThingPark" href="/docs/user-guide/integrations/thingpark/"></a>


<a class="item" data-title="TheThingsNetwork" href="/docs/user-guide/integrations/ttn/"></a>


<a class="item" data-title="TheThingsIndustries" href="/docs/user-guide/integrations/tti/"></a>


<a class="item" data-title="LORIOT" href="/docs/user-guide/integrations/loriot/"></a>


<a class="item" data-title="AWS IoT" href="/docs/user-guide/integrations/aws-iot/"></a>


<a class="item" data-title="AWS Kinesis" href="/docs/user-guide/integrations/aws-kinesis/"></a>


<a class="item" data-title="IBM Watson" href="/docs/user-guide/integrations/ibm-watson-iot/"></a>


<a class="item" data-title="Azure Event Hub" href="/docs/user-guide/integrations/azure-event-hub/"></a>


<a class="item" data-title="Azure IoT Hub" href="/docs/user-guide/integrations/azure-iot-hub/"></a>


<a class="item" data-title="TCP" href="/docs/user-guide/integrations/tcp/"></a>


<a class="item" data-title="UDP" href="/docs/user-guide/integrations/udp/"></a>


<a class="item" data-title="SigFox" href="/docs/user-guide/integrations/sigfox/"></a>


<a class="item" data-title="Ocean Connect" href="/docs/user-guide/integrations/ocean-connect/"></a>


<a class="item" data-title="Custom Integration development guide" href="/docs/user-guide/integrations/custom/"></a>


<a class="item" data-title="Notifications and Alarms on your smartphone using Telegram Bot" href="/docs/user-guide/rule-engine-2-0/tutorials/integration-with-telegram-bot/"></a>
  </div>
</div>


<div class="item" data-title="Analytics">
  <div class="container">


<a class="item" data-title="Trendz Analytics" href="/docs/trendz/"></a>


<a class="item" data-title="Kafka Streams" href="/docs/samples/analytics/kafka-streams/"></a>
  </div>
</div>


<div class="item" data-title="Other Features">
  <div class="container">


<a class="item" data-title="Device Connectivity Status" href="/docs/user-guide/device-connectivity-status/"></a>


<a class="item" data-title="Claiming Devices" href="/docs/user-guide/claiming-devices/"></a>


<a class="item item-new" data-title="Device provisioning" href="/docs/user-guide/device-provisioning/"></a>


<a class="item" data-title="Entity Views" href="/docs/user-guide/entity-views/"></a>


<a class="item" data-title="API Limits" href="/docs/user-guide/api-limits/"></a>


<a class="item item-new" data-title="Bulk Provisioning" href="/docs/user-guide/bulk-provisioning/"></a>


<a class="item item-pe" data-title="Entity Groups" href="/docs/pe/user-guide/groups/"></a>


<a class="item item-pe" data-title="Scheduler" href="/docs/pe/user-guide/scheduler/"></a>


<a class="item item-pe" data-title="Reporting" href="/docs/pe/user-guide/reporting/"></a>


<a class="item item-pe" data-title="CSV/XLS data export" href="/docs/pe/user-guide/csv-xls-data-export/"></a>


<a class="item item-pe" data-title="File Storage" href="/docs/pe/user-guide/file-storage/"></a>
  </div>
</div>


<div class="item" data-title="Security">
  <div class="container">


<a class="item" data-title="Audit Log" href="/docs/user-guide/audit-log/"></a>


<a class="item item-pe" data-title="Advanced RBAC for IoT" href="/docs/pe/user-guide/rbac/"></a>


<a class="item" data-title="OAuth 2 Support" href="/docs/user-guide/oauth-2-support/"></a>


<a class="item" data-title="MQTT over SSL" href="/docs/user-guide/mqtt-over-ssl/"></a>


<a class="item" data-title="Device authentication options" href="/docs/user-guide/device-credentials/"></a>


<a class="item" data-title="Access Token based authentication" href="/docs/user-guide/access-token/"></a>


<a class="item" data-title="Basic MQTT Credentials" href="/docs/user-guide/basic-mqtt/"></a>


<a class="item" data-title="X.509 Certificate based authentication" href="/docs/user-guide/certificates/"></a>
  </div>
</div>


<div class="item" data-title="Administration UI">
  <div class="container">


<a class="item" data-title="Tenants" href="/docs/user-guide/ui/tenants/"></a>


<a class="item" data-title="Customers" href="/docs/user-guide/ui/customers/"></a>


<a class="item" data-title="Users" href="/docs/user-guide/ui/users/"></a>


<a class="item" data-title="Assets" href="/docs/user-guide/ui/assets/"></a>


<a class="item" data-title="Devices" href="/docs/user-guide/ui/devices/"></a>


<a class="item" data-title="Rule Chains" href="/docs/user-guide/ui/rule-chains/"></a>


<div class="item" data-title="Widgets">
  <div class="container">


<a class="item item-new" data-title="Chart widgets" href="/docs/user-guide/ui/chart-widget/"></a>


<a class="item item-new" data-title="Entity Table widget" href="/docs/user-guide/ui/entity-table-widget/"></a>


<a class="item" data-title="Trip Animation widget" href="/docs/user-guide/ui/trip-animation-widget/"></a>


<a class="item" data-title="Advanced data key configuration" href="/docs/user-guide/ui/advanced-data-key-configuration/"></a>
  </div>
</div>


<a class="item" data-title="Dashboards" href="/docs/user-guide/ui/dashboards/"></a>


<a class="item" data-title="SMS Provider Settings" href="/docs/user-guide/ui/sms-provider-settings/"></a>


<a class="item" data-title="Mail Settings" href="/docs/user-guide/ui/mail-settings/"></a>
  </div>
</div>


<div class="item" data-title="Contribution Guide">
  <div class="container">


<a class="item" data-title="How to contribute" href="/docs/user-guide/contribution/how-to-contribute/"></a>


<a class="item" data-title="How to contribute your device integration guide" href="/docs/user-guide/contribution/how-to-contribute-your-device-integration-guide/"></a>


<a class="item" data-title="Rule Node development" href="/docs/user-guide/contribution/rule-node-development/"></a>


<a class="item" data-title="Widgets development (ThingsBoard v3.x)" href="/docs/user-guide/contribution/widgets-development/"></a>


<a class="item" data-title="Widgets development (ThingsBoard v2.x)" href="/docs/user-guide/contribution/widgets-development-before-3.0/"></a>
  </div>
</div>


<a class="item" data-title="Troubleshooting" href="/docs/user-guide/troubleshooting/"></a>


<a class="item" data-title="Release Notes" href="/docs/reference/releases/"></a>


<a class="item" data-title="Roadmap" href="/docs/reference/roadmap/"></a>
        </div> <!-- /pi-accordion -->
  </div> <!-- /docsToc -->
  
  <div id="docsContent" class=" hasTocContent">
      <div id="table-of-contents">
          
      </div>
      <div id="top-spacer"></div>
      <h1>Troubleshooting</h1>
      <div id="content">
          
<h2 id="possible-performance-issues">Possible performance issues</h2>

<p>Here we will describe different possible scenarios of what may go wrong.</p>

<div class="tb-content-toggle" id="scenario">
  <div class="panel panel-default">
    <div class="panel-heading">
<a class="content-toggle-button" data-target="#no-message-processing">
                <div class="content-toggle-button-text">
                    No Message Processing
                </div>
            </a> <a class="content-toggle-button" data-target="#growing-latency">
                <div class="content-toggle-button-text">
                    Growing Latency For Messages
                </div>
            </a>
    </div>
    <div id="no-message-processing" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>If you are using <code class="language-plaintext highlighter-rouge">RETRY_ALL, RETRY_FAILED, RETRY_TIMED_OUT</code> or <code class="language-plaintext highlighter-rouge">RETRY_FAILED_AND_TIMED_OUT</code> strategy for some rule-engine queue, it is possible that some failed node could block the whole processing of the messages in this queue.</p>

<p>Here what you can do to find the reason of the issue:</p>

<ul>
  <li>
    <p>Analyze <a href="/docs/user-guide/rule-engine-2-0/overview/#rule-engine-statistics">Rule Engine Statistics Dashboard</a>. Here you can find out if some of your messages failed or timed-out.
Also in the bottom side of the dashboard you can find description of the exceptions inside the rule-engine with the name of the problematic rule-node.</p>
  </li>
  <li>
    <p>After finding out what rule-node is failing you can <a href="/docs/user-guide/rule-engine-2-0/overview/#debugging">enable DEBUG</a> and see what messages cause the failure of the rule-node and look at the detailed error description.</p>
  </li>
</ul>

<p><strong>Tip:</strong> Separate unstable and test use-cases from other rule-engine by creating a separate queue. In this case failure will only affect the processing of this separate queue, and not the whole system.
You can configure this logic to happen automatically for the device by using <a href="/docs/user-guide/device-profiles/#queue-name">Device Profile</a> feature.</p>

<p><strong>Tip:</strong> Handle <strong>Failure</strong> events for all rule-nodes that connect to some external service (REST API call, Kafka, MQTT etc).
This way you guaranty that your rule-engine processing won’t stop in case of some failure on the side of external system.
You can store failed message in DB, send some notification or just <strong>log</strong> message.</p>

</td></tr></table>
      </div>
    </div>
    <div id="growing-latency" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>Sometimes you can experience growing latency of message processing inside the rule-engine. Here are the steps you can take to discover the reason for the issue:</p>
<ul>
  <li>
    <p>Check if there are timeouts in <a href="/docs/user-guide/rule-engine-2-0/overview/#rule-engine-statistics">Rule Engine Statistics Dashboard</a>. Timeouts in rule-nodes slow down the processing of the queue and can lead to latency.</p>
  </li>
  <li><a href="#cpumemory-usage">Check CPU usage</a> for the following services:
    <ul>
      <li>ThingsBoard services (tb-nodes, tb-rule-engine and tb-core nodes, transport nodes). High CPU load on some services means that you need to scale up that part of the system.</li>
      <li>PostgreSQL and pgpool (if you are in <strong>high-availability</strong> mode). High load on Postgres can lead to slow processing of all Postgres-related rule-nodes (saving attributes, reading attributes etc), and the system in general.</li>
      <li>Cassandra (if you are using Cassandra as storage for timeseries data). High load on Cassandra can lead to slow processing of all Cassandra-related rule-nodes (saving timeseries etc).</li>
      <li>Queue. Regardless of the queue type, make sure that it always has enough resources.</li>
    </ul>
  </li>
  <li>
    <p>Check <a href="#consumer-group-message-lag-for-kafka-queue">consumer-group lag</a> (if you are using Kafka as queue).</p>
  </li>
  <li>
    <p>Enable <a href="#message-pack-processing-log">Message Pack Processing Log</a>. It will allow you to see the name of the slowest rule-node.</p>
  </li>
  <li>Separate your use-cases by different queues. If some group of your devices should be processed separately from other devices, you should <a href="/docs/user-guide/device-profiles/#queue-name">configure</a> the separate rule-engine queue for this group. Also, you can just separate messages based on some logic to different queues inside of the Root rule-engine. By doing this you guaranty that slow processing of one use-case will not affect the processing of the other use-case.</li>
</ul>

</td></tr></table>
      </div>
    </div>
  </div>
</div>

<script>
    jqueryUiDefer(initContentTogglescenario);
    function initContentTogglescenario() {
        $(function(){

            window.addEventListener('popstate', onPopStatescenario);

            onPopStatescenario();

            $('.tb-content-toggle#scenario a.content-toggle-button').click(function(event) {
                event.preventDefault();
                var id = $(this).attr("data-target").substring(1);
                var param = 'scenario';
                var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
                params[param] = id;

                var newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?' + Qs.stringify(params);
                if (window.location.hash) {
                    newurl += window.location.hash;
                }
                window.history.pushState({ path: newurl }, '', newurl);
                selectTargetscenario(id);
            });
        });
    }

    function onPopStatescenario() {
        var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
        var targetId = params['scenario'];
        if (!targetId) {
            targetId = 'no-message-processing';
        }
        selectTargetscenario(targetId);
    }

    function selectTargetscenario(targetId) {
        $(".tb-content-toggle#scenario a.content-toggle-button").removeClass("active");
        $(".tb-content-toggle#scenario a.content-toggle-button[data-target='#"+targetId+"']").addClass("active");
        $('.tb-content-toggle#scenario .panel-collapse').removeClass("show");
        $('.tb-content-toggle#scenario .panel-collapse#'+targetId).addClass("show");
    }

</script>

<h2 id="troubleshooting-instruments-and-tips">Troubleshooting instruments and tips</h2>

<h3 id="rule-engine-statistics-dashboard">Rule Engine Statistics Dashboard</h3>
<p>You can see if there are any Failures, Timeouts or Exceptions during the processing of your rule-chain. More detailed information you can find <a href="/docs/user-guide/rule-engine-2-0/overview/#rule-engine-statistics">here</a>.</p>

<h3 id="consumer-group-message-lag-for-kafka-queue">Consumer group message lag for Kafka Queue</h3>

<p><strong>Note:</strong> This method can be used only if Kafka is selected as a queue.</p>

<p>With this log you can identify if there’s some issue with processing of your messages (since Queue is used for all messaging inside the system you can analyze not only rule-engine queues but also <strong>transport</strong>, <strong>core</strong> etc).
For more detailed information about troubleshooting rule-engine processing using consumer-group lag click <a href="/docs/user-guide/rule-engine-2-0/overview/#troubleshooting">here</a>.</p>

<h3 id="cpumemory-usage">CPU/Memory Usage</h3>

<p>Sometimes the problem is that you don’t have enough resources for some service. You can view CPU and Memory usage by logging into your server/container/pod and executing <code class="language-plaintext highlighter-rouge">top</code> linux command.</p>

<p>For the more convenient monitoring it is better to have configured Prometheus and Grafana.</p>

<p>If you see that some services sometimes use 100% of the CPU, you should either scale the service horizontally by creating new nodes in cluster or scale it vertically by increasing the total amount of CPU.</p>

<h3 id="message-pack-processing-log">Message Pack Processing Log</h3>

<p>You can enable logging of the slowest and most frequently called rule-nodes.
To do this you need to <a href="#enable-certain-logs">update your logging configuration</a> with the following <em>logger</em>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>&lt;logger <span class="nv">name</span><span class="o">=</span><span class="s2">"org.thingsboard.server.service.queue.TbMsgPackProcessingContext"</span> <span class="nv">level</span><span class="o">=</span><span class="s2">"DEBUG"</span> /&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<p>After this you can find the following messages in your <a href="#logs">logs</a>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>2021-03-24 17:01:21,023 <span class="o">[</span>tb-rule-engine-consumer-24-thread-3] DEBUG o.t.s.s.q.TbMsgPackProcessingContext - Top Rule Nodes by max execution <span class="nb">time</span>:
2021-03-24 17:01:21,024 <span class="o">[</span>tb-rule-engine-consumer-24-thread-3] DEBUG o.t.s.s.q.TbMsgPackProcessingContext - <span class="o">[</span>Main][3f740670-8cc0-11eb-bcd9-d343878c0c7f] max execution <span class="nb">time</span>: 1102. <span class="o">[</span>RuleChain: Thermostat|RuleNode: Device Profile Node<span class="o">(</span>3f740670-8cc0-11eb-bcd9-d343878c0c7f<span class="o">)]</span>
2021-03-24 17:01:21,024 <span class="o">[</span>tb-rule-engine-consumer-24-thread-3] DEBUG o.t.s.s.q.TbMsgPackProcessingContext - <span class="o">[</span>Main][3f6debf0-8cc0-11eb-bcd9-d343878c0c7f] max execution <span class="nb">time</span>: 1. <span class="o">[</span>RuleChain: Thermostat|RuleNode: Message Type Switch<span class="o">(</span>3f6debf0-8cc0-11eb-bcd9-d343878c0c7f<span class="o">)]</span>
2021-03-24 17:01:21,024 <span class="o">[</span>tb-rule-engine-consumer-24-thread-3] INFO  o.t.s.s.q.TbMsgPackProcessingContext - Top Rule Nodes by avg execution <span class="nb">time</span>:
2021-03-24 17:01:21,024 <span class="o">[</span>tb-rule-engine-consumer-24-thread-3] INFO  o.t.s.s.q.TbMsgPackProcessingContext - <span class="o">[</span>Main][3f740670-8cc0-11eb-bcd9-d343878c0c7f] avg execution <span class="nb">time</span>: 604.0. <span class="o">[</span>RuleChain: Thermostat|RuleNode: Device Profile Node<span class="o">(</span>3f740670-8cc0-11eb-bcd9-d343878c0c7f<span class="o">)]</span>
2021-03-24 17:01:21,025 <span class="o">[</span>tb-rule-engine-consumer-24-thread-3] INFO  o.t.s.s.q.TbMsgPackProcessingContext - <span class="o">[</span>Main][3f6debf0-8cc0-11eb-bcd9-d343878c0c7f] avg execution <span class="nb">time</span>: 1.0. <span class="o">[</span>RuleChain: Thermostat|RuleNode: Message Type Switch<span class="o">(</span>3f6debf0-8cc0-11eb-bcd9-d343878c0c7f<span class="o">)]</span>
2021-03-24 17:01:21,025 <span class="o">[</span>tb-rule-engine-consumer-24-thread-3] INFO  o.t.s.s.q.TbMsgPackProcessingContext - Top Rule Nodes by execution count:
2021-03-24 17:01:21,025 <span class="o">[</span>tb-rule-engine-consumer-24-thread-3] INFO  o.t.s.s.q.TbMsgPackProcessingContext - <span class="o">[</span>Main][3f740670-8cc0-11eb-bcd9-d343878c0c7f] execution count: 2. <span class="o">[</span>RuleChain: Thermostat|RuleNode: Device Profile Node<span class="o">(</span>3f740670-8cc0-11eb-bcd9-d343878c0c7f<span class="o">)]</span>
2021-03-24 17:01:21,028 <span class="o">[</span>tb-rule-engine-consumer-24-thread-3] INFO  o.t.s.s.q.TbMsgPackProcessingContext - <span class="o">[</span>Main][3f6debf0-8cc0-11eb-bcd9-d343878c0c7f] execution count: 1. <span class="o">[</span>RuleChain: Thermostat|RuleNode: Message Type Switch<span class="o">(</span>3f6debf0-8cc0-11eb-bcd9-d343878c0c7f<span class="o">)]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="clearing-redis-cache">Clearing Redis Cache</h3>

<p><strong>Note:</strong> This can be used only if Redis is selected as a cache.</p>

<p>It is possible that the data inside the cache somehow got corrupted. Regardless of the reason, it is always safe to clear cache, ThingsBoard will just refill it at the runtime.
To clear Redis cache you need to log into the server/container/pod with Redis on it and call <code class="language-plaintext highlighter-rouge">redis-cli FLUSHALL</code> command.</p>

<p>So if you are struggling with identifying the reason of some problem, you can safely clear Redis cache to make sure it isn’t the reason of the issue.</p>

<h2 id="logs">Logs</h2>

<h3 id="read-logs">Read logs</h3>

<p>Regardless of the deployment type, ThingsBoard logs are stored on the same server/container as ThingsBoard Server/Node itself in the following directory:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>/var/log/thingsboard
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Different deployment tools provide different ways to view logs:</p>

<div class="tb-content-toggle" id="deploymentType">
  <div class="panel panel-default">
    <div class="panel-heading">
<a class="content-toggle-button" data-target="#standalone">
                <div class="content-toggle-button-text">
                    Standalone Deployment
                </div>
            </a> <a class="content-toggle-button" data-target="#docker-compose">
                <div class="content-toggle-button-text">
                    Docker-Compose Deployment
                </div>
            </a> <a class="content-toggle-button" data-target="#kubernetes">
                <div class="content-toggle-button-text">
                    Kubernetes Deployment
                </div>
            </a>
    </div>
    <div id="standalone" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>View last logs in runtime:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">tail</span> <span class="nt">-f</span> /var/log/thingsboard/thingsboard.log
</pre></td></tr></tbody></table></code></pre></div></div>

<p>You can use <strong>grep</strong> command to show only the output with desired string in it. 
For example you can use the following command in order to check if there are any errors on the backend side:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">cat</span> /var/log/thingsboard/thingsboard.log | <span class="nb">grep </span>ERROR
</pre></td></tr></tbody></table></code></pre></div></div>

</td></tr></table>
      </div>
    </div>
    <div id="docker-compose" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>View last logs in runtime:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker-compose logs <span class="nt">-f</span> tb-core1 tb-core2 tb-rule-engine1 tb-rule-engine2
</pre></td></tr></tbody></table></code></pre></div></div>

<p>If you suspect the issue is related only to rule-engine, you can filter and view only the rule-engine logs:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker-compose logs <span class="nt">-f</span> tb-rule-engine1 tb-rule-engine2
</pre></td></tr></tbody></table></code></pre></div></div>

<p>You can use <strong>grep</strong> command to show only the output with desired string in it. 
For example you can use the following command in order to check if there are any errors on the backend side:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker-compose logs tb-core1 tb-core2 tb-rule-engine1 tb-rule-engine2 | <span class="nb">grep </span>ERROR
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Tip:</strong> you can redirect logs to file and then analyze with any text editor:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>docker-compose logs <span class="nt">-f</span> tb-rule-engine1 tb-rule-engine2 <span class="o">&gt;</span> rule-engine.log
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Note:</strong> you can always log into the ThingsBoard container and view logs there:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>docker ps
docker <span class="nb">exec</span> <span class="nt">-it</span> NAME_OF_THE_CONTAINER bash
</pre></td></tr></tbody></table></code></pre></div></div>

</td></tr></table>
      </div>
    </div>
    <div id="kubernetes" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>View all pods of the cluster:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>kubectl get pods
</pre></td></tr></tbody></table></code></pre></div></div>

<p>View last logs for the desired pod:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>kubectl logs <span class="nt">-f</span> POD_NAME
</pre></td></tr></tbody></table></code></pre></div></div>

<p>To view ThingsBoard node logs use command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>kubectl logs <span class="nt">-f</span> tb-node-0
</pre></td></tr></tbody></table></code></pre></div></div>

<p>You can use <strong>grep</strong> command to show only the output with desired string in it. 
For example you can use the following command in order to check if there are any errors on the backend side:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>kubectl logs <span class="nt">-f</span> tb-node-0 | <span class="nb">grep </span>ERROR
</pre></td></tr></tbody></table></code></pre></div></div>

<p>If you have multiple nodes you could redirect logs from all nodes to files on you machine and then analyze them:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>kubectl logs <span class="nt">-f</span> tb-node-0 <span class="o">&gt;</span> tb-node-0.log
kubectl logs <span class="nt">-f</span> tb-node-1 <span class="o">&gt;</span> tb-node-1.log
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Note:</strong> you can always log into the ThingsBoard container and view logs there:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>kubectl <span class="nb">exec</span> <span class="nt">-it</span> tb-node-0 <span class="nt">--</span> bash
<span class="nb">cat</span> /var/log/thingsboard/tb-node-0/thingsboard.log
</pre></td></tr></tbody></table></code></pre></div></div>

</td></tr></table>
      </div>
    </div>
  </div>
</div>

<script>
    jqueryUiDefer(initContentToggledeploymentType);
    function initContentToggledeploymentType() {
        $(function(){

            window.addEventListener('popstate', onPopStatedeploymentType);

            onPopStatedeploymentType();

            $('.tb-content-toggle#deploymentType a.content-toggle-button').click(function(event) {
                event.preventDefault();
                var id = $(this).attr("data-target").substring(1);
                var param = 'deploymentType';
                var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
                params[param] = id;

                var newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?' + Qs.stringify(params);
                if (window.location.hash) {
                    newurl += window.location.hash;
                }
                window.history.pushState({ path: newurl }, '', newurl);
                selectTargetdeploymentType(id);
            });
        });
    }

    function onPopStatedeploymentType() {
        var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
        var targetId = params['deploymentType'];
        if (!targetId) {
            targetId = 'standalone';
        }
        selectTargetdeploymentType(targetId);
    }

    function selectTargetdeploymentType(targetId) {
        $(".tb-content-toggle#deploymentType a.content-toggle-button").removeClass("active");
        $(".tb-content-toggle#deploymentType a.content-toggle-button[data-target='#"+targetId+"']").addClass("active");
        $('.tb-content-toggle#deploymentType .panel-collapse').removeClass("show");
        $('.tb-content-toggle#deploymentType .panel-collapse#'+targetId).addClass("show");
    }

</script>

<h3 id="enable-certain-logs">Enable certain logs</h3>

<p>ThingsBoard provides the ability to enable/disable logging for certain parts of the system depending on what information do you need for troubleshooting.</p>

<p>You can do this by modifying <strong>logback.xml</strong> file. As logs itself, it is stored on the same server/container as ThingsBoard Server/Node in the following directory:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>/usr/share/thingsboard/conf
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Here’s an example of the <strong>logback.xml</strong> configuration:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre>&lt;<span class="o">!</span>DOCTYPE configuration&gt;
&lt;configuration <span class="nv">scan</span><span class="o">=</span><span class="s2">"true"</span> <span class="nv">scanPeriod</span><span class="o">=</span><span class="s2">"10 seconds"</span><span class="o">&gt;</span>

    &lt;appender <span class="nv">name</span><span class="o">=</span><span class="s2">"fileLogAppender"</span>
              <span class="nv">class</span><span class="o">=</span><span class="s2">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="o">&gt;</span>
        &lt;file&gt;/var/log/thingsboard/thingsboard.log&lt;/file&gt;
        &lt;rollingPolicy
                <span class="nv">class</span><span class="o">=</span><span class="s2">"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy"</span><span class="o">&gt;</span>
            &lt;fileNamePattern&gt;/var/log/thingsboard/thingsboard.%d<span class="o">{</span>yyyy-MM-dd<span class="o">}</span>.%i.log&lt;/fileNamePattern&gt;
            &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;
            &lt;maxHistory&gt;30&lt;/maxHistory&gt;
            &lt;totalSizeCap&gt;3GB&lt;/totalSizeCap&gt;
        &lt;/rollingPolicy&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;%d<span class="o">{</span>ISO8601<span class="o">}</span> <span class="o">[</span>%thread] %-5level %logger<span class="o">{</span>36<span class="o">}</span> - %msg%n&lt;/pattern&gt;
        &lt;/encoder&gt;
    &lt;/appender&gt;

    &lt;logger <span class="nv">name</span><span class="o">=</span><span class="s2">"org.thingsboard.server"</span> <span class="nv">level</span><span class="o">=</span><span class="s2">"INFO"</span> /&gt;
    &lt;logger <span class="nv">name</span><span class="o">=</span><span class="s2">"org.thingsboard.js.api"</span> <span class="nv">level</span><span class="o">=</span><span class="s2">"TRACE"</span> /&gt;
    &lt;logger <span class="nv">name</span><span class="o">=</span><span class="s2">"com.microsoft.azure.servicebus.primitives.CoreMessageReceiver"</span> <span class="nv">level</span><span class="o">=</span><span class="s2">"OFF"</span> /&gt;

    &lt;root <span class="nv">level</span><span class="o">=</span><span class="s2">"INFO"</span><span class="o">&gt;</span>
        &lt;appender-ref <span class="nv">ref</span><span class="o">=</span><span class="s2">"fileLogAppender"</span>/&gt;
    &lt;/root&gt;
&lt;/configuration&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The most useful for the troubleshooting parts of the config files are <em>loggers</em>.
They allow you to enable/disable logging for the certain class or group of classes.
In the example above the default logging level is <strong>INFO</strong> (it means that logs will contain only general information, warnings and errors), but for the package <code class="language-plaintext highlighter-rouge">org.thingsboard.js.api</code> we enabled the most detailed level of logging.
There’s also a possibility to completely disable logs for some part of the system, in the example above we did it to <code class="language-plaintext highlighter-rouge">com.microsoft.azure.servicebus.primitives.CoreMessageReceiver</code> class using <strong>OFF</strong> log-level.</p>

<p>To enable/disable logging for some part of the system you need to add proper <code class="language-plaintext highlighter-rouge">&lt;/logger&gt;</code> configuration and wait up to 10 seconds.</p>

<p>Different deployment tools provide different ways to update logs:</p>

<div class="tb-content-toggle" id="deploymentType">
  <div class="panel panel-default">
    <div class="panel-heading">
<a class="content-toggle-button" data-target="#standalone">
                <div class="content-toggle-button-text">
                    Standalone Deployment
                </div>
            </a> <a class="content-toggle-button" data-target="#docker-compose">
                <div class="content-toggle-button-text">
                    Docker-Compose Deployment
                </div>
            </a> <a class="content-toggle-button" data-target="#kubernetes">
                <div class="content-toggle-button-text">
                    Kubernetes Deployment
                </div>
            </a>
    </div>
    <div id="standalone" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>For standalone deployment you need to update <code class="language-plaintext highlighter-rouge">/usr/share/thingsboard/conf/logback.xml</code> in order to change logging configuration.</p>

</td></tr></table>
      </div>
    </div>
    <div id="docker-compose" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>For docker-compose deployment we are mapping <code class="language-plaintext highlighter-rouge">/config</code> folder to your local system (<code class="language-plaintext highlighter-rouge">./tb-node/conf</code> folder).
So in order to change logging configuration you need to update <code class="language-plaintext highlighter-rouge">./tb-node/conf/logback.xml</code> file.</p>

</td></tr></table>
      </div>
    </div>
    <div id="kubernetes" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>For kubernetes deployment we are using <strong>ConfigMap</strong> kubernetes entity to provide tb-nodes with logback configuration.
So in order to update <strong>logback.xml</strong> you need to do the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>edit common/tb-node-configmap.yml
kubectl apply <span class="nt">-f</span> common/tb-node-configmap.yml
</pre></td></tr></tbody></table></code></pre></div></div>

<p>After 10 seconds the changes should be applied to logging configuration.</p>

</td></tr></table>
      </div>
    </div>
  </div>
</div>

<script>
    jqueryUiDefer(initContentToggledeploymentType);
    function initContentToggledeploymentType() {
        $(function(){

            window.addEventListener('popstate', onPopStatedeploymentType);

            onPopStatedeploymentType();

            $('.tb-content-toggle#deploymentType a.content-toggle-button').click(function(event) {
                event.preventDefault();
                var id = $(this).attr("data-target").substring(1);
                var param = 'deploymentType';
                var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
                params[param] = id;

                var newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?' + Qs.stringify(params);
                if (window.location.hash) {
                    newurl += window.location.hash;
                }
                window.history.pushState({ path: newurl }, '', newurl);
                selectTargetdeploymentType(id);
            });
        });
    }

    function onPopStatedeploymentType() {
        var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
        var targetId = params['deploymentType'];
        if (!targetId) {
            targetId = 'standalone';
        }
        selectTargetdeploymentType(targetId);
    }

    function selectTargetdeploymentType(targetId) {
        $(".tb-content-toggle#deploymentType a.content-toggle-button").removeClass("active");
        $(".tb-content-toggle#deploymentType a.content-toggle-button[data-target='#"+targetId+"']").addClass("active");
        $('.tb-content-toggle#deploymentType .panel-collapse').removeClass("show");
        $('.tb-content-toggle#deploymentType .panel-collapse#'+targetId).addClass("show");
    }

</script>

<h2 id="metrics">Metrics</h2>

<p>You may enable prometheus metrics by setting environment variables <code class="language-plaintext highlighter-rouge">METRICS_ENABLED</code> to value <code class="language-plaintext highlighter-rouge">true</code> and <code class="language-plaintext highlighter-rouge">METRICS_ENDPOINTS_EXPOSE</code> to value <code class="language-plaintext highlighter-rouge">prometheus</code> in the configuration file.
If you are running ThingsBoard as microservices with separate services for MQTT and COAP transport, you also need to set environment variables <code class="language-plaintext highlighter-rouge">WEB_APPLICATION_ENABLE</code> to value <code class="language-plaintext highlighter-rouge">true</code>, 
<code class="language-plaintext highlighter-rouge">WEB_APPLICATION_TYPE</code> to value <code class="language-plaintext highlighter-rouge">servlet</code> and <code class="language-plaintext highlighter-rouge">HTTP_BIND_PORT</code> to value <code class="language-plaintext highlighter-rouge">8081</code> for MQTT and COAP services in order to enable web-server with Prometheus metrics.</p>

<p>These metrics are exposed at the path: <code class="language-plaintext highlighter-rouge">https://&lt;yourhostname&gt;/actuator/prometheus</code> which can be scraped by prometheus (No authentication required).</p>

<h2 id="prometheus-metrics">Prometheus metrics</h2>

<p>Some internal state metrics can be exposed by the Spring Actuator using Prometheus.</p>

<p>Here’s the list of metrics ThingsBoard pushes to Prometheus.</p>

<h4 id="tb-node-metrics"><strong>tb-node</strong> metrics:</h4>
<ul>
  <li><em>attributes_queue_${index_of_queue}</em> (statsNames - <em>totalMsgs, failedMsgs, successfulMsgs</em>): stats about writing <strong>attributes</strong> to the database. 
Note that there are several queues (threads) for persisting attributes in order to reach maximum performance.</li>
  <li><em>ruleEngine_${name_of_queue}</em> (statsNames - <em>totalMsgs, failedMsgs, successfulMsgs, tmpFailed, failedIterations, successfulIterations, timeoutMsgs, tmpTimeout</em>): 
stats about processing of the messages inside of the Rule Engine. They are persisted for each queue (e.g. Main, HighPriority, SequentialByOriginator etc).
Some stats descriptions:
    <ul>
      <li><em>tmpFailed</em>: number of messages that failed and got reprocessed later</li>
      <li><em>tmpTimeout</em>: number of messages that timed out and got reprocessed later</li>
      <li><em>timeoutMsgs</em>: number of messages that timed out and were discarded afterwards</li>
      <li><em>failedIterations</em>: iterations of processing messages pack where at least one message wasn’t processed successfully</li>
    </ul>
  </li>
  <li><em>ruleEngine_${name_of_queue}_seconds</em> (for each present <em>tenantId</em>): stats about the time message processing took for different queues.</li>
  <li><em>core</em> (statsNames - <em>totalMsgs, toDevRpc, coreNfs, sessionEvents, subInfo, subToAttr, subToRpc, deviceState, getAttr, claimDevice, subMsgs</em>): 
stats about processing of the internal system messages.
Some stats descriptions:
    <ul>
      <li><em>toDevRpc</em>: number of processed RPC responses from Transport services</li>
      <li><em>sessionEvents</em>: number of session events from Transport services</li>
      <li><em>subInfo</em>: number of subscription infos from Transport services</li>
      <li><em>subToAttr</em>: number of subscribes to attribute updates from Transport services</li>
      <li><em>subToRpc</em>: number of subscribes to RPC from Transport services</li>
      <li><em>getAttr</em>: number of ‘get attributes’ requests from Transport services</li>
      <li><em>claimDevice</em>: number of Device claims from Transport services</li>
      <li><em>deviceState</em>: number of processed changes to Device State</li>
      <li><em>subMsgs</em>: number of processed subscriptions</li>
      <li><em>coreNfs</em>: number of processed specific ‘system’ messages</li>
    </ul>
  </li>
  <li><em>jsInvoke</em> (statsNames - <em>requests, responses, failures</em>): stats about total, successful and failed requests to the JS executors</li>
  <li><em>attributes_cache</em> (results - <em>hit, miss</em>): stats about how much attribute requests went to the cache</li>
</ul>

<h4 id="transport-metrics"><strong>transport</strong> metrics:</h4>
<ul>
  <li><em>transport</em> (statsNames - <em>totalMsgs, failedMsgs, successfulMsgs</em>): stats about requests received by Transport from TB nodes</li>
  <li><em>ruleEngine_producer</em> (statsNames - <em>totalMsgs, failedMsgs, successfulMsgs</em>): stats about pushing messages from Transport to the Rule Engine.</li>
  <li><em>core_producer</em> (statsNames - <em>totalMsgs, failedMsgs, successfulMsgs</em>): stats about pushing messages from Transport to the TB node Device actor.</li>
  <li><em>transport_producer</em> (statsNames - <em>totalMsgs, failedMsgs, successfulMsgs</em>): stats about requests from Transport to the TB.</li>
</ul>

<p><strong>Some metrics depends on the type of the database you are using to persist timeseries data.</strong></p>

<h4 id="postgresql-specific-metrics">PostgreSQL-specific metrics:</h4>
<ul>
  <li><em>ts_latest_queue_${index_of_queue}</em> (statsNames - <em>totalMsgs, failedMsgs, successfulMsgs</em>): stats about writing <strong>latest telemetry</strong> to the database. 
Note that there are several queues (threads) in order to reach maximum performance.</li>
  <li><em>ts_queue_${index_of_queue}</em> (statsNames - <em>totalMsgs, failedMsgs, successfulMsgs</em>): stats about writing <strong>telemetry</strong> to the database. 
Note that there are several queues (threads) in order to reach maximum performance.</li>
</ul>

<h4 id="cassandra-specific-metrics">Cassandra-specific metrics:</h4>
<ul>
  <li><em>rateExecutor_currBuffer</em>: number of messages that are currently being persisted inside the Cassandra.</li>
  <li><em>rateExecutor_tenant</em> (for each present <em>tenantId</em>): number of requests that got rate-limited</li>
  <li><em>rateExecutor</em> (statsNames - <em>totalAdded, totalRejected, totalLaunched, totalReleased, totalFailed, totalExpired, totalRateLimited</em>)
Stats descriptions:
    <ul>
      <li><em>totalAdded</em>: number messages that were submitted for persisting</li>
      <li><em>totalRejected</em>: number messages that were rejected while trying to submit for persisting</li>
      <li><em>totalLaunched</em>: number messages sent to the Cassandra</li>
      <li><em>totalReleased</em>: number successfully persisted messages</li>
      <li><em>totalFailed</em>: number of messages that were not persisted</li>
      <li><em>totalExpired</em>: number of expired messages that were not sent to the Cassandra</li>
      <li><em>totalRateLimited</em>: number of messages that were not processed because of the Tenant’s rate-limits</li>
    </ul>
  </li>
</ul>

<h2 id="grafana-dashboards">Grafana Dashboards</h2>

<p>You can import preconfigured Grafana dashboards from <a href="https://github.com/thingsboard/thingsboard/tree/master/docker/monitoring/grafana/provisioning/dashboards">here</a>. 
<strong>Note:</strong> Depending on the cluster configuration you may need to make changes to the dashboards.</p>

<p>Also, you can view Grafana dashboards after deploying ThingsBoards docker-compose cluster configuration (for more information please follow <a href="/docs/user-guide/install/cluster/docker-compose-setup/">this guide</a>).
Make sure that <code class="language-plaintext highlighter-rouge">MONITORING_ENABLED</code> environment variable is set to <code class="language-plaintext highlighter-rouge">true</code>. 
After deployment, you will be able to reach Prometheus at <code class="language-plaintext highlighter-rouge">http://localhost:9090</code> and Grafana at <code class="language-plaintext highlighter-rouge">http://localhost:3000</code> (default login is <code class="language-plaintext highlighter-rouge">admin</code> and password <code class="language-plaintext highlighter-rouge">foobar</code>).</p>

<p>Here’s screenshots of default preconfigured Grafana dashboards:</p>

<div id="0">
  <div itemscope="" itemtype="http://schema.org/ImageGallery" class="images-gallery" style="justify-content: start;">
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/user-guide/troubleshooting/attributes-cache-grafana.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/user-guide/troubleshooting/attributes-cache-grafana-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none">
Statistics about Attributes cache efficiency.
      </figcaption>
    </figure>
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/user-guide/troubleshooting/core-and-js-metrics-grafana.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/user-guide/troubleshooting/core-and-js-metrics-grafana-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none">
Statistics about requests to TB Core and JS processors.
      </figcaption>
    </figure>
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/user-guide/troubleshooting/db-metrics-grafana.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/user-guide/troubleshooting/db-metrics-grafana-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none">
Statistics about `attributes` and `timeseries` persistence to the PostgreSQL.
      </figcaption>
    </figure>
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/user-guide/troubleshooting/rule-engine-latency-grafana.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/user-guide/troubleshooting/rule-engine-latency-grafana-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none">
Statistics about time it took to process messages inside of the Rule Engine.
      </figcaption>
    </figure>
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/user-guide/troubleshooting/rule-engine-metrics-grafana.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/user-guide/troubleshooting/rule-engine-metrics-grafana-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none">
Statistics about processing of the message inside of the Rule Engine.
      </figcaption>
    </figure>
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/user-guide/troubleshooting/single-service-metrics-grafana.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/user-guide/troubleshooting/single-service-metrics-grafana-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none">
Separate statistics for each service. You can choose the service in the upper left corner.
      </figcaption>
    </figure>
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/user-guide/troubleshooting/transport-metrics-grafana.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/user-guide/troubleshooting/transport-metrics-grafana-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none">
Statistics about messages in Transport services.
      </figcaption>
    </figure>
  </div>
</div>

<script>
    window.addEventListener("load", function() {
        window.removeEventListener("load", arguments.callee, false);

        if(!document.getElementsByClassName('pswp').length){
            document.body.insertAdjacentHTML('beforeend',
                '<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n' +
                '        <div class="pswp__bg"></div>\n' +
                '        <div class="pswp__scroll-wrap">\n' +
                '            <div class="pswp__container">\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '            </div>\n' +
                '\n' +
                '            <div class="pswp__ui pswp__ui--hidden">\n' +
                '\n' +
                '                <div class="pswp__top-bar">\n' +
                '                    <div class="pswp__counter"></div>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--share" title="Share"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n' +
                '\n' +
                '                    <div class="pswp__preloader">\n' +
                '                        <div class="pswp__preloader__icn">\n' +
                '                            <div class="pswp__preloader__cut">\n' +
                '                                <div class="pswp__preloader__donut"></div>\n' +
                '                            </div>\n' +
                '                        </div>\n' +
                '                    </div>\n' +
                '                </div>\n' +
                '                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">\n' +
                '                    <div class="pswp__share-tooltip"></div>\n' +
                '                </div>\n' +
                '                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n' +
                '                </button>\n' +
                '                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n' +
                '                </button>\n' +
                '                <div class="pswp__caption">\n' +
                '                    <div class="pswp__caption__center"></div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '    </div>'
            );
        }

        var container = document.getElementById('0');

        var initPhotoSwipeFromDOM = function(gallerySelector) {
            var parseThumbnailElements = function(el) {
                var thumbElements = el.childNodes,
                    numNodes = thumbElements.length,
                    items = [],
                    figureEl,
                    linkEl,
                    size,
                    item;

                for(var i = 0; i < numNodes; i++) {

                    figureEl = thumbElements[i];
                    if(figureEl.nodeType !== 1) {
                        continue;
                    }
                    linkEl = figureEl.children[0];
                    size = linkEl.children[0];
                    item = {
                        src: linkEl.getAttribute('href'),
                        w: 2500,
                        h: 0,
                        sizeLoaded: false
                    };

                    if(figureEl.children.length > 1) {
                        item.title = figureEl.children[1].innerHTML;
                    }
                    if(linkEl.children.length > 0) {
                        item.msrc = linkEl.children[0].getAttribute('src');
                    }
                    if(item.msrc === item.src){
                        item.w = parseInt(size.naturalWidth, 10);
                        item.h = parseInt(size.naturalHeight, 10);
                    }

                    item.el = figureEl;
                    items.push(item);
                }
                return items;
            };

            var closest = function closest(el, fn) {
                return el && ( fn(el) ? el : closest(el.parentNode, fn) );
            };

            var onThumbnailsClick = function(e) {
                e = e || window.event;
                e.preventDefault ? e.preventDefault() : e.returnValue = false;

                var eTarget = e.target || e.srcElement;

                var clickedListItem = closest(eTarget, function(el) {
                    return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');
                });

                if(!clickedListItem) {
                    return;
                }

                var clickedGallery = clickedListItem.parentNode,
                    childNodes = clickedListItem.parentNode.childNodes,
                    numChildNodes = childNodes.length,
                    nodeIndex = 0,
                    index;

                for (var i = 0; i < numChildNodes; i++) {
                    if(childNodes[i].nodeType !== 1) {
                        continue;
                    }

                    if(childNodes[i] === clickedListItem) {
                        index = nodeIndex;
                        break;
                    }
                    nodeIndex++;
                }

                if(index >= 0) {
                    openPhotoSwipe( index, clickedGallery );
                }
                return false;
            };

            var photoswipeParseHash = function() {
                var hash = window.location.hash.substring(1),
                    params = {};

                if(hash.length < 5) {
                    return params;
                }

                var vars = hash.split('&');
                for (var i = 0; i < vars.length; i++) {
                    if(!vars[i]) {
                        continue;
                    }
                    var pair = vars[i].split('=');
                    if(pair.length < 2) {
                        continue;
                    }
                    params[pair[0]] = pair[1];
                }

                if(params.gid) {
                    params.gid = parseInt(params.gid, 10);
                }

                return params;
            };

            var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {
                var pswpElement = document.querySelectorAll('.pswp')[0],
                    gallery,
                    options,
                    items;

                items = parseThumbnailElements(galleryElement);

                options = {
                    galleryUID: galleryElement.getAttribute('data-pswp-uid'),
                    getThumbBoundsFn: function(index) {
                        var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail
                            pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
                            rect = thumbnail.getBoundingClientRect();
                        return {x:rect.left, y:rect.top + pageYScroll, w:rect.width};
                    },
                    bgOpacity: 0.8,
                    closeOnScroll: false,
                    shareEl: false,
                    fullscreenEl: false,
                    zoomEl: true,
                    history: false,
                    loop: false
                };

                if(fromURL) {
                    if(options.galleryPIDs) {
                        for(var j = 0; j < items.length; j++) {
                            if(items[j].pid == index) {
                                options.index = j;
                                break;
                            }
                        }
                    } else {
                        options.index = parseInt(index, 10) - 1;
                    }
                } else {
                    options.index = parseInt(index, 10);
                }

                if( isNaN(options.index) ) {
                    return;
                }

                if(disableAnimation) {
                    options.showAnimationDuration = 0;
                }

                gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, items, options);

                gallery.listen('gettingData', function(index, item) {
                    if (!item.sizeLoaded) {
                        item.sizeLoaded = true;
                        var img = new Image();
                        img.onload = function() {
                            item.w = this.width;
                            item.h = this.height;
                            gallery.updateSize(true);
                        }
                        img.src = item.src;
                    }
                });

                gallery.init();

                var buttonLeft = pswpElement.getElementsByClassName('pswp__button--arrow--left')[0];
                var buttonRight = pswpElement.getElementsByClassName('pswp__button--arrow--right')[0];

                buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;

                gallery.listen('beforeChange', function() {
                        buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                        buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;
                    }
                );
            };

            var galleryElements = container.querySelectorAll( gallerySelector );

            for(var i = 0, l = galleryElements.length; i < l; i++) {
                galleryElements[i].setAttribute('data-pswp-uid', i+1);
                galleryElements[i].onclick = onThumbnailsClick;
            }

            var hashData = photoswipeParseHash();
            if(hashData.pid && hashData.gid) {
                openPhotoSwipe( hashData.pid ,  galleryElements[ hashData.gid - 1 ], true, true );
            }
        };

        initPhotoSwipeFromDOM('.images-gallery');
    }, false)
</script>

<h2 id="oauth2">OAuth2</h2>

<p>Sometimes after configuring OAuth you can not see the button for logging in with OAuth provider. This happens when “Domain name” and “Redirect URI Template” contain faulty values, they need to be the same you use for accessing your ThingsBoard web page.</p>

<p>Example:</p>

<table>
  <thead>
    <tr>
      <th>Base URL</th>
      <th>Domain name</th>
      <th>Redirect URI Template</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>http://mycompany.com:8080</td>
      <td>mycompany.com:8080</td>
      <td>http://mycompany.com:8080/login/oauth2/code</td>
    </tr>
    <tr>
      <td>https://mycompany.com</td>
      <td>mycompany.com</td>
      <td>https://mycompany.com/login/oauth2/code</td>
    </tr>
  </tbody>
</table>

<p>Base URL in “HOME” section should not contain “/” or other characters.</p>

<blockquote>
  <p>Go to your ThingsBoard as a System Administrator. Check the General
Settings -&gt; Base URL should not contain “/” at the end (e.g. “https://
mycompany.com ” instead of “https://mycompany.com/”).</p>
</blockquote>

<p>For OAuth2 configuration click <a href="/docs/user-guide/oauth-2-support/">here</a>.</p>

<h2 id="getting-help">Getting help</h2>

<section id="talkToUs">
  <div id="gettingHelp">
<a href="https://gitter.im/thingsboard/chat">         <h1 id="community-chat">Community chat</h1>
         <p>Our Gitter channel is the best way to contact our engineers and share your ideas with them.</p>
 </a> <a href="https://groups.google.com/forum/#!forum/thingsboard">         <h1 id="qa-forum">Q&amp;A forum</h1>
         <p>Our user forum is a great place to go for community support.</p>
 </a> <a href="http://stackoverflow.com/questions/tagged/thingsboard">         <h1 id="stack-overflow">Stack Overflow</h1>
         <p>The ThingsBoard team will also monitor posts tagged thingsboard. If there aren’t any existing questions that help, please ask a new one!</p>
 </a>
  </div>
</section>

<p>If your problem isn’t answered by any of the guides above, feel free to contact ThingsBoard team.</p>

<p><a class="button" href="/docs/contact-us/">Contact us</a></p>


      </div>
      <footer>
	<main class="light-text">
		<div class="newsletterSubsContainer">
            <script type="text/javascript">
                function subscribeForNewsletter(event) {
                    event.stopPropagation();
                    var script_tag = document.createElement('script');
                    script_tag.setAttribute("type", "text/javascript");
                    script_tag.setAttribute("src", "https://static.mailerlite.com/js/w/webforms.min.js?v28bf44f740701752bfc6767bc7e171d4");
                    document.getElementsByTagName("head")[0].appendChild(script_tag);
                    $(event.target).css('display', 'none');
                    $('#mlb2-7341216').css('display', 'block');
                }
            </script>
            <button class="n-button price subscribe" onClick="subscribeForNewsletter(event)">Sign up for ThingsBoard news</button>
            <div id="mlb2-7341216" class="ml-subscribe-form ml-subscribe-form-7341216" style="display: none;">
<!--            <div id="mlb2-7341216" class="ml-subscribe-form ml-subscribe-form-7341216" style="display: block;">-->
                <div class="ml-vertical-align-center">
                    <div class="subscribe-form ml-block-success" style="display: none;">
                        <div class="form-section">
                            <p>Thank you for your interest in ThingsBoard!<br/>Have a great day!</p>
                        </div>
                    </div>
                    <form class="ml-block-form" action="https://static.mailerlite.com/webforms/submit/r9r9x7" data-id="708170" data-code="r9r9x7" method="POST" target="_blank">
                        <div class="subscribe-form horizontal">
                            <div class="form-section horizontal">
                                <div class="form-group ml-field-email ml-validate-required ml-validate-email">
                                    <input type="email" name="fields[email]" class="form-control" placeholder="Email address*" value="" autocomplete="email" x-autocompletetype="email" spellcheck="false" autocapitalize="off" autocorrect="off">
                                </div>
                            </div>
                            <input type="hidden" name="ml-submit" value="1">
                            <div class="form-section horizontal ml-button-position">
                                <button class="primary n-button price subscribe" type="submit">
                                    Subscribe
                                </button>
                                <button disabled="disabled" style="display: none;" type="button" class="n-button loading">
                                    <img src="https://static.mailerlite.com/images/rolling@2x.gif" width="20" height="20" style="width: 20px; height: 20px;">
                                </button>
                            </div>
                            <p>By subscribing you agree to receive newsletters from ThingsBoard, Inc.</p>
                        </div>
                    </form>
                </div>
            </div>
		</div>

        <hr>

        <div class="deeper">
            <a href="/" class="footer-logo"></a>
            <nav>
                <a href="/docs/getting-started-guides/helloworld/">Get Started</a>
                <a href="/docs/">Documentation</a>
                <a href="/iot-use-cases/">Use cases</a>
                <a href="https://blog.thingsboard.io/">Blog</a>
                <a href="/docs/services/">Services</a>
                <a href="/docs/contact-us/">Contact us</a>
            </nav>
        </div>

        <div class="deepmost">
            <div class="copyright">&copy; 2021 The ThingsBoard Authors</div>
            <div class="social">
                <a href="https://github.com/thingsboard/thingsboard" class="github"></a>
                <a href="https://gitter.im/thingsboard/chat" class="gitter"></a>
                <a href="https://www.youtube.com/thingsboard" class="youtube"></a>
                <a href="http://stackoverflow.com/questions/tagged/thingsboard" class="stack-overflow"></a>
                <a href="https://groups.google.com/forum/#!forum/thingsboard" class="mailing-list"></a>
                <a href="https://www.facebook.com/thingsboard" class="facebook"></a>
                <a href="https://twitter.com/thingsboard" class="twitter"></a>
            </div>
        </div>
	</main>
</footer>

  </div>
</section>

<style>
  .cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
  }
  .gsc-control-cse table, .gsc-control-cse-en table {
    margin:0px !important;
  }
  .gsc-above-wrapper-area {
    border-bottom: 0;
  }
</style>
<script>
    jqueryDefer(function () {
        $(document).on('selectionchange',function() {
        // $(document).mouseup(function () {
            $('.clipboard-btn').removeClass('noChars');
            var selectedChars = getSelectedText();
            // $('#numberChars').html(selectedChars.length);
            if (selectedChars == 0) {
                $('.clipboard-btn').addClass('noChars');
            }
        });
    });
    function getSelectedText() {
        var text;
        if (window.getSelection) {
            text = window.getSelection().toString();
        } else if (document.getSelection) {
            text = document.getSelection();
        } else if (document.selection) {
            text = document.selection.createRange().text;
        }
        return text;
    }
</script>
<script>
    jqueryDefer(function () {
        $(document).ready(function () {
            var allCodeBlocksElements = $(".copy-code");
            allCodeBlocksElements.each(function (i) {
                var codeBlock = $(this);
                if (!codeBlock.hasClass('highlighter-rouge')) {
                    codeBlock = codeBlock.find('.highlighter-rouge');
                }
                codeBlock.each(function () {
                    var block = codeBlock.find('pre.highlight > code .rouge-code');
                    var currentId = "codeblock" + (i + 1);
                    block.attr('id', currentId);
                    var clipButton = $('<button class="clipboard-btn" data-clipboard-target="#' + currentId + '"><p>Copy to clipboard</p><div><img src="/images/copy-code-icon.svg" alt="Copy to clipboard"></div></button>');
                    $(this).append(clipButton);
                    var troyan = codeBlock.find('pre.highlight');
                    var Tooltip = $('<div class="customTooltip"><div class="tooltipText">Copied!</div></div>');
                    troyan.append(Tooltip);
                    troyan.addClass('clipboard-btn');
                    troyan.attr('data-clipboard-target', "#" + currentId);
                    troyan.on('mouseleave', clearTooltip);
                    troyan.on('blur', clearTooltip);
                    troyan.on('click', function(e) {
                        var el = $(e.currentTarget);
                        if (el.hasClass('showTool')) {
                            clearTooltip(e);
                            troyan.attr('data-skip-tooltip', "true");
                        }
                    });
                });
            });

            var clipboard = new Clipboard('.noChars');
            clipboard.on('success', function (e) {
                $('.clipboard-btn').removeClass('noChars');
                e.clearSelection();
                var trigger = e.trigger;
                if (!$(trigger).attr('data-skip-tooltip')) {
                    showTooltip(e.trigger, 'Copied!');
                } else {
                    $(trigger).removeAttr('data-skip-tooltip');
                }
            });

            $('#search').focus(
                function(){
                    $(this).parent('#searchBox').addClass('focused');
                }).blur(
                function(){
                    $(this).parent('#searchBox').removeClass('focused');
                });

            $('#searchBox .searchButton').click(function () {
                var value = $('#search').val();
                window.location.replace('/docs/search/?q=' + value);
            });

            $('#docsBreadcrumbs').click(function () {
                if ($(this).hasClass('active')) {
                    $(this).removeClass('active');
                    $('#docsNav').removeClass('active');
                    $('#searchBox').removeClass('visible');
                } else {
                    $(this).addClass('active');
                    $('#docsNav').addClass('active');
                    $('#searchBox').addClass('visible');
                }
            });
        });

        function clearTooltip(e) {
            var el = $(e.currentTarget);
            el.removeClass('showTool');
            el.attr('aria-label', null);
        }

        function showTooltip(elem, msg) {
            var el = $(elem);
            el.addClass('showTool');
            el.attr('aria-label', msg);
        }
    });
</script>

</body>
</html>

