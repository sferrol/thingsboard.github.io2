







<!Doctype html>
<html id="docs" class="IoT Gateway Documentation">







<head>
    <meta charset="utf-8">
    <meta name="cf-2fa-verify" content="a08672380de15e9">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>CAN Connector Configuration | ThingsBoard IoT Gateway</title>
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="CAN Connector Configuration" />
<meta name="author" content="thingsboard" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="CAN protocol support for ThingsBoard IoT Gateway" />
<meta property="og:description" content="CAN protocol support for ThingsBoard IoT Gateway" />
<link rel="canonical" href="http://0.0.0.0:4002/docs/iot-gateway/config/can/" />
<meta property="og:url" content="http://0.0.0.0:4002/docs/iot-gateway/config/can/" />
<meta property="og:site_name" content="ThingsBoard" />
<meta property="og:image" content="http://0.0.0.0:4002/images/thingsboard_logo.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://0.0.0.0:4002/images/thingsboard_logo.png" />
<meta property="twitter:title" content="CAN Connector Configuration" />
<meta name="twitter:site" content="@thingsboard" />
<meta name="twitter:creator" content="@thingsboard" />
<script type="application/ld+json">
{"url":"http://0.0.0.0:4002/docs/iot-gateway/config/can/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4002/images/thingsboard_logo.png"},"name":"thingsboard"},"author":{"@type":"Person","name":"thingsboard"},"image":{"twitter":"/images/thingsboard_logo.png","facebook":"/images/thingsboard_logo.png","url":"http://0.0.0.0:4002/images/thingsboard_logo.png","@type":"imageObject"},"description":"CAN protocol support for ThingsBoard IoT Gateway","@type":"WebPage","headline":"CAN Connector Configuration","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
    
    <meta name="twitter:description" content="CAN protocol support for ThingsBoard IoT Gateway"/>
    
    
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/styles.css">
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.7.0/qs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gifffer/1.5.0/gifffer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
    <script type="text/javascript">
        window.onload = function() {
            Gifffer();
        }
    </script>
    <script type="text/javascript">
        /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
        !function (a) {
            "use strict";
            var b = function (b, c, d) {
                function e(a) {
                    return h.body ? a() : void setTimeout(function () {
                        e(a)
                    })
                }

                function f() {
                    i.addEventListener && i.removeEventListener("load", f), i.media = d || "all"
                }

                var g, h = a.document, i = h.createElement("link");
                if (c) g = c; else {
                    var j = (h.body || h.getElementsByTagName("head")[0]).childNodes;
                    g = j[j.length - 1]
                }
                var k = h.styleSheets;
                i.rel = "stylesheet", i.href = b, i.media = "only x", e(function () {
                    g.parentNode.insertBefore(i, c ? g : g.nextSibling)
                });
                var l = function (a) {
                    for (var b = i.href, c = k.length; c--;) if (k[c].href === b) return a();
                    setTimeout(function () {
                        l(a)
                    })
                };
                return i.addEventListener && i.addEventListener("load", f), i.onloadcssdefined = l, l(f), i
            };
            "undefined" != typeof exports ? exports.loadCSS = b : a.loadCSS = b
        }("undefined" != typeof global ? global : this);

        /*! onloadCSS. (onload callback for loadCSS) [c]2017 Filament Group, Inc. MIT License */
        function onloadCSS(a, b) {
            function c() {
                !d && b && (d = !0, b.call(a))
            }

            var d;
            a.addEventListener && a.addEventListener("load", c), a.attachEvent && a.attachEvent("onload", c), "isApplicationInstalled" in navigator && "onloadcssdefined" in a && a.onloadcssdefined(c)
        }
    </script>
    <script type="text/javascript">

        function jqueryDefer(method) {
            if (window.jQuery) {
                method();
            } else {
                setTimeout(function () {
                    jqueryDefer(method)
                }, 50);
            }
        }

        function jqueryUiDefer(method) {
            if (window.jQuery && window.jQuery.ui) {
                method();
            } else {
                setTimeout(function () {
                    jqueryUiDefer(method)
                }, 50);
            }
        }

        window.vis = (function () {
            var stateKey,
                eventKey,
                keys = {
                    hidden: "visibilitychange",
                    webkitHidden: "webkitvisibilitychange",
                    mozHidden: "mozvisibilitychange",
                    msHidden: "msvisibilitychange"
                };
            for (stateKey in keys) {
                if (stateKey in document) {
                    eventKey = keys[stateKey];
                    break;
                }
            }
            return function (c) {
                if (c) document.addEventListener(eventKey, c);
                return !document[stateKey];
            }
        })();

        function loadScript(src, callback) {
            var s, r, t;
            r = false;
            s = document.createElement('script');
            s.type = 'text/javascript';
            s.src = src;
            s.onload = s.onreadystatechange = function () {
                if (!r && (!this.readyState || this.readyState == 'complete')) {
                    r = true;
                    if (callback) {
                        callback();
                    }
                }
            };
            t = document.getElementsByTagName('script')[0];
            t.parentNode.insertBefore(s, t);
        }

        function loadCssAsync(src, callback) {
            var stylesheet = loadCSS(src);
            if (callback) {
                onloadCSS(stylesheet, callback);
            }
        }

        function loadNextScript(index, scriptsList, completeCallback) {
            if (index < scriptsList.length) {
                var script = scriptsList[index];
                if (script.type === 'script') {
                    loadScript(script.src, function () {
                        if (script.callback) {
                            script.callback();
                        }
                        index++;
                        loadNextScript(index, scriptsList, completeCallback);
                    });
                } else if (script.type === 'css') {
                    loadCssAsync(script.src, function () {
                        index++;
                        loadNextScript(index, scriptsList, completeCallback);
                    });
                }
            } else if (completeCallback) {
                completeCallback();
            }
        }

        var initialScriptsList = [
            {src: '/js/jquery-2.2.0.min.js', type: 'script'},
            {src: '/css/jquery-ui.min.css', type: 'css'},
            {src: '/js/jquery-ui.min.js', type: 'script'},
            {src: '/js/jquery.vide.js', type: 'script'},
            {src: '/js/script.js', type: 'script'},
            {src: '/css/photoswipe.css', type: 'css'},
            {src: '/css/default-skin/default-skin.css', type: 'css'},
            {src: '/js/photoswipe.min.js', type: 'script'},
            {src: '/js/photoswipe-ui-default.min.js', type: 'script'}
        ];

        loadNextScript(0, initialScriptsList);

        jqueryDefer(function () {
            (function ($, win) {
                $.fn.inViewport = function (cb) {
                    return this.each(function (i, el) {
                        function visPx() {
                            var H = $(this).height(),
                                r = el.getBoundingClientRect(), t = r.top, b = r.bottom;
                            var result = cb.call(el, Math.max(0, t > 0 ? H - t : (b < H ? b : H)));
                            if (result) {
                                $(win).off("resize scroll", visPx);
                            }
                        }

                        visPx();
                        $(win).on("resize scroll", visPx);
                    });
                };
            }(jQuery, window));
        });

        function inViewportDefer(method) {
            if (window.jQuery && $.fn.inViewport) {
                method();
            } else {
                setTimeout(function () {
                    inViewportDefer(method)
                }, 50);
            }
        }

    </script>
    <script type="text/javascript">
        function _gaLt(event) {
            /* If GA is blocked or not loaded, or not main|middle|touch click then don't track */
            if (!ga.hasOwnProperty("loaded") || ga.loaded != true || (event.which != 1 && event.which != 2)) {
                return;
            }
            var el = event.srcElement || event.target;

            while (el && (typeof el.tagName == 'undefined' || el.tagName.toLowerCase() != 'a' || !el.href)) {
                el = el.parentNode;
            }
            if (el && el.href) {
                var link = el.href;
                if ((link.indexOf(location.host) == -1 || link.indexOf('.' + location.host) > 0) && !link.match(/^javascript\:/i)) {
                    var target = (el.target && !el.target.match(/^_(self|parent|top)$/i)) ? el.target : false;
                    if (event.ctrlKey || event.shiftKey || event.metaKey || event.which == 2) {
                        target = "_blank";
                    }

                    var hbrun = false; // tracker has not yet run
                    var hitBack = function () {
                        if (hbrun) return;
                        hbrun = true;
                        window.location.href = link;
                    };

                    if (target) {
                        ga(
                            "send", "event", "Outgoing Links", link,
                            document.location.pathname + document.location.search
                        );
                    } else {
                        event.preventDefault ? event.preventDefault() : event.returnValue = !1;
                        ga(
                            "send", "event", "Outgoing Links", link,
                            document.location.pathname + document.location.search, {
                                "hitCallback": hitBack
                            }
                        );

                        setTimeout(hitBack, 1000);
                    }
                }
            }
        }

        var _w = window;
        var _gaLtEvt = ("ontouchstart" in _w) ? "click" : "mousedown";
        _w.addEventListener ? _w.addEventListener("load", function () {
                document.body.addEventListener(_gaLtEvt, _gaLt, !1)
            }, !1)
            : _w.attachEvent && _w.attachEvent("onload", function () {
            document.body.attachEvent("on" + _gaLtEvt, _gaLt)
        });
    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-88383331-1', 'auto');
        ga('send', 'pageview');
    </script>
    <script>
        function Burger() {
            var header = $('header');
            var body = $('body');
            if (header.hasClass('opened-burger')) {
                header.removeClass('opened-burger');
                let subMenus = $('nav.head-menu > ul > li > div.centered-sub > ul.sub-menu');
                subMenus.removeClass('open-sub');
                body.css('overflow', '');
            } else {
                header.addClass('opened-burger');
                body.css('overflow', 'hidden');
            }
        }
    </script>
    <script>

        jqueryDefer(function () {
            let menuElement = $('nav.head-menu > ul');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            let menuItems = $('nav.head-menu > ul > li');
            let indicator = $('nav.head-menu > ul > div.indicator');
            let subMenuActive = false;
            menuElement.on('mouseleave', function (event) {
                if (!$(event.relatedTarget).parents('div.sub-menu-container').length) {
                    subMenuActive = false;
                    submenuContainer.removeClass('active bounds-transition');
                    menuItems.removeClass('active');
                    indicator.removeClass('left-transition');
                }
            });
            submenuContainer.on('mouseleave', function (event) {
                if (!$(event.relatedTarget).parents('nav.head-menu > ul').length) {
                    subMenuActive = false;
                    submenuContainer.removeClass('active bounds-transition');
                    menuItems.removeClass('active');
                    indicator.removeClass('left-transition');
                }
            });
            menuItems.each(function() {
                let item = $( this );
                let subMenuId = item.attr('data-submenu-id');
                item.on('mouseenter', function () {
                    let submenus = $('nav.head-menu > div.sub-menu-container > div');
                    submenus.css('display', 'none');
                    menuItems.removeClass('active');
                    item.addClass('active');
                    let targetSubMenu = $('nav.head-menu > div.sub-menu-container > div#'+subMenuId);
                    targetSubMenu.css('display', 'block');
                    submenuContainer.css('overflow', 'visible');
                    let left = item.position().left + (item.outerWidth() - targetSubMenu.outerWidth()) / 2;
                    submenuContainer.css('left', left + 'px');
                    if (!subMenuActive) {
                        submenuContainer.addClass('active');
                        subMenuActive = true;
                    } else {
                        submenuContainer.addClass('bounds-transition');
                        indicator.addClass('left-transition');
                    }
                    indicator.css('left', item.position().left);
                    indicator.css('width', item.outerWidth());
                    submenuContainer.css('height', targetSubMenu.outerHeight() + 'px');
                    submenuContainer.css('width', targetSubMenu.outerWidth() + 'px');
                    submenuContainer.css('overflow', 'hidden');
                });
            });

            let isMobile = $('button.burger').css('display') === 'block';
            if (isMobile) {
                initMobileSubmenu();
            }

            $(window).resize(function(){
                let newIsMobile = $('button.burger').css('display') === 'block';
                if (isMobile !== newIsMobile) {
                    isMobile = newIsMobile;
                    if (isMobile) {
                        initMobileSubmenu();
                    } else {
                        restoreDesktopSubmenu();
                    }
                }
            });

            // Products selector

            
            let productsSelector = $('.products-selector');
            $(window).click(function(e) {
                if (productsSelector[0].contains(e.target)) {
                    if (productsSelector.hasClass('active')) {
                        productsSelector.removeClass('active');
                    } else {
                        productsSelector.addClass('active');
                    }
                } else {
                    productsSelector.removeClass('active');
                }
            });
            

            // Rogue line numbers fix (don't show line numbers for 1 row)
            $( document ).ready(function() {
                $('.rouge-gutter.gl').each(function() {
                    var lineNumbers = $(this).children('.lineno');
                    if (lineNumbers.text() === '1\n') {
                        $(this).css('display', 'none');
                    }
                });
            });
        });

        function initMobileSubmenu() {

            var header = $('header');
            if (header.hasClass('opened-burger')) {
                var body = $('body');
                body.css('overflow', 'hidden');
            }

            let targetSubMenus = $('nav.head-menu > div.sub-menu-container > div');
            targetSubMenus.css('display', 'block');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            submenuContainer.removeClass('active');
            submenuContainer.css('display', 'none');

            targetSubMenus.each(function() {
                let subMenu = $( this );
                let subMenuId = subMenu.attr('id');
                let parent = $('nav.head-menu > ul > li.'+subMenuId);
                parent.append(subMenu);
            });
        }

        function restoreDesktopSubmenu() {
            var body = $('body');
            body.css('overflow', '');
            let targetSubMenus = $('nav.head-menu > ul > li > div');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            submenuContainer.removeClass('active');
            submenuContainer.css('display', 'block');
            let menuItems = $('nav.head-menu > ul > li');
            menuItems.removeClass('active');
            targetSubMenus.each(function() {
                let subMenu = $( this );
                submenuContainer.append(subMenu);
            });
        }

        function listburg(subMenuId) {
            let isMobile = $('button.burger').css('display') === 'block';
            if (isMobile) {
                let targetSubMenu = $('nav.head-menu > ul > li > div.centered-sub#'+subMenuId+' > ul.sub-menu');
                let isOpen = targetSubMenu.hasClass('open-sub');
                let subMenus = $('nav.head-menu > ul > li > div.centered-sub > ul.sub-menu');
                subMenus.removeClass('open-sub');
                if (!isOpen) {
                    targetSubMenu.addClass('open-sub');
                }
            }
        }
    </script>
</head>
<body>

<div class="products-selector">
    <img src="/images/gateway-icon.svg"/>
    <div class="product-info">
        <div class="product-title">
            IoT Gateway
        </div>
        <div class="product-description">
            ThingsBoard Documentation
        </div>
    </div>
    <div class="products">
        
        

    


        <a href="/docs/paas/" class="product">Cloud</a>
        
        

    


        <a href="/docs/pe/" class="product">Professional Edition</a>
        
        

    


        <a href="/docs/" class="product">Community Edition</a>
        
        

    


        <a href="/docs/edge/" class="product">Edge</a>
        
        

    


        <a href="/docs/iot-gateway/" class="product active">IoT Gateway</a>
        
        

    


        <a href="/products/license-server/" class="product">License Server</a>
        
        

    


        <a href="/docs/trendz/" class="product">Trendz Analytics</a>
        
    </div>
</div>

<header>
    <div class="logo-burger">
        
        <button onclick="Burger()" class="burger"></button>
        <div id="githubButtonContainer">
            <a class="github-button" href="https://github.com/thingsboard/thingsboard" data-show-count="true"
               aria-label="Star thingsboard/thingsboard on GitHub">Star</a>
        </div>
    </div>
    <nav class="head-menu">
        <ul>
            <li class="nav-products" data-submenu-id="nav-products">
                <a onclick="listburg('nav-products')">Products</a>
            </li>
            <li class="nav-services" data-submenu-id="nav-services">
                <a onclick="listburg('nav-services')">Services</a>
            </li>
            
            <li class="nav-cases" data-submenu-id="nav-cases">
                <a onclick="listburg('nav-cases')">Use Cases</a>
            </li>
            <li class="nav-customers" data-submenu-id="nav-customers">
                <a onclick="listburg('nav-customers')">Customers</a>
            </li>
            <li class="nav-company" data-submenu-id="nav-company">
                <a onclick="listburg('nav-company')">Company</a>
            </li>
            <div class="indicator"><div class="head-arrow"></div><div class="line"></div><div class="sub-background"></div></div>
        </ul>
        <div class="sub-menu-container">
            <div id="nav-products" class="centered-sub">
                <ul class="sub-menu products">
                    <div class="sub-groups">
                        <div class="group">
                            <p class="group-name">IoT platforms</p>
                            <a class="cloud-lnk" href="/products/paas/">
                                <img src="/images/thingsboard-c-icon.svg">
                                <div class="sub-text">
                                    <h1>Cloud</h1>
                                    <p>Platform as a service</p>
                                </div>
                            </a>
                            <a class="prof-lnk" href="/products/thingsboard-pe/">
                                <img src="/images/thingsboard-p-icon.svg">
                                <div class="sub-text">
                                    <h1>Professional Edition</h1>
                                    <p>Advanced IoT platform</p>
                                </div>
                            </a>
                            <a class="com-lnk" href="/">
                                <img src="/images/thingsboard-cm-icon.svg">
                                <div class="sub-text">
                                    <h1>Community Edition</h1>
                                    <p>Open source platform</p>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <p class="group-name">Product ecosystem</p>
                            <a class="edge-lnk" href="/products/thingsboard-edge/">
                                <img src="/images/thingsboard-e-icon.svg">
                                <div class="sub-text">
                                    <h1>Edge</h1>
                                    <p>Edge computing</p>
                                </div>
                            </a>
                            <a class="gateway-lnk" href="/docs/iot-gateway/what-is-iot-gateway/">
                                <img src="/images/gateway-icon.svg">
                                <div class="sub-text">
                                    <h1>IoT Gateway</h1>
                                    <p>Connect legacy protocols</p>
                                </div>
                            </a>
                            <a class="license-lnk" href="/products/license-server/">
                                <img src="/images/license-icon.svg">
                                <div class="sub-text">
                                    <h1>License Server</h1>
                                    <p>Billing solution</p>
                                </div>
                            </a>
                            <a class="trendz-lnk" href="/products/trendz/">
                                <img src="/images/trendz-icon.svg">
                                <div class="sub-text">
                                    <h1>Trendz Analytics</h1>
                                    <p>Data analytics and Prediction</p>
                                </div>
                            </a>
                        </div>
                    </div>
                </ul>
            </div>
            <div id="nav-services" class="centered-sub">
                <ul class="sub-menu services">
                    <a href="/docs/services/support/">
                        <img src="/images/support-icon.svg">
                        <div class="sub-text">
                            <h1>Support</h1>
                            <p>Support packages</p>
                        </div>
                    </a>
                    <a href="/docs/services/trainings/">
                        <img src="/images/train-icon.svg">
                        <div class="sub-text">
                            <h1>Trainings</h1>
                            <p>ThingsBoard education courses</p>
                        </div>
                    </a>
                    <a href="/docs/services/consulting/">
                        <img src="/images/prof-icon.svg">
                        <div class="sub-text">
                            <h1>Professional services</h1>
                            <p>Development of solutions by the ThingsBoard team</p>
                        </div>
                    </a>
                </ul>
            </div>
            
            <div id="nav-cases" class="centered-sub">
                <ul class="sub-menu cases">
                    <a href="/smart-metering/">
                        <img src="/images/case-met-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Metering</h1>
                            <p>Collection, analysis and visualization of data from meters</p>
                        </div>
                    </a>
                    <a href="/smart-energy/">
                        <img src="/images/case-eng-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Energy</h1>
                            <p>Energy monitoring and efficiency analysis</p>
                        </div>
                    </a>
                    <a href="/smart-farming/">
                        <img src="/images/case-fam-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Farming</h1>
                            <p>Monitoring of indoor conditions and plant growth characteristics</p>
                        </div>
                    </a>
                    <a href="/fleet-tracking/">
                        <img src="/images/case-trk-icon.svg">
                        <div class="sub-text">
                            <h1>Fleet Tracking</h1>
                            <p>Fleet tracking and fleet management</p>
                        </div>
                    </a>
                </ul>
            </div>
            <div id="nav-customers" class="centered-sub">
                <ul class="sub-menu customers">
                    <div class="sub-groups">
                        <div class="group">
                            <a class="small-link" href="/industries/smart-energy/">
                                <img src="/images/se-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart Energy</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/agriculture/">
                                <img src="/images/agr-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Agriculture</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/smart-buildings/">
                                <img src="/images/sb-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart Buildings</h1>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <a class="small-link" href="/industries/smart-city/">
                                <img src="/images/sc-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart City</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/telecom/">
                                <img src="/images/tel-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Telecom</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/industry40/">
                                <img src="/images/in-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Industry 4.0</h1>
                                </div>
                            </a>
                        </div>
                    </div>
                </ul>
            </div>
            <div id="nav-company" class="centered-sub">
                <ul class="sub-menu about">
                    <div class="sub-groups">
                        <div class="group">
                            <a class="small-link" href="/company/">
                                <img src="/images/about-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Our Company</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/docs/contact-us/">
                                <img src="/images/contact-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Contact Us</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/careers/">
                                <img src="/images/careers-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Careers</h1>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <a class="small-link" href="/mediakit/">
                                <img src="/images/media-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Media Kit</h1>
                                </div>
                            </a>
                            <a class="small-link" href="https://blog.thingsboard.io/">
                                <img src="/images/blog-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Blog</h1>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="bottom-group">
                        <a class="small-link" href="/partners/hardware/">
                            <img src="/images/hard-s-icon.svg">
                            <div class="sub-text">
                                <h1>Hardware partners</h1>
                            </div>
                        </a>
                        <a class="small-link" href="/partners/distributors/">
                            <img src="/images/dis-s-icon.svg">
                            <div class="sub-text">
                                <h1>Distributors</h1>
                            </div>
                        </a>
                    </div>
                </ul>
            </div>
        </div>
    </nav>
    <div>
        <a href="/installations/" class="n-button try">Try it now</a>
        <a href="/pricing/" class="n-button price">Pricing</a>
    </div>
</header>


<div id="searchBox">
    <input type="text" id="search" placeholder="Search" onkeydown="if (event.keyCode==13) window.location.replace('/docs/gw/search/?q=' + this.value)">
    <button class="searchButton"></button>
</div>

<!--  HERO  -->
<section id="hero">
  <div id="hero-content">
    <div id="vendorStrip">
      <div id="docsList">
          <ul>
            
              
              
              
              <li>
                  <a href="/docs/iot-gateway/getting-started/" >Getting Started</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/iot-gateway/" class="YAH">Documentation</a>
                  
                     <div class="indicator"><div class="head-arrow"></div><div class="line"></div><div class="sub-background"></div></div>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/iot-gateway/installation/" >Installation</a>
                  
              </li>
            
          </ul>
          <div id="docsBreadcrumbs">
              
                  
                  
                  
                  
                      
                  
                      
                  
                      
                  
                      
                         
                         
                         
    

    

    

    

    

    

    
        
        
        

                         
                            
                  
                    <span class="item">Documentation</span>
                    
                        <span class="divider">></span>
                    
                  
                    <span class="item">Configuration guides</span>
                    
                        <span class="divider">></span>
                    
                  
                    <span class="item">CAN Connector</span>
                    
                  
              
          </div>
      </div>
    </div>
  </div>
</section>
<div id="docsNav">
    <div class="docItems">
        
            
            
                <a class="toc" href="/docs/iot-gateway/getting-started/" >Getting Started</a>
            
        
            
            
                <div class="pi-accordion">
                    


<a class="item" data-title="ThingsBoard IoT Gateway" href="/docs/iot-gateway/"></a>


<a class="item" data-title="What is ThingsBoard IoT Gateway?" href="/docs/iot-gateway/what-is-iot-gateway/"></a>


<a class="item" data-title="Getting Started" href="/docs/iot-gateway/getting-started/"></a>


<div class="item" data-title="Configuration guides">
  <div class="container">


<a class="item" data-title="General configuration" href="/docs/iot-gateway/configuration/"></a>


<a class="item" data-title="MQTT Connector" href="/docs/iot-gateway/config/mqtt/"></a>


<a class="item" data-title="Modbus Connector" href="/docs/iot-gateway/config/modbus/"></a>


<a class="item" data-title="OPC-UA Connector" href="/docs/iot-gateway/config/opc-ua/"></a>


<a class="item" data-title="BLE Connector" href="/docs/iot-gateway/config/ble/"></a>


<a class="item" data-title="Request Connector" href="/docs/iot-gateway/config/request/"></a>


<a class="item" data-title="CAN Connector" href="/docs/iot-gateway/config/can/"></a>


<a class="item" data-title="BACnet Connector" href="/docs/iot-gateway/config/bacnet/"></a>


<a class="item" data-title="ODBC Connector" href="/docs/iot-gateway/config/odbc/"></a>


<a class="item" data-title="REST Connector" href="/docs/iot-gateway/config/rest/"></a>


<a class="item" data-title="SNMP Connector" href="/docs/iot-gateway/config/snmp/"></a>


<a class="item" data-title="FTP Connector" href="/docs/iot-gateway/config/ftp/"></a>
  </div>
</div>


<div class="item" data-title="IoT Gateway features">
  <div class="container">


<a class="item" data-title="Remote logging" href="/docs/iot-gateway/guides/how-to-enable-remote-logging/"></a>


<a class="item" data-title="Service RPC methods" href="/docs/iot-gateway/guides/how-to-use-gateway-rpc-methods/"></a>


<a class="item" data-title="Remote shell" href="/docs/iot-gateway/guides/how-to-enable-remote-shell/"></a>


<a class="item" data-title="Gateway Configurator" href="/docs/iot-gateway/guides/how-to-configure-gateway-using-configurator/"></a>
  </div>
</div>


<a class="item" data-title="IoT Gateway Roadmap" href="/docs/iot-gateway/roadmap/"></a>


<a class="item" data-title="Customization guide" href="/docs/iot-gateway/custom/"></a>
                </div>
            
        
            
            
                <a class="toc" href="/docs/iot-gateway/installation/" >Installation</a>
            
        
    </div>
</div>








<section id="encyclopedia">
  
  <div id="docsToc">
        <div class="pi-accordion">
        


<a class="item" data-title="ThingsBoard IoT Gateway" href="/docs/iot-gateway/"></a>


<a class="item" data-title="What is ThingsBoard IoT Gateway?" href="/docs/iot-gateway/what-is-iot-gateway/"></a>


<a class="item" data-title="Getting Started" href="/docs/iot-gateway/getting-started/"></a>


<div class="item" data-title="Configuration guides">
  <div class="container">


<a class="item" data-title="General configuration" href="/docs/iot-gateway/configuration/"></a>


<a class="item" data-title="MQTT Connector" href="/docs/iot-gateway/config/mqtt/"></a>


<a class="item" data-title="Modbus Connector" href="/docs/iot-gateway/config/modbus/"></a>


<a class="item" data-title="OPC-UA Connector" href="/docs/iot-gateway/config/opc-ua/"></a>


<a class="item" data-title="BLE Connector" href="/docs/iot-gateway/config/ble/"></a>


<a class="item" data-title="Request Connector" href="/docs/iot-gateway/config/request/"></a>


<a class="item" data-title="CAN Connector" href="/docs/iot-gateway/config/can/"></a>


<a class="item" data-title="BACnet Connector" href="/docs/iot-gateway/config/bacnet/"></a>


<a class="item" data-title="ODBC Connector" href="/docs/iot-gateway/config/odbc/"></a>


<a class="item" data-title="REST Connector" href="/docs/iot-gateway/config/rest/"></a>


<a class="item" data-title="SNMP Connector" href="/docs/iot-gateway/config/snmp/"></a>


<a class="item" data-title="FTP Connector" href="/docs/iot-gateway/config/ftp/"></a>
  </div>
</div>


<div class="item" data-title="IoT Gateway features">
  <div class="container">


<a class="item" data-title="Remote logging" href="/docs/iot-gateway/guides/how-to-enable-remote-logging/"></a>


<a class="item" data-title="Service RPC methods" href="/docs/iot-gateway/guides/how-to-use-gateway-rpc-methods/"></a>


<a class="item" data-title="Remote shell" href="/docs/iot-gateway/guides/how-to-enable-remote-shell/"></a>


<a class="item" data-title="Gateway Configurator" href="/docs/iot-gateway/guides/how-to-configure-gateway-using-configurator/"></a>
  </div>
</div>


<a class="item" data-title="IoT Gateway Roadmap" href="/docs/iot-gateway/roadmap/"></a>


<a class="item" data-title="Customization guide" href="/docs/iot-gateway/custom/"></a>
        </div> <!-- /pi-accordion -->
  </div> <!-- /docsToc -->
  
  <div id="docsContent" class=" hasTocContent">
      <div id="table-of-contents">
          
              <h4>On this page</h4>
          
      </div>
      <div id="top-spacer"></div>
      <h1>CAN Connector Configuration</h1>
      <div id="content">
          <ul id="markdown-toc">
  <li><a href="#root-section" id="markdown-toc-root-section">Root section</a>    <ul>
      <li><a href="#section-backend" id="markdown-toc-section-backend">Section “backend”</a></li>
      <li><a href="#section-devices" id="markdown-toc-section-devices">Section “devices”</a>        <ul>
          <li><a href="#subsection-converters" id="markdown-toc-subsection-converters">Subsection “converters”</a></li>
          <li><a href="#subsection-attributes-or-timeseries" id="markdown-toc-subsection-attributes-or-timeseries">Subsection “attributes” or “timeseries”</a>            <ul>
              <li><a href="#commmand" id="markdown-toc-commmand">“commmand”</a></li>
              <li><a href="#value" id="markdown-toc-value">“value”</a></li>
              <li><a href="#expression" id="markdown-toc-expression">“expression”</a></li>
              <li><a href="#polling" id="markdown-toc-polling">“polling”</a></li>
            </ul>
          </li>
          <li><a href="#subsection-attributeupdates" id="markdown-toc-subsection-attributeupdates">Subsection “attributeUpdates”</a></li>
          <li><a href="#subsection-serversiderpc" id="markdown-toc-subsection-serversiderpc">Subsection “serverSideRpc”</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#next-steps" id="markdown-toc-next-steps">Next steps</a></li>
</ul>

<p>This guide will help you to get familiar with CAN connector configuration for ThingsBoard IoT Gateway.<br />
Use <a href="/docs/iot-gateway/configuration/">general configuration</a> to enable this connector.<br />
We will describe connector configuration file below.</p>

<p><br /></p>

<details>
   <summary>
 <strong>Example of CAN Connector config file. Press to expand.</strong> 
  </summary>
   <figure class="highlight">
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"interface"</span><span class="p">:</span><span class="w"> </span><span class="s2">"socketcan"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vcan0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"backend"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"fd"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"reconnectPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"devices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Car"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sendDataOnlyOnChange"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enableUnknownRpc"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"strictEval"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isDriverDoorOpened"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nodeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">41</span><span class="p">,</span><span class="w">
          </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2:2:big:8717"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4:1:int"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool(value &amp; 0b00000100)"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"polling"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"once"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dataInHex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB CD AB CD"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"timeseries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rpm"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nodeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1918</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isExtendedId"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2:2:big:48059"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4:2:big:int"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value / 4"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"polling"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"always"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dataInHex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaa bbbb aaaa bbbb"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"milliage"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nodeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1918</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isExtendedId"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4:2:little:int"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value * 10"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"polling"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"always"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dataInHex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aa bb cc dd ee ff aa bb"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"attributeUpdates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"attributeOnThingsBoard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"softwareVersion"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nodeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isExtendedId"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"dataLength"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nl">"dataExpression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value + 5"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"dataByteorder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"little"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"serverSideRpc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sendSameData"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nodeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isExtendedId"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isFd"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"bitrateSwitch"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"dataInHex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aa bb cc dd ee ff    aa bb aa bb cc d ee ff"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"setLightLevel"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nodeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nl">"dataLength"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nl">"dataByteorder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"little"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"dataBefore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00AA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"setSpeed"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"nodeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
          </span><span class="nl">"dataAfter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"dataExpression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"userSpeed if maxAllowedSpeed &gt; userSpeed else maxAllowedSpeed"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </figure>
 
</details>

<h2 id="root-section">Root section</h2>
<p>The root part of the CAN connector configuration provides basic information to connect/reconnect to a CAN bus and the list of device configurations.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Parameter</strong></th>
      <th style="text-align: left"><strong>Default value</strong></th>
      <th><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">name</td>
      <td style="text-align: left"><strong>CAN Connector</strong></td>
      <td>Name of connector.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>interface</strong></td>
      <td style="text-align: left"><strong>socketcan</strong></td>
      <td>Type of CAN interface.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>channel</strong></td>
      <td style="text-align: left"><strong>vcan0</strong></td>
      <td>Channel name of CAN interface.</td>
    </tr>
    <tr>
      <td style="text-align: left">backend</td>
      <td style="text-align: left"> </td>
      <td>Interface specific configuration.</td>
    </tr>
    <tr>
      <td style="text-align: left">reconnect</td>
      <td style="text-align: left"><strong>true</strong></td>
      <td>Whether to reconnect after bus error while sending/receiving CAN messages.</td>
    </tr>
    <tr>
      <td style="text-align: left">reconnectPeriod</td>
      <td style="text-align: left"><strong>30.0</strong></td>
      <td>Period in seconds between reconnect attempts. Floating point means more precise time than seconds.</td>
    </tr>
    <tr>
      <td style="text-align: left">reconnectCount</td>
      <td style="text-align: left"> </td>
      <td>Number of reconnect attempts after bus error. If not specified means infinite number of attempts.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>devices</strong></td>
      <td style="text-align: left"> </td>
      <td>List of devices.</td>
    </tr>
  </tbody>
</table>

<p>The list of supported CAN interfaces one can <a href="https://python-can.readthedocs.io/en/stable/configuration.html#interface-names">find</a> in the documentation of the Python CAN library.</p>

<h3 id="section-backend">Section “backend”</h3>
<p>This section is optional and it provides configuration for specific CAN interface. Each option has default value. To get available list of options <a href="https://python-can.readthedocs.io/en/stable/configuration.html#interface-names">see</a> the documentation for specific interface type.</p>

<p>For example, the SocketCAN interface <a href="https://python-can.readthedocs.io/en/stable/interfaces/socketcan.html#bus">supports</a> the following configuration options:</p>
<ul>
  <li><em>receive_own_messages</em></li>
  <li><em>fd</em></li>
  <li><em>can_filters</em>
ё
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nl">"backend"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="nl">"receive_own_messages"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
</span><span class="nl">"fd"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
    <p>This means that transmitted messages should also be received and CAN-FD frames should be supported. By default these options are disabled.</p>
  </li>
</ul>

<h3 id="section-devices">Section “devices”</h3>
<p>This section provides array of configurations for devices, which connected through the CAN bus.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Parameter</strong></th>
      <th style="text-align: left"><strong>Default value</strong></th>
      <th><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>name</strong></td>
      <td style="text-align: left"> </td>
      <td>Name of device.</td>
    </tr>
    <tr>
      <td style="text-align: left">type</td>
      <td style="text-align: left"><strong>can</strong></td>
      <td>Type of device.</td>
    </tr>
    <tr>
      <td style="text-align: left">sendDataOnlyOnChange</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td>Sending only if data changed from last check, if not specified data will send after each received CAN message.</td>
    </tr>
    <tr>
      <td style="text-align: left">strictEval</td>
      <td style="text-align: left"><strong>true</strong></td>
      <td>Restricted mode of Python <a href="https://docs.python.org/3/library/functions.html#eval">eval()</a> API.</td>
    </tr>
    <tr>
      <td style="text-align: left">enableUnknownRpc</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td>Allow processing RPC commands not listed in <a href="/docs/iot-gateway/config/can/#subsection-serversiderpc">serverSideRpc</a> subsection.</td>
    </tr>
    <tr>
      <td style="text-align: left">overrideRpcConfig</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td>Allow overriding RPC command configuration (all or some of options) by data received from server.</td>
    </tr>
    <tr>
      <td style="text-align: left">converters</td>
      <td style="text-align: left"> </td>
      <td>Custom converters.</td>
    </tr>
    <tr>
      <td style="text-align: left">attributes</td>
      <td style="text-align: left"> </td>
      <td>List of device attributes.</td>
    </tr>
    <tr>
      <td style="text-align: left">timeseries</td>
      <td style="text-align: left"> </td>
      <td>List of time series keys.</td>
    </tr>
    <tr>
      <td style="text-align: left">attributeUpdates</td>
      <td style="text-align: left"> </td>
      <td>List of shared attributes to be subscribed for.</td>
    </tr>
    <tr>
      <td style="text-align: left">serverSideRpc</td>
      <td style="text-align: left"> </td>
      <td>List of RPC commands.</td>
    </tr>
  </tbody>
</table>

<p>If <em>enableUnknownRpc</em> is set to <em>true</em>, <em>overrideRpcConfig</em> is forcibly set to <em>true</em> as well.</p>

<p><strong>Note</strong>, despite <a href="/docs/iot-gateway/config/can/#subsection-attributes-or-timeseries">attributes</a>, <a href="/docs/iot-gateway/config/can/#subsection-attributes-or-timeseries">timeseries</a>, <a href="/docs/iot-gateway/config/can/#subsection-attributeupdates">attributeUpdates</a> and <a href="/docs/iot-gateway/config/can/#subsection-serversiderpc">serverSideRpc</a> are optional subsections, at least one of them must be set to get in use the device configuration.</p>

<h4 id="subsection-converters">Subsection “converters”</h4>
<p>CAN connector is provided with built-in uplink/downlink data converters. One can specify custom converter for both uplink and downlink data or for one of them.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Parameter</strong></th>
      <th style="text-align: left"><strong>Default value</strong></th>
      <th><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">uplink</td>
      <td style="text-align: left"> </td>
      <td>Python class of uplink converter.</td>
    </tr>
    <tr>
      <td style="text-align: left">downlink</td>
      <td style="text-align: left"> </td>
      <td>Python class of downlink converter.</td>
    </tr>
  </tbody>
</table>

<p><em>As input data</em> <strong>the uplink converter</strong> gets CAN payload (array of bytes) and list of configurations from <a href="/docs/iot-gateway/config/can/#subsection-attributes-or-timeseries">“attributes” and “timeseries” subsection</a> to know which bytes to get and how they need to be interpreted.</p>

<p><em>As output data</em> <strong>the uplink converter</strong> returns dictionary with attribute and telemetry lists. Each element of this list is key/value pair, where key is attribute name or time series key and the value is what it is.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nl">"isDriverDoorOpened"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">}],</span><span class="w">
  </span><span class="nl">"telemetry"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nl">"rpm"</span><span class="p">:</span><span class="mi">100</span><span class="p">},{</span><span class="nl">"milliage"</span><span class="p">:</span><span class="w"> </span><span class="mi">300000</span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
<p><em>As input data</em> <strong>the downlink converter</strong> gets the value (or values in case of RPC) and configuration (from <a href="/docs/iot-gateway/config/can/#subsection-attributeupdates">“attributeUpdates”</a> or <a href="/docs/iot-gateway/config/can/#subsection-serversiderpc">“serverSideRpc”</a> subsections) that describes how to convert the value (or values) to CAN payload.</p>

<p><em>As output data</em> <strong>the downlink converter</strong> returns CAN payload (array of bytes) for the further sending.</p>

<h4 id="subsection-attributes-or-timeseries">Subsection “attributes” or “timeseries”</h4>
<p>This subsection provides the list of configuration each of them describes which bytes to get from CAN payload (array of bytes) and how to convert these bytes to a Thingsboard attribute or a time series key.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Parameter</strong></th>
      <th style="text-align: left"><strong>Default value</strong></th>
      <th><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>key</strong></td>
      <td style="text-align: left"> </td>
      <td>Name of attribute or time series key.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>nodeId</strong></td>
      <td style="text-align: left"> </td>
      <td>CAN node (arbitration) id.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>value</strong></td>
      <td style="text-align: left"> </td>
      <td>Value conversion configuration.</td>
    </tr>
    <tr>
      <td style="text-align: left">expression</td>
      <td style="text-align: left"> </td>
      <td>Python <a href="https://docs.python.org/3/library/functions.html#eval">eval()</a> expression to modify <em>value</em> in some way.</td>
    </tr>
    <tr>
      <td style="text-align: left">command</td>
      <td style="text-align: left"> </td>
      <td>Command conversion configuration.</td>
    </tr>
    <tr>
      <td style="text-align: left">polling</td>
      <td style="text-align: left"> </td>
      <td>Polling configuration.</td>
    </tr>
    <tr>
      <td style="text-align: left">isExtendedId</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td>If True means extended CAN node (arbitration) id.</td>
    </tr>
    <tr>
      <td style="text-align: left">isFd</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td>If True means using CAN FD mode.</td>
    </tr>
    <tr>
      <td style="text-align: left">bitrateSwitch</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td><strong>Only for CAN FD mode</strong> If True means a higher bitrate is used for the data transmission.</td>
    </tr>
  </tbody>
</table>

<h5 id="commmand">“commmand”</h5>
<p>The option <em>command</em> is an additional but non-neccessary level of abstraction what lets one to interpret the one part of CAN message differently
based on the another part of this CAN message.</p>

<p>For example, the controller of an irrigation system can inform about different parameters of the system. Communication is done via CAN bus.<br />
The first byte of a CAN payload is <em>command</em>. If the value of a command is 2, it means that following bytes is temperature.<br />
If value of command is 4, data is a humidity level.</p>

<p>The option <em>command</em> supports the following formats:</p>
<ul>
  <li>As JSON string:
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="err">command:</span><span class="w"> </span><span class="s2">"&lt;start&gt;:&lt;length&gt;:[byteorder]:[value]"</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>As JSON object:
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;start_value&gt;</span><span class="p">,</span><span class="w">
  </span><span class="nl">"length"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;length_value&gt;</span><span class="p">,</span><span class="w">
  </span><span class="nl">"byteorder"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;byteorder_value&gt;</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;value&gt;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<p>where:</p>
<ul>
  <li><em>start</em> - the position of the first byte - 0 to 7 for CAN protocol, 0 to 63 for CAN FD protocol</li>
  <li><em>length</em> - the number of bytes to get the value of a command</li>
  <li><em>byteorder</em> - the order of bytes - <em>big</em> or <em>little</em> (default <em>big</em>)</li>
  <li><em>value</em> - the integer value of a command in the decimal format</li>
</ul>

<p>Example:</p>

<ol>
  <li>Read 2 bytes starting from 0th position as the <em>little</em> byte ordered and trigger processing of the following bytes only if the command value is 12345.
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0:2:little:12345"</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<h5 id="value">“value”</h5>
<p>The option <em>value</em> describes how many bytes to get from CAN payload and what primitive type to be converted to. 
<br />
<br />
The option <em>value</em> supports the following formats:</p>
<ul>
  <li>As JSON string:
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;start&gt;:&lt;length&gt;:[byteorder]:&lt;type&gt;:[encoding|signed]"</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>As JSON object:
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;start_value&gt;</span><span class="p">,</span><span class="w">
  </span><span class="nl">"length"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;length_value&gt;</span><span class="p">,</span><span class="w">
  </span><span class="nl">"byteorder"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;byteorder_value&gt;</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;type_value&gt;</span><span class="p">,</span><span class="w">
  </span><span class="nl">"encoding"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;encoding_value&gt;</span><span class="p">,</span><span class="w">
  </span><span class="nl">"signed"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;signed_value&gt;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<p>where</p>
<ul>
  <li><em>start</em> - the position of the first byte - 0-7 for CAN protocol, 0-63 for CAN FD protocol</li>
  <li><em>length</em> - the number of bytes to get the value</li>
  <li><em>byteorder</em> - the order of bytes - <em>big</em> or <em>little</em> (default <em>big</em>)</li>
  <li><em>type</em> - the Python primitive types <strong>bool</strong>, <strong>boolean</strong>, <strong>int</strong>, <strong>long</strong>, <strong>float</strong>, <strong>double</strong> or <strong>string</strong>.
By types <strong>bool</strong>, <strong>int</strong> and <strong>float</strong> it is meant Thingsboard <strong>boolean</strong>, <strong>long</strong> and <strong>double</strong> types respectively.
<strong>Note</strong>, <strong>float</strong> type value requires 4 bytes and <strong>double</strong> type value requires 8 bytes.</li>
  <li><em>encoding</em> - <strong>Only for string type</strong> <a href="https://docs.python.org/3/library/codecs.html#standard-encodings">Encoding</a> of string (default <em>ascii</em>).</li>
  <li><em>signed</em> - <strong>Only for int/long types</strong> indicates whether integer is signed value or not - <em>signed</em> or <em>unsigned</em> (default <em>unsigned</em>)</li>
</ul>

<p>Examples:</p>

<ul>
  <li>Read 1 byte starting from 2d position as the <em>big</em> byte ordered and cast to the value of the <em>unsigned int</em> type.
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2:1:int"</span><span class="w"> 
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>Read 8 bytes starting from 0th position as the big byte ordered and cast to the value of the <em>double</em> type.
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0:7:double"</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>Read 4 bytes starting from 0th position as the <em>little</em> byte ordered and cast to the value of the <em>float</em> type.
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0:4:little:float"</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>Read 2 bytes starting from 4th position as the <em>little</em> byte ordered and cast to the value the <em>signed int</em> type. The value is used in Python <a href="https://docs.python.org/3/library/functions.html#eval">eval()</a> expression to
get the final value.
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4:2:little:int:signed"</span><span class="err">,</span><span class="w">
</span><span class="nl">"expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value / 4"</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h5 id="expression">“expression”</h5>
<p>The option <em>expression</em> is evaluated via Python <a href="https://docs.python.org/3/library/functions.html#eval">eval()</a> API. There are available the following variables in the <a href="https://docs.python.org/3/library/functions.html#eval">eval()</a> context:</p>

<ol>
  <li><em>value</em> - the result of applying the <a href="/docs/iot-gateway/config/can/#value">value configuration</a> to the CAN payload</li>
  <li><em>can_data</em> - the CAN payload (array of bytes)</li>
</ol>

<p><strong>Note</strong>, by default Python <a href="https://docs.python.org/3/library/functions.html#eval">eval()</a> API is working in some kind of a restricted mode by denying the explicit access to <a href="https://docs.python.org/3/library/builtins.html">__builtins__ API</a>, to
disable the restricted mode <a href="/docs/iot-gateway/config/can/#section-devices">set</a> the option <em>strictEval</em> to <em>False</em>.</p>

<h5 id="polling">“polling”</h5>
<p>If a polling configuration is not specified the CAN connector receive only that data what CAN node decides to send on its own.</p>

<p>On demand sending activates after CAN node receives specific data which is specified in the polling configuration. Depending on the type of polling the CAN connector can send that data once or periodically.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Parameter</strong></th>
      <th style="text-align: left"><strong>Default value</strong></th>
      <th><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">type</td>
      <td style="text-align: left"><strong>always</strong></td>
      <td>Type <em>always</em> means sending CAN message periodically, <em>once</em> means single time sending.</td>
    </tr>
    <tr>
      <td style="text-align: left">period</td>
      <td style="text-align: left"><strong>1.0</strong></td>
      <td>Period of polling in seconds. Floating point means more precise time than seconds.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>dataInHex</strong></td>
      <td style="text-align: left"> </td>
      <td>CAN message payload in the hexadecimal format.</td>
    </tr>
  </tbody>
</table>

<h4 id="subsection-attributeupdates">Subsection “attributeUpdates”</h4>
<p>This subsection provides the list of configurations to subscribe for changes of Thingsboard shared attributes.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Parameter</strong></th>
      <th style="text-align: left"><strong>Default value</strong></th>
      <th><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>attribute</strong></td>
      <td style="text-align: left"> </td>
      <td>Name of shared attribute.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>nodeId</strong></td>
      <td style="text-align: left"> </td>
      <td>CAN node (arbitration) id.</td>
    </tr>
    <tr>
      <td style="text-align: left">isExtendedId</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td>If True means extended CAN node (arbitration) id.</td>
    </tr>
    <tr>
      <td style="text-align: left">isFd</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td>If True means using CAN FD mode.</td>
    </tr>
    <tr>
      <td style="text-align: left">bitrateSwitch</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td><strong>Only for CAN FD mode</strong> If True means a higher bitrate is used for the data transmission.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataLength</td>
      <td style="text-align: left"><strong>1</strong></td>
      <td><strong>Only for integer values</strong> Number of bytes to pack <strong>integer</strong> value.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataByteorder</td>
      <td style="text-align: left"><strong>big</strong></td>
      <td><strong>Only for integer and float values</strong> Order of bytes to pack <strong>numeric</strong> value.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataSigned</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td><strong>Only for int/long types</strong> indicates whether integer is signed value or not.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataExpression</td>
      <td style="text-align: left"> </td>
      <td>Python <a href="https://docs.python.org/3/library/functions.html#eval">eval()</a> expression to modify attribute value in some way before packing it to array of bytes.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataEncoding</td>
      <td style="text-align: left"><strong>ascii</strong></td>
      <td><strong>Only for string values</strong> <a href="https://docs.python.org/3/library/codecs.html#standard-encodings">Encoding</a> of string packing.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataBefore</td>
      <td style="text-align: left"> </td>
      <td>Hexadecimal string of bytes that are preceded value bytes.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataAfter</td>
      <td style="text-align: left"> </td>
      <td>Hexadecimal string of bytes that are followed by value bytes.</td>
    </tr>
  </tbody>
</table>

<p>The steps of processing an attribute update are the following:</p>

<ol>
  <li>If <em>dataExpression</em> is set, <a href="/docs/reference/gateway-mqtt-api/#subscribe-to-attribute-updates-from-the-server">the value</a> that received from Thingsboard server is modified via Python <a href="https://docs.python.org/3/library/functions.html#eval">eval()</a> API. The variable <em>value</em> is available in <em>dataExpression</em>. This is a value of the attribute that was changed.
If <em>dataExpression</em> is not set, the value is left as it is.</li>
  <li>The value from the step 1 is packed to the array of bytes based on its type (deduced by Python <a href="https://docs.python.org/3/library/functions.html#isinstance">isinstance()</a> API) and <a href="/docs/iot-gateway/config/can/#subsection-attributeupdates">configuration</a> provided for this attribute. <strong>Note</strong>, <em>float</em> type value requires 4 bytes.</li>
  <li>If <em>dataBefore</em> or/and <em>dataAfter</em> are set, they are converted to the arrays of bytes and are added to the <em>value</em> bytes (from the step 2) before and after respectively.</li>
  <li>Send the final byte array through a CAN bus.</li>
</ol>

<h4 id="subsection-serversiderpc">Subsection “serverSideRpc”</h4>
<p>This subsection provides the list of configurations to process RPC commands from a ThingsBoard server to a device.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Parameter</strong></th>
      <th style="text-align: left"><strong>Default value</strong></th>
      <th><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>method</strong></td>
      <td style="text-align: left"> </td>
      <td>Name of RPC command.</td>
    </tr>
    <tr>
      <td style="text-align: left">response</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td>If true, <a href="/docs/reference/gateway-mqtt-api/#server-side-rpc">response</a> will be sent to ThingsBoard.</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>nodeId</strong></td>
      <td style="text-align: left"> </td>
      <td>CAN node (arbitration) id.</td>
    </tr>
    <tr>
      <td style="text-align: left">isExtendedId</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td>If True means extended CAN node (arbitration) id.</td>
    </tr>
    <tr>
      <td style="text-align: left">isFd</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td>If True means using CAN FD mode.</td>
    </tr>
    <tr>
      <td style="text-align: left">bitrateSwitch</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td><strong>Only for CAN FD mode</strong> If True means a higher bitrate is used for the data transmission.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataLength</td>
      <td style="text-align: left"><strong>1</strong></td>
      <td><strong>Only for integer values</strong> Number of bytes to pack <strong>integer</strong> value.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataByteorder</td>
      <td style="text-align: left"><strong>big</strong></td>
      <td><strong>Only for integer and float values</strong> Order of bytes to pack <strong>numeric</strong> value.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataSigned</td>
      <td style="text-align: left"><strong>false</strong></td>
      <td><strong>Only for int/long types</strong> indicates whether integer is signed value or not.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataExpression</td>
      <td style="text-align: left"> </td>
      <td>Python <a href="https://docs.python.org/3/library/functions.html#eval">eval()</a> expression to modify attribute value in some way before packing it to array of bytes.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataEncoding</td>
      <td style="text-align: left"><strong>ascii</strong></td>
      <td><strong>Only for string values</strong> <a href="https://docs.python.org/3/library/codecs.html#standard-encodings">Encoding</a> of string packing.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataBefore</td>
      <td style="text-align: left"> </td>
      <td>Hexadecimal string of bytes that are preceded value bytes.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataAfter</td>
      <td style="text-align: left"> </td>
      <td>Hexadecimal string of bytes that are followed by value bytes.</td>
    </tr>
    <tr>
      <td style="text-align: left">dataInHex</td>
      <td style="text-align: left"> </td>
      <td><strong>Only for RPC without parameters</strong> Hexadecimal string of bytes that are sent to CAN node.</td>
    </tr>
  </tbody>
</table>

<p>The CAN connector supports RPC commands <em>without</em> and <em>with</em> parameters (see <a href="/docs/reference/gateway-mqtt-api/#server-side-rpc">params</a> JSON object).</p>

<p>The <em>without parameters</em> RPC type requires <strong>only</strong> <em>dataInHex</em> to be set (another <em>data*</em> options are not used). The value of <em>dataInHex</em> is sent as payload of a CAN message each time when the RPC command is processed.</p>

<p>The <em>with parameters</em> RPC type is based on all <em>data*</em> options except <em>dataInHex</em>. The steps of processing are the same as for <a href="/docs/iot-gateway/config/can/#subsection-attributeupdates">attribute updates</a> except:</p>
<ul>
  <li>if <em>dataExpression</em> is <strong>not set</strong>, <a href="/docs/reference/gateway-mqtt-api/#server-side-rpc">RPC params</a> <strong>must have</strong> the JSON property named <em>value</em>. The value of this JSON property is packed to the array of bytes and send to CAN node as payload of a CAN message.
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
</span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Car"</span><span class="p">,</span><span class="w"> 
</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"setLightLevel"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>if <em>dataExpression</em> is <strong>set</strong>, no specific JSON property is required and <a href="/docs/reference/gateway-mqtt-api/#server-side-rpc">all RPC params</a> are available in <em>dataExpression</em>.<br />
<br /><br />For example, <strong>user</strong> want to pick up a car speed to <strong>150 mph</strong>, but a car control system has its own <strong>limit</strong> that is set to <strong>100 mph</strong>.
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
</span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Car"</span><span class="p">,</span><span class="w"> 
</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"setSpeed"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"userSpeed"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxAllowedSpeed"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
    <p>The configuration of such RPC command is set in the way <strong>whether user exceeds the limit</strong> the speed of a car is <strong>forcibly set to this limit</strong>:</p>
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="nl">"serverSideRpc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"setSpeed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nodeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dataBefore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dataAfter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aabb"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dataExpression"</span><span class="p">:</span><span class="w"> </span><span class="s2">"userSpeed if maxAllowedSpeed &gt; userSpeed else maxAllowedSpeed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div>    </div>
    <p>So after processing the <em>setSpeed</em> RPC command CAN payload is following: 
<code class="language-plaintext highlighter-rouge">[ 0x09, 0x64, 0xAA, 0xBB ]</code>, where <strong>0x64</strong> is <strong>100 mph</strong> because <strong>user exceeds the limit</strong>.</p>
  </li>
</ul>

<h2 id="next-steps">Next steps</h2>

<p>Explore guides related to main ThingsBoard features:</p>

<ul>
  <li><a href="/docs/user-guide/visualization/">Data Visualization</a> - how to visualize collected data.</li>
  <li><a href="/docs/user-guide/attributes/">Device attributes</a> - how to use device attributes.</li>
  <li><a href="/docs/user-guide/telemetry/">Telemetry data collection</a> - how to collect telemetry data.</li>
  <li><a href="/docs/user-guide/rpc/">Using RPC capabilities</a> - how to send commands to/from devices.</li>
  <li><a href="/docs/user-guide/rule-engine/">Rule Engine</a> - how to use rule engine to analyze data from devices.</li>
</ul>

      </div>
      <footer>
	<main class="light-text">
		<div class="newsletterSubsContainer">
            <script type="text/javascript">
                function subscribeForNewsletter(event) {
                    event.stopPropagation();
                    var script_tag = document.createElement('script');
                    script_tag.setAttribute("type", "text/javascript");
                    script_tag.setAttribute("src", "https://static.mailerlite.com/js/w/webforms.min.js?v28bf44f740701752bfc6767bc7e171d4");
                    document.getElementsByTagName("head")[0].appendChild(script_tag);
                    $(event.target).css('display', 'none');
                    $('#mlb2-7341216').css('display', 'block');
                }
            </script>
            <button class="n-button price subscribe" onClick="subscribeForNewsletter(event)">Sign up for ThingsBoard news</button>
            <div id="mlb2-7341216" class="ml-subscribe-form ml-subscribe-form-7341216" style="display: none;">
<!--            <div id="mlb2-7341216" class="ml-subscribe-form ml-subscribe-form-7341216" style="display: block;">-->
                <div class="ml-vertical-align-center">
                    <div class="subscribe-form ml-block-success" style="display: none;">
                        <div class="form-section">
                            <p>Thank you for your interest in ThingsBoard!<br/>Have a great day!</p>
                        </div>
                    </div>
                    <form class="ml-block-form" action="https://static.mailerlite.com/webforms/submit/r9r9x7" data-id="708170" data-code="r9r9x7" method="POST" target="_blank">
                        <div class="subscribe-form horizontal">
                            <div class="form-section horizontal">
                                <div class="form-group ml-field-email ml-validate-required ml-validate-email">
                                    <input type="email" name="fields[email]" class="form-control" placeholder="Email address*" value="" autocomplete="email" x-autocompletetype="email" spellcheck="false" autocapitalize="off" autocorrect="off">
                                </div>
                            </div>
                            <input type="hidden" name="ml-submit" value="1">
                            <div class="form-section horizontal ml-button-position">
                                <button class="primary n-button price subscribe" type="submit">
                                    Subscribe
                                </button>
                                <button disabled="disabled" style="display: none;" type="button" class="n-button loading">
                                    <img src="https://static.mailerlite.com/images/rolling@2x.gif" width="20" height="20" style="width: 20px; height: 20px;">
                                </button>
                            </div>
                            <p>By subscribing you agree to receive newsletters from ThingsBoard, Inc.</p>
                        </div>
                    </form>
                </div>
            </div>
		</div>

        <hr>

        <div class="deeper">
            <a href="/" class="footer-logo"></a>
            <nav>
                <a href="/docs/getting-started-guides/helloworld/">Get Started</a>
                <a href="/docs/">Documentation</a>
                <a href="/iot-use-cases/">Use cases</a>
                <a href="https://blog.thingsboard.io/">Blog</a>
                <a href="/docs/services/">Services</a>
                <a href="/docs/contact-us/">Contact us</a>
            </nav>
        </div>

        <div class="deepmost">
            <div class="copyright">&copy; 2021 The ThingsBoard Authors</div>
            <div class="social">
                <a href="https://github.com/thingsboard/thingsboard" class="github"></a>
                <a href="https://gitter.im/thingsboard/chat" class="gitter"></a>
                <a href="https://www.youtube.com/thingsboard" class="youtube"></a>
                <a href="http://stackoverflow.com/questions/tagged/thingsboard" class="stack-overflow"></a>
                <a href="https://groups.google.com/forum/#!forum/thingsboard" class="mailing-list"></a>
                <a href="https://www.facebook.com/thingsboard" class="facebook"></a>
                <a href="https://twitter.com/thingsboard" class="twitter"></a>
            </div>
        </div>
	</main>
</footer>

  </div>
</section>

<style>
  .cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
  }
  .gsc-control-cse table, .gsc-control-cse-en table {
    margin:0px !important;
  }
  .gsc-above-wrapper-area {
    border-bottom: 0;
  }
</style>
<script>
    jqueryDefer(function () {
        $(document).on('selectionchange',function() {
        // $(document).mouseup(function () {
            $('.clipboard-btn').removeClass('noChars');
            var selectedChars = getSelectedText();
            // $('#numberChars').html(selectedChars.length);
            if (selectedChars == 0) {
                $('.clipboard-btn').addClass('noChars');
            }
        });
    });
    function getSelectedText() {
        var text;
        if (window.getSelection) {
            text = window.getSelection().toString();
        } else if (document.getSelection) {
            text = document.getSelection();
        } else if (document.selection) {
            text = document.selection.createRange().text;
        }
        return text;
    }
</script>
<script>
    jqueryDefer(function () {
        $(document).ready(function () {
            var allCodeBlocksElements = $(".copy-code");
            allCodeBlocksElements.each(function (i) {
                var codeBlock = $(this);
                if (!codeBlock.hasClass('highlighter-rouge')) {
                    codeBlock = codeBlock.find('.highlighter-rouge');
                }
                codeBlock.each(function () {
                    var block = codeBlock.find('pre.highlight > code .rouge-code');
                    var currentId = "codeblock" + (i + 1);
                    block.attr('id', currentId);
                    var clipButton = $('<button class="clipboard-btn" data-clipboard-target="#' + currentId + '"><p>Copy to clipboard</p><div><img src="/images/copy-code-icon.svg" alt="Copy to clipboard"></div></button>');
                    $(this).append(clipButton);
                    var troyan = codeBlock.find('pre.highlight');
                    var Tooltip = $('<div class="customTooltip"><div class="tooltipText">Copied!</div></div>');
                    troyan.append(Tooltip);
                    troyan.addClass('clipboard-btn');
                    troyan.attr('data-clipboard-target', "#" + currentId);
                    troyan.on('mouseleave', clearTooltip);
                    troyan.on('blur', clearTooltip);
                    troyan.on('click', function(e) {
                        var el = $(e.currentTarget);
                        if (el.hasClass('showTool')) {
                            clearTooltip(e);
                            troyan.attr('data-skip-tooltip', "true");
                        }
                    });
                });
            });

            var clipboard = new Clipboard('.noChars');
            clipboard.on('success', function (e) {
                $('.clipboard-btn').removeClass('noChars');
                e.clearSelection();
                var trigger = e.trigger;
                if (!$(trigger).attr('data-skip-tooltip')) {
                    showTooltip(e.trigger, 'Copied!');
                } else {
                    $(trigger).removeAttr('data-skip-tooltip');
                }
            });

            $('#search').focus(
                function(){
                    $(this).parent('#searchBox').addClass('focused');
                }).blur(
                function(){
                    $(this).parent('#searchBox').removeClass('focused');
                });

            $('#searchBox .searchButton').click(function () {
                var value = $('#search').val();
                window.location.replace('/docs/gw/search/?q=' + value);
            });

            $('#docsBreadcrumbs').click(function () {
                if ($(this).hasClass('active')) {
                    $(this).removeClass('active');
                    $('#docsNav').removeClass('active');
                    $('#searchBox').removeClass('visible');
                } else {
                    $(this).addClass('active');
                    $('#docsNav').addClass('active');
                    $('#searchBox').addClass('visible');
                }
            });
        });

        function clearTooltip(e) {
            var el = $(e.currentTarget);
            el.removeClass('showTool');
            el.attr('aria-label', null);
        }

        function showTooltip(elem, msg) {
            var el = $(elem);
            el.addClass('showTool');
            el.attr('aria-label', msg);
        }
    });
</script>

<script>
    jqueryDefer(function () {
        var markdownTocs = null;
        var contentAnchors = [];
        var activeAnchor = null;
        var firstAnchor = null;
        var lastAnchor = null;

        function updatePositions() {
            contentAnchors = [];
            markdownTocs.each(function (i) {
                var tocAnchor = $(this).children('a');
                var href = tocAnchor.attr('href');
                var contentAnchor = $('div#content ' + href);
                var top = Math.floor(contentAnchor.offset().top);
                var bottom;
                if (i < markdownTocs.length - 1) {
                    var nextHref = $(markdownTocs[i + 1]).children('a').attr('href');
                    var nextContentAnchor = $('div#content ' + nextHref);
                    bottom = Math.floor(nextContentAnchor.offset().top);
                } else {
                    bottom = $('div#content').offset().top + $('div#content').innerHeight();
                }
                var contentAnchorInfo = {anchor: contentAnchor, toc: $(this), top: top, bottom: bottom, href: href};
                contentAnchors.push(contentAnchorInfo);
                if (i === 0) {
                    firstAnchor = contentAnchorInfo;
                }
                if (i === markdownTocs.length - 1) {
                    lastAnchor = contentAnchorInfo;
                }
            });
        }

        function findActiveContentToc() {
            var top = $(window).scrollTop();
            var bottom = top + $(window).height();
            if (bottom === $('#encyclopedia').offset().top + $('#encyclopedia').innerHeight()) {
                return lastAnchor;
            } else {
                bottom -= 154;
                for (var i = 0; i < contentAnchors.length; i++) {
                    var contentAnchor = contentAnchors[i];
                    if (contentAnchor.top <= bottom &&
                        contentAnchor.bottom > top) {
                        return contentAnchor;
                    }
                }
            }
            return firstAnchor;
        }

        function updateActiveToc(init) {
            updatePositions();
            var newActiveAnchor = findActiveContentToc();
            if (!activeAnchor || newActiveAnchor.href !== activeAnchor.href) {
                activeAnchor = newActiveAnchor;
                markdownTocs.removeClass('active');
                activeAnchor.toc.addClass('active');
                var tocTop = $('#table-of-contents').scrollTop() + 100;
                var tocBottom = tocTop + $('#table-of-contents').innerHeight() - 200;
                var activeTocTop = activeAnchor.toc.position().top;
                var activeTocBottom = activeTocTop + activeAnchor.toc.children(':first').height();
                if (tocTop > activeTocTop) {
                    activeAnchor.toc[0].scrollIntoView();
                    $('#table-of-contents')[0].scrollTop -= 100;
                } else if (tocBottom < activeTocBottom) {
                    activeAnchor.toc[0].scrollIntoView();
                    $('#table-of-contents')[0].scrollTop += init ? -100 : 100;
                }
            }
        }
        $( document ).ready(function() {
            var tocs = $('#content > ul#markdown-toc');
            var tableOfContents = $('#table-of-contents');
            tableOfContents.append(tocs);
            markdownTocs = $('#table-of-contents ul#markdown-toc li').filter(function() {
                var tocAnchor = $(this).children('a');
                var href = tocAnchor.attr('href');
                if (!href.startsWith('#')) {
                    return false;
                } else {
                    var contentAnchor = $('div#content ' + href);
                    return contentAnchor.length > 0;
                }
            });
            updateActiveToc(true);
        });

        $(document).on("scroll", function() {
            updateActiveToc(false);
        });

    });
</script>

</body>
</html>

