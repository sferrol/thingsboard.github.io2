







<!Doctype html>
<html id="docs" class="ThingsBoard API reference">







<head>
    <meta charset="utf-8">
    <meta name="cf-2fa-verify" content="a08672380de15e9">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>CoAP Device API Reference | ThingsBoard Community Edition</title>
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="CoAP Device API Reference" />
<meta name="author" content="thingsboard" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://0.0.0.0:4002/docs/reference/coap-api/" />
<meta property="og:url" content="http://0.0.0.0:4002/docs/reference/coap-api/" />
<meta property="og:site_name" content="ThingsBoard" />
<meta property="og:image" content="http://0.0.0.0:4002/images/thingsboard_logo.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://0.0.0.0:4002/images/thingsboard_logo.png" />
<meta property="twitter:title" content="CoAP Device API Reference" />
<meta name="twitter:site" content="@thingsboard" />
<meta name="twitter:creator" content="@thingsboard" />
<script type="application/ld+json">
{"url":"http://0.0.0.0:4002/docs/reference/coap-api/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4002/images/thingsboard_logo.png"},"name":"thingsboard"},"author":{"@type":"Person","name":"thingsboard"},"image":{"twitter":"/images/thingsboard_logo.png","facebook":"/images/thingsboard_logo.png","url":"http://0.0.0.0:4002/images/thingsboard_logo.png","@type":"imageObject"},"@type":"WebPage","headline":"CoAP Device API Reference","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
    
    
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/styles.css">
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.7.0/qs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gifffer/1.5.0/gifffer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
    <script type="text/javascript">
        window.onload = function() {
            Gifffer();
        }
    </script>
    <script type="text/javascript">
        /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
        !function (a) {
            "use strict";
            var b = function (b, c, d) {
                function e(a) {
                    return h.body ? a() : void setTimeout(function () {
                        e(a)
                    })
                }

                function f() {
                    i.addEventListener && i.removeEventListener("load", f), i.media = d || "all"
                }

                var g, h = a.document, i = h.createElement("link");
                if (c) g = c; else {
                    var j = (h.body || h.getElementsByTagName("head")[0]).childNodes;
                    g = j[j.length - 1]
                }
                var k = h.styleSheets;
                i.rel = "stylesheet", i.href = b, i.media = "only x", e(function () {
                    g.parentNode.insertBefore(i, c ? g : g.nextSibling)
                });
                var l = function (a) {
                    for (var b = i.href, c = k.length; c--;) if (k[c].href === b) return a();
                    setTimeout(function () {
                        l(a)
                    })
                };
                return i.addEventListener && i.addEventListener("load", f), i.onloadcssdefined = l, l(f), i
            };
            "undefined" != typeof exports ? exports.loadCSS = b : a.loadCSS = b
        }("undefined" != typeof global ? global : this);

        /*! onloadCSS. (onload callback for loadCSS) [c]2017 Filament Group, Inc. MIT License */
        function onloadCSS(a, b) {
            function c() {
                !d && b && (d = !0, b.call(a))
            }

            var d;
            a.addEventListener && a.addEventListener("load", c), a.attachEvent && a.attachEvent("onload", c), "isApplicationInstalled" in navigator && "onloadcssdefined" in a && a.onloadcssdefined(c)
        }
    </script>
    <script type="text/javascript">

        function jqueryDefer(method) {
            if (window.jQuery) {
                method();
            } else {
                setTimeout(function () {
                    jqueryDefer(method)
                }, 50);
            }
        }

        function jqueryUiDefer(method) {
            if (window.jQuery && window.jQuery.ui) {
                method();
            } else {
                setTimeout(function () {
                    jqueryUiDefer(method)
                }, 50);
            }
        }

        window.vis = (function () {
            var stateKey,
                eventKey,
                keys = {
                    hidden: "visibilitychange",
                    webkitHidden: "webkitvisibilitychange",
                    mozHidden: "mozvisibilitychange",
                    msHidden: "msvisibilitychange"
                };
            for (stateKey in keys) {
                if (stateKey in document) {
                    eventKey = keys[stateKey];
                    break;
                }
            }
            return function (c) {
                if (c) document.addEventListener(eventKey, c);
                return !document[stateKey];
            }
        })();

        function loadScript(src, callback) {
            var s, r, t;
            r = false;
            s = document.createElement('script');
            s.type = 'text/javascript';
            s.src = src;
            s.onload = s.onreadystatechange = function () {
                if (!r && (!this.readyState || this.readyState == 'complete')) {
                    r = true;
                    if (callback) {
                        callback();
                    }
                }
            };
            t = document.getElementsByTagName('script')[0];
            t.parentNode.insertBefore(s, t);
        }

        function loadCssAsync(src, callback) {
            var stylesheet = loadCSS(src);
            if (callback) {
                onloadCSS(stylesheet, callback);
            }
        }

        function loadNextScript(index, scriptsList, completeCallback) {
            if (index < scriptsList.length) {
                var script = scriptsList[index];
                if (script.type === 'script') {
                    loadScript(script.src, function () {
                        if (script.callback) {
                            script.callback();
                        }
                        index++;
                        loadNextScript(index, scriptsList, completeCallback);
                    });
                } else if (script.type === 'css') {
                    loadCssAsync(script.src, function () {
                        index++;
                        loadNextScript(index, scriptsList, completeCallback);
                    });
                }
            } else if (completeCallback) {
                completeCallback();
            }
        }

        var initialScriptsList = [
            {src: '/js/jquery-2.2.0.min.js', type: 'script'},
            {src: '/css/jquery-ui.min.css', type: 'css'},
            {src: '/js/jquery-ui.min.js', type: 'script'},
            {src: '/js/jquery.vide.js', type: 'script'},
            {src: '/js/script.js', type: 'script'},
            {src: '/css/photoswipe.css', type: 'css'},
            {src: '/css/default-skin/default-skin.css', type: 'css'},
            {src: '/js/photoswipe.min.js', type: 'script'},
            {src: '/js/photoswipe-ui-default.min.js', type: 'script'}
        ];

        loadNextScript(0, initialScriptsList);

        jqueryDefer(function () {
            (function ($, win) {
                $.fn.inViewport = function (cb) {
                    return this.each(function (i, el) {
                        function visPx() {
                            var H = $(this).height(),
                                r = el.getBoundingClientRect(), t = r.top, b = r.bottom;
                            var result = cb.call(el, Math.max(0, t > 0 ? H - t : (b < H ? b : H)));
                            if (result) {
                                $(win).off("resize scroll", visPx);
                            }
                        }

                        visPx();
                        $(win).on("resize scroll", visPx);
                    });
                };
            }(jQuery, window));
        });

        function inViewportDefer(method) {
            if (window.jQuery && $.fn.inViewport) {
                method();
            } else {
                setTimeout(function () {
                    inViewportDefer(method)
                }, 50);
            }
        }

    </script>
    <script type="text/javascript">
        function _gaLt(event) {
            /* If GA is blocked or not loaded, or not main|middle|touch click then don't track */
            if (!ga.hasOwnProperty("loaded") || ga.loaded != true || (event.which != 1 && event.which != 2)) {
                return;
            }
            var el = event.srcElement || event.target;

            while (el && (typeof el.tagName == 'undefined' || el.tagName.toLowerCase() != 'a' || !el.href)) {
                el = el.parentNode;
            }
            if (el && el.href) {
                var link = el.href;
                if ((link.indexOf(location.host) == -1 || link.indexOf('.' + location.host) > 0) && !link.match(/^javascript\:/i)) {
                    var target = (el.target && !el.target.match(/^_(self|parent|top)$/i)) ? el.target : false;
                    if (event.ctrlKey || event.shiftKey || event.metaKey || event.which == 2) {
                        target = "_blank";
                    }

                    var hbrun = false; // tracker has not yet run
                    var hitBack = function () {
                        if (hbrun) return;
                        hbrun = true;
                        window.location.href = link;
                    };

                    if (target) {
                        ga(
                            "send", "event", "Outgoing Links", link,
                            document.location.pathname + document.location.search
                        );
                    } else {
                        event.preventDefault ? event.preventDefault() : event.returnValue = !1;
                        ga(
                            "send", "event", "Outgoing Links", link,
                            document.location.pathname + document.location.search, {
                                "hitCallback": hitBack
                            }
                        );

                        setTimeout(hitBack, 1000);
                    }
                }
            }
        }

        var _w = window;
        var _gaLtEvt = ("ontouchstart" in _w) ? "click" : "mousedown";
        _w.addEventListener ? _w.addEventListener("load", function () {
                document.body.addEventListener(_gaLtEvt, _gaLt, !1)
            }, !1)
            : _w.attachEvent && _w.attachEvent("onload", function () {
            document.body.attachEvent("on" + _gaLtEvt, _gaLt)
        });
    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-88383331-1', 'auto');
        ga('send', 'pageview');
    </script>
    <script>
        function Burger() {
            var header = $('header');
            var body = $('body');
            if (header.hasClass('opened-burger')) {
                header.removeClass('opened-burger');
                let subMenus = $('nav.head-menu > ul > li > div.centered-sub > ul.sub-menu');
                subMenus.removeClass('open-sub');
                body.css('overflow', '');
            } else {
                header.addClass('opened-burger');
                body.css('overflow', 'hidden');
            }
        }
    </script>
    <script>

        jqueryDefer(function () {
            let menuElement = $('nav.head-menu > ul');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            let menuItems = $('nav.head-menu > ul > li');
            let indicator = $('nav.head-menu > ul > div.indicator');
            let subMenuActive = false;
            menuElement.on('mouseleave', function (event) {
                if (!$(event.relatedTarget).parents('div.sub-menu-container').length) {
                    subMenuActive = false;
                    submenuContainer.removeClass('active bounds-transition');
                    menuItems.removeClass('active');
                    indicator.removeClass('left-transition');
                }
            });
            submenuContainer.on('mouseleave', function (event) {
                if (!$(event.relatedTarget).parents('nav.head-menu > ul').length) {
                    subMenuActive = false;
                    submenuContainer.removeClass('active bounds-transition');
                    menuItems.removeClass('active');
                    indicator.removeClass('left-transition');
                }
            });
            menuItems.each(function() {
                let item = $( this );
                let subMenuId = item.attr('data-submenu-id');
                item.on('mouseenter', function () {
                    let submenus = $('nav.head-menu > div.sub-menu-container > div');
                    submenus.css('display', 'none');
                    menuItems.removeClass('active');
                    item.addClass('active');
                    let targetSubMenu = $('nav.head-menu > div.sub-menu-container > div#'+subMenuId);
                    targetSubMenu.css('display', 'block');
                    submenuContainer.css('overflow', 'visible');
                    let left = item.position().left + (item.outerWidth() - targetSubMenu.outerWidth()) / 2;
                    submenuContainer.css('left', left + 'px');
                    if (!subMenuActive) {
                        submenuContainer.addClass('active');
                        subMenuActive = true;
                    } else {
                        submenuContainer.addClass('bounds-transition');
                        indicator.addClass('left-transition');
                    }
                    indicator.css('left', item.position().left);
                    indicator.css('width', item.outerWidth());
                    submenuContainer.css('height', targetSubMenu.outerHeight() + 'px');
                    submenuContainer.css('width', targetSubMenu.outerWidth() + 'px');
                    submenuContainer.css('overflow', 'hidden');
                });
            });

            let isMobile = $('button.burger').css('display') === 'block';
            if (isMobile) {
                initMobileSubmenu();
            }

            $(window).resize(function(){
                let newIsMobile = $('button.burger').css('display') === 'block';
                if (isMobile !== newIsMobile) {
                    isMobile = newIsMobile;
                    if (isMobile) {
                        initMobileSubmenu();
                    } else {
                        restoreDesktopSubmenu();
                    }
                }
            });

            // Products selector

            
            let productsSelector = $('.products-selector');
            $(window).click(function(e) {
                if (productsSelector[0].contains(e.target)) {
                    if (productsSelector.hasClass('active')) {
                        productsSelector.removeClass('active');
                    } else {
                        productsSelector.addClass('active');
                    }
                } else {
                    productsSelector.removeClass('active');
                }
            });
            

            // Rogue line numbers fix (don't show line numbers for 1 row)
            $( document ).ready(function() {
                $('.rouge-gutter.gl').each(function() {
                    var lineNumbers = $(this).children('.lineno');
                    if (lineNumbers.text() === '1\n') {
                        $(this).css('display', 'none');
                    }
                });
            });
        });

        function initMobileSubmenu() {

            var header = $('header');
            if (header.hasClass('opened-burger')) {
                var body = $('body');
                body.css('overflow', 'hidden');
            }

            let targetSubMenus = $('nav.head-menu > div.sub-menu-container > div');
            targetSubMenus.css('display', 'block');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            submenuContainer.removeClass('active');
            submenuContainer.css('display', 'none');

            targetSubMenus.each(function() {
                let subMenu = $( this );
                let subMenuId = subMenu.attr('id');
                let parent = $('nav.head-menu > ul > li.'+subMenuId);
                parent.append(subMenu);
            });
        }

        function restoreDesktopSubmenu() {
            var body = $('body');
            body.css('overflow', '');
            let targetSubMenus = $('nav.head-menu > ul > li > div');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            submenuContainer.removeClass('active');
            submenuContainer.css('display', 'block');
            let menuItems = $('nav.head-menu > ul > li');
            menuItems.removeClass('active');
            targetSubMenus.each(function() {
                let subMenu = $( this );
                submenuContainer.append(subMenu);
            });
        }

        function listburg(subMenuId) {
            let isMobile = $('button.burger').css('display') === 'block';
            if (isMobile) {
                let targetSubMenu = $('nav.head-menu > ul > li > div.centered-sub#'+subMenuId+' > ul.sub-menu');
                let isOpen = targetSubMenu.hasClass('open-sub');
                let subMenus = $('nav.head-menu > ul > li > div.centered-sub > ul.sub-menu');
                subMenus.removeClass('open-sub');
                if (!isOpen) {
                    targetSubMenu.addClass('open-sub');
                }
            }
        }
    </script>
</head>
<body>

<div class="products-selector">
    <img src="/images/thingsboard-cm-icon.svg"/>
    <div class="product-info">
        <div class="product-title">
            Community Edition
        </div>
        <div class="product-description">
            ThingsBoard Documentation
        </div>
    </div>
    <div class="products">
        
        

    
        
        


        
            
        
    


        <a href="/docs/paas/reference/coap-api/" class="product">Cloud</a>
        
        

    
        
        


        
            
        
    


        <a href="/docs/pe/reference/coap-api/" class="product">Professional Edition</a>
        
        

    
        
        


        
            
        
    


        <a href="/docs/reference/coap-api/" class="product active">Community Edition</a>
        
        

    


        <a href="/docs/edge/" class="product">Edge</a>
        
        

    


        <a href="/docs/iot-gateway/" class="product">IoT Gateway</a>
        
        

    


        <a href="/products/license-server/" class="product">License Server</a>
        
        

    


        <a href="/docs/trendz/" class="product">Trendz Analytics</a>
        
    </div>
</div>

<header>
    <div class="logo-burger">
        
        <button onclick="Burger()" class="burger"></button>
        <div id="githubButtonContainer">
            <a class="github-button" href="https://github.com/thingsboard/thingsboard" data-show-count="true"
               aria-label="Star thingsboard/thingsboard on GitHub">Star</a>
        </div>
    </div>
    <nav class="head-menu">
        <ul>
            <li class="nav-products" data-submenu-id="nav-products">
                <a onclick="listburg('nav-products')">Products</a>
            </li>
            <li class="nav-services" data-submenu-id="nav-services">
                <a onclick="listburg('nav-services')">Services</a>
            </li>
            
            <li class="nav-cases" data-submenu-id="nav-cases">
                <a onclick="listburg('nav-cases')">Use Cases</a>
            </li>
            <li class="nav-customers" data-submenu-id="nav-customers">
                <a onclick="listburg('nav-customers')">Customers</a>
            </li>
            <li class="nav-company" data-submenu-id="nav-company">
                <a onclick="listburg('nav-company')">Company</a>
            </li>
            <div class="indicator"><div class="head-arrow"></div><div class="line"></div><div class="sub-background"></div></div>
        </ul>
        <div class="sub-menu-container">
            <div id="nav-products" class="centered-sub">
                <ul class="sub-menu products">
                    <div class="sub-groups">
                        <div class="group">
                            <p class="group-name">IoT platforms</p>
                            <a class="cloud-lnk" href="/products/paas/">
                                <img src="/images/thingsboard-c-icon.svg">
                                <div class="sub-text">
                                    <h1>Cloud</h1>
                                    <p>Platform as a service</p>
                                </div>
                            </a>
                            <a class="prof-lnk" href="/products/thingsboard-pe/">
                                <img src="/images/thingsboard-p-icon.svg">
                                <div class="sub-text">
                                    <h1>Professional Edition</h1>
                                    <p>Advanced IoT platform</p>
                                </div>
                            </a>
                            <a class="com-lnk" href="/">
                                <img src="/images/thingsboard-cm-icon.svg">
                                <div class="sub-text">
                                    <h1>Community Edition</h1>
                                    <p>Open source platform</p>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <p class="group-name">Product ecosystem</p>
                            <a class="edge-lnk" href="/products/thingsboard-edge/">
                                <img src="/images/thingsboard-e-icon.svg">
                                <div class="sub-text">
                                    <h1>Edge</h1>
                                    <p>Edge computing</p>
                                </div>
                            </a>
                            <a class="gateway-lnk" href="/docs/iot-gateway/what-is-iot-gateway/">
                                <img src="/images/gateway-icon.svg">
                                <div class="sub-text">
                                    <h1>IoT Gateway</h1>
                                    <p>Connect legacy protocols</p>
                                </div>
                            </a>
                            <a class="license-lnk" href="/products/license-server/">
                                <img src="/images/license-icon.svg">
                                <div class="sub-text">
                                    <h1>License Server</h1>
                                    <p>Billing solution</p>
                                </div>
                            </a>
                            <a class="trendz-lnk" href="/products/trendz/">
                                <img src="/images/trendz-icon.svg">
                                <div class="sub-text">
                                    <h1>Trendz Analytics</h1>
                                    <p>Data analytics and Prediction</p>
                                </div>
                            </a>
                        </div>
                    </div>
                </ul>
            </div>
            <div id="nav-services" class="centered-sub">
                <ul class="sub-menu services">
                    <a href="/docs/services/support/">
                        <img src="/images/support-icon.svg">
                        <div class="sub-text">
                            <h1>Support</h1>
                            <p>Support packages</p>
                        </div>
                    </a>
                    <a href="/docs/services/trainings/">
                        <img src="/images/train-icon.svg">
                        <div class="sub-text">
                            <h1>Trainings</h1>
                            <p>ThingsBoard education courses</p>
                        </div>
                    </a>
                    <a href="/docs/services/consulting/">
                        <img src="/images/prof-icon.svg">
                        <div class="sub-text">
                            <h1>Professional services</h1>
                            <p>Development of solutions by the ThingsBoard team</p>
                        </div>
                    </a>
                </ul>
            </div>
            
            <div id="nav-cases" class="centered-sub">
                <ul class="sub-menu cases">
                    <a href="/smart-metering/">
                        <img src="/images/case-met-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Metering</h1>
                            <p>Collection, analysis and visualization of data from meters</p>
                        </div>
                    </a>
                    <a href="/smart-energy/">
                        <img src="/images/case-eng-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Energy</h1>
                            <p>Energy monitoring and efficiency analysis</p>
                        </div>
                    </a>
                    <a href="/smart-farming/">
                        <img src="/images/case-fam-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Farming</h1>
                            <p>Monitoring of indoor conditions and plant growth characteristics</p>
                        </div>
                    </a>
                    <a href="/fleet-tracking/">
                        <img src="/images/case-trk-icon.svg">
                        <div class="sub-text">
                            <h1>Fleet Tracking</h1>
                            <p>Fleet tracking and fleet management</p>
                        </div>
                    </a>
                </ul>
            </div>
            <div id="nav-customers" class="centered-sub">
                <ul class="sub-menu customers">
                    <div class="sub-groups">
                        <div class="group">
                            <a class="small-link" href="/industries/smart-energy/">
                                <img src="/images/se-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart Energy</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/agriculture/">
                                <img src="/images/agr-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Agriculture</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/smart-buildings/">
                                <img src="/images/sb-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart Buildings</h1>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <a class="small-link" href="/industries/smart-city/">
                                <img src="/images/sc-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart City</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/telecom/">
                                <img src="/images/tel-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Telecom</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/industry40/">
                                <img src="/images/in-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Industry 4.0</h1>
                                </div>
                            </a>
                        </div>
                    </div>
                </ul>
            </div>
            <div id="nav-company" class="centered-sub">
                <ul class="sub-menu about">
                    <div class="sub-groups">
                        <div class="group">
                            <a class="small-link" href="/company/">
                                <img src="/images/about-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Our Company</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/docs/contact-us/">
                                <img src="/images/contact-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Contact Us</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/careers/">
                                <img src="/images/careers-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Careers</h1>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <a class="small-link" href="/mediakit/">
                                <img src="/images/media-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Media Kit</h1>
                                </div>
                            </a>
                            <a class="small-link" href="https://blog.thingsboard.io/">
                                <img src="/images/blog-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Blog</h1>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="bottom-group">
                        <a class="small-link" href="/partners/hardware/">
                            <img src="/images/hard-s-icon.svg">
                            <div class="sub-text">
                                <h1>Hardware partners</h1>
                            </div>
                        </a>
                        <a class="small-link" href="/partners/distributors/">
                            <img src="/images/dis-s-icon.svg">
                            <div class="sub-text">
                                <h1>Distributors</h1>
                            </div>
                        </a>
                    </div>
                </ul>
            </div>
        </div>
    </nav>
    <div>
        <a href="/installations/" class="n-button try">Try it now</a>
        <a href="/pricing/" class="n-button price">Pricing</a>
    </div>
</header>


<div id="searchBox">
    <input type="text" id="search" placeholder="Search" onkeydown="if (event.keyCode==13) window.location.replace('/docs/search/?q=' + this.value)">
    <button class="searchButton"></button>
</div>

<!--  HERO  -->
<section id="hero">
  <div id="hero-content">
    <div id="vendorStrip">
      <div id="docsList">
          <ul>
            
              
              
              
              <li>
                  <a href="/docs/getting-started-guides/helloworld/" >Getting Started</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/" >Documentation</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/guides/" >Guides</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/user-guide/install/installation-options/" >Installation</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/reference/" >Architecture</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/api/" class="YAH">API</a>
                  
                     <div class="indicator"><div class="head-arrow"></div><div class="line"></div><div class="sub-background"></div></div>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/faq/" >FAQ</a>
                  
              </li>
            
          </ul>
          <div id="docsBreadcrumbs">
              
                  
                  
                  
                  
                      
                  
                      
                  
                      
                         
                         
                         
    

    

    
        
        
        

                         
                            
                  
                    <span class="item">API</span>
                    
                        <span class="divider">></span>
                    
                  
                    <span class="item">Device Connectivity APIs</span>
                    
                        <span class="divider">></span>
                    
                  
                    <span class="item">CoAP Device API</span>
                    
                  
              
          </div>
      </div>
    </div>
  </div>
</section>
<div id="docsNav">
    <div class="docItems">
        
            
            
                <a class="toc" href="/docs/getting-started-guides/helloworld/" >Getting Started</a>
            
        
            
            
                <a class="toc" href="/docs/" >Documentation</a>
            
        
            
            
                <a class="toc" href="/docs/guides/" >Guides</a>
            
        
            
            
                <a class="toc" href="/docs/user-guide/install/installation-options/" >Installation</a>
            
        
            
            
                <a class="toc" href="/docs/reference/" >Architecture</a>
            
        
            
            
                <div class="pi-accordion">
                    


<a class="item" data-title="ThingsBoard API reference" href="/docs/api/"></a>


<a class="item" data-title="Device Connectivity Protocols" href="/docs/reference/protocols/"></a>


<div class="item" data-title="Device Connectivity APIs">
  <div class="container">


<a class="item" data-title="MQTT Device API" href="/docs/reference/mqtt-api/"></a>


<a class="item" data-title="MQTT Gateway API Reference" href="/docs/reference/gateway-mqtt-api/"></a>


<a class="item" data-title="CoAP Device API" href="/docs/reference/coap-api/"></a>


<a class="item" data-title="HTTP Device API" href="/docs/reference/http-api/"></a>


<a class="item item-new" data-title="LWM2M Device API" href="/docs/reference/lwm2m-api/"></a>
  </div>
</div>


<div class="item" data-title="REST APIs and clients">
  <div class="container">


<a class="item" data-title="Administration REST API" href="/docs/reference/rest-api/"></a>


<a class="item" data-title="Java REST Client" href="/docs/reference/rest-client/"></a>


<a class="item" data-title="Python REST Client" href="/docs/reference/python-rest-client/"></a>


<a class="item" data-title="Dart API Client" href="/docs/reference/dart-client/"></a>
  </div>
</div>


<div class="item item-new" data-title="Software development kits">
  <div class="container">


<a class="item" data-title="Python Client SDK" href="/docs/reference/python-client-sdk/"></a>
  </div>
</div>
                </div>
            
        
            
            
                <a class="toc" href="/docs/faq/" >FAQ</a>
            
        
    </div>
</div>








<section id="encyclopedia">
  
  <div id="docsToc">
        <div class="pi-accordion">
        


<a class="item" data-title="ThingsBoard API reference" href="/docs/api/"></a>


<a class="item" data-title="Device Connectivity Protocols" href="/docs/reference/protocols/"></a>


<div class="item" data-title="Device Connectivity APIs">
  <div class="container">


<a class="item" data-title="MQTT Device API" href="/docs/reference/mqtt-api/"></a>


<a class="item" data-title="MQTT Gateway API Reference" href="/docs/reference/gateway-mqtt-api/"></a>


<a class="item" data-title="CoAP Device API" href="/docs/reference/coap-api/"></a>


<a class="item" data-title="HTTP Device API" href="/docs/reference/http-api/"></a>


<a class="item item-new" data-title="LWM2M Device API" href="/docs/reference/lwm2m-api/"></a>
  </div>
</div>


<div class="item" data-title="REST APIs and clients">
  <div class="container">


<a class="item" data-title="Administration REST API" href="/docs/reference/rest-api/"></a>


<a class="item" data-title="Java REST Client" href="/docs/reference/rest-client/"></a>


<a class="item" data-title="Python REST Client" href="/docs/reference/python-rest-client/"></a>


<a class="item" data-title="Dart API Client" href="/docs/reference/dart-client/"></a>
  </div>
</div>


<div class="item item-new" data-title="Software development kits">
  <div class="container">


<a class="item" data-title="Python Client SDK" href="/docs/reference/python-client-sdk/"></a>
  </div>
</div>
        </div> <!-- /pi-accordion -->
  </div> <!-- /docsToc -->
  
  <div id="docsContent" class=" hasTocContent">
      <div id="table-of-contents">
          
              <h4>On this page</h4>
          
      </div>
      <div id="top-spacer"></div>
      <h1>CoAP Device API Reference</h1>
      <div id="content">
          
<ul id="markdown-toc">
  <li><a href="#getting-started" id="markdown-toc-getting-started">Getting started</a>    <ul>
      <li><a href="#coap-basics" id="markdown-toc-coap-basics">CoAP basics</a></li>
      <li><a href="#client-libraries-setup" id="markdown-toc-client-libraries-setup">Client libraries setup</a></li>
      <li><a href="#coap-authentication-and-error-codes" id="markdown-toc-coap-authentication-and-error-codes">CoAP Authentication and error codes</a></li>
    </ul>
  </li>
  <li><a href="#key-value-format" id="markdown-toc-key-value-format">Key-value format</a></li>
  <li><a href="#telemetry-upload-api" id="markdown-toc-telemetry-upload-api">Telemetry upload API</a></li>
  <li><a href="#attributes-api" id="markdown-toc-attributes-api">Attributes API</a>    <ul>
      <li><a href="#publish-attribute-update-to-the-server" id="markdown-toc-publish-attribute-update-to-the-server">Publish attribute update to the server</a></li>
      <li><a href="#request-attribute-values-from-the-server" id="markdown-toc-request-attribute-values-from-the-server">Request attribute values from the server</a></li>
      <li><a href="#subscribe-to-attribute-updates-from-the-server" id="markdown-toc-subscribe-to-attribute-updates-from-the-server">Subscribe to attribute updates from the server</a></li>
    </ul>
  </li>
  <li><a href="#json-value-support" id="markdown-toc-json-value-support">JSON value support</a></li>
  <li><a href="#rpc-api" id="markdown-toc-rpc-api">RPC API</a>    <ul>
      <li><a href="#server-side-rpc" id="markdown-toc-server-side-rpc">Server-side RPC</a></li>
      <li><a href="#client-side-rpc" id="markdown-toc-client-side-rpc">Client-side RPC</a></li>
    </ul>
  </li>
  <li><a href="#claiming-devices" id="markdown-toc-claiming-devices">Claiming devices</a></li>
  <li><a href="#device-provisioning" id="markdown-toc-device-provisioning">Device provisioning</a></li>
  <li><a href="#firmware-api" id="markdown-toc-firmware-api">Firmware API</a></li>
  <li><a href="#protocol-customization" id="markdown-toc-protocol-customization">Protocol customization</a></li>
  <li><a href="#next-steps" id="markdown-toc-next-steps">Next steps</a></li>
</ul>

<h2 id="getting-started">Getting started</h2>

<h5 id="coap-basics">CoAP basics</h5>

<p><a href="https://en.wikipedia.org/wiki/Constrained_Application_Protocol">CoAP</a> is a light-weight IoT protocol for constrained devices. You can find more information about CoAP <a href="https://tools.ietf.org/html/rfc7252">here</a>.
CoAP protocol is UDP based, but similar to HTTP it uses request-response model. 
CoAP observes <a href="https://tools.ietf.org/html/rfc7641">option</a> allows to subscribe to resources and receive notifications on resource change.</p>

<p>ThingsBoard server nodes act as a CoAP Server that supports both regular and observe requests.</p>

<h5 id="client-libraries-setup">Client libraries setup</h5>

<p>You can find CoAP client libraries for different programming languages on the web. Examples in this article will be based on <a href="https://www.npmjs.com/package/coap-cli">CoAP cli</a>.
In order to setup this tool, you can use instructions in our <a href="/docs/getting-started-guides/helloworld/">Hello World</a> guide.</p>

<p><strong>NOTE</strong>: CoAP cli does not support query parameters. If you require to use query parameters, you should use <a href="http://manpages.ubuntu.com/manpages/focal/man5/coap-client.5.html">coap client</a> instead. To install the coap-client please execute: <br /></p>

<ul>
  <li><strong>Ubuntu 20.04:</strong> <code class="language-plaintext highlighter-rouge">sudo apt install libcoap2-bin</code></li>
  <li><strong>Ubuntu 18.04:</strong> <code class="language-plaintext highlighter-rouge">sudo apt install libcoap1-bin</code></li>
</ul>

<h5 id="coap-authentication-and-error-codes">CoAP Authentication and error codes</h5>

<p>We will use <em>access token</em> device credentials in this article and they will be referred to later as <strong>$ACCESS_TOKEN</strong>.
The application needs to include <strong>$ACCESS_TOKEN</strong> as a path parameter into each CoAP request.
Possible error codes and their reasons:</p>

<ul>
  <li><strong>4.00 Bad Request</strong> - Invalid URL, request parameters or body.</li>
  <li><strong>4.01 Unauthorized</strong> - Invalid <strong>$ACCESS_TOKEN</strong>.</li>
  <li><strong>4.04 Not Found</strong> - Resource not found.</li>
</ul>

<h2 id="key-value-format">Key-value format</h2>

<p>By default, ThingsBoard supports key-value content in JSON. Key is always a string, while value can be either string, boolean, double, long or JSON.
For example:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
 </span><span class="nl">"stringKey"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">,</span><span class="w"> 
 </span><span class="nl">"booleanKey"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w"> 
 </span><span class="nl">"doubleKey"</span><span class="p">:</span><span class="mf">42.0</span><span class="p">,</span><span class="w"> 
 </span><span class="nl">"longKey"</span><span class="p">:</span><span class="mi">73</span><span class="p">,</span><span class="w"> 
 </span><span class="nl">"jsonKey"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"someNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"someArray"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="w">
    </span><span class="nl">"someNestedObject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>However, it is also possible to send data via <a href="https://developers.google.com/protocol-buffers">Protocol Buffers</a>.
Please refer to the <a href="/docs/user-guide/device-profiles/#coap-transport-type">CoAP transport type</a> configuration section in device profile article for more details.</p>

<p>Using custom binary format or some serialization framework is also possible. See <a href="#protocol-customization">protocol customization</a> for more details.</p>

<h2 id="telemetry-upload-api">Telemetry upload API</h2>

<p>In order to publish telemetry data to ThingsBoard server node, send POST request to the following URL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>coap://host/api/v1/<span class="nv">$ACCESS_TOKEN</span>/telemetry
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The simplest supported data formats are:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="nl">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">,</span><span class="w"> </span><span class="nl">"key2"</span><span class="p">:</span><span class="s2">"value2"</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>or</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">[{</span><span class="nl">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nl">"key2"</span><span class="p">:</span><span class="s2">"value2"</span><span class="p">}]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Please note</strong> that in this case, the server-side timestamp will be assigned to uploaded data!</p>

<p>In case your device is able to get the client-side timestamp, you can use following format:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="nl">"ts"</span><span class="p">:</span><span class="mi">1451649600512</span><span class="p">,</span><span class="w"> </span><span class="nl">"values"</span><span class="p">:{</span><span class="nl">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">,</span><span class="w"> </span><span class="nl">"key2"</span><span class="p">:</span><span class="s2">"value2"</span><span class="p">}}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>In the example above, we assume that 1451649600512 is a <a href="https://en.wikipedia.org/wiki/Unix_time">unix timestamp</a> with milliseconds precision.
For example, the value 1451649600512 corresponds to Fri, 01 Jan 2016 12:00:00.512 GMT</p>

<script>
  jqueryUiDefer(initTabs);
  function initTabs() {
    $(function(){
        $("#coap-telemetry-upload").tabs();
    });
  }
</script>

<div id="coap-telemetry-upload" class="docs-tabs">
  <div class="ui-tabs-scrollbox">
    <ul>
      <li><a href="#A">Example</a></li>
      <li><a href="#B">telemetry-data-as-object.json</a></li>
      <li><a href="#C">telemetry-data-as-array.json</a></li>
      <li><a href="#D">telemetry-data-with-ts.json</a></li>
    </ul>
  </div>
  <div id="A">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/coap-telemetry.sh"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="c"># for ThingsBoard Cloud</span>

<span class="c"># Publish data as an object without timestamp (server-side timestamp will be used)</span>
<span class="nb">cat </span>telemetry-data-as-object.json | coap post coap://coap.thingsboard.cloud/api/v1/<span class="nv">$ACCESS_TOKEN</span>/telemetry
<span class="c"># Publish data as an array of objects without timestamp (server-side timestamp will be used)</span>
<span class="nb">cat </span>telemetry-data-as-array.json | coap post coap://coap.thingsboard.cloud/api/v1/<span class="nv">$ACCESS_TOKEN</span>/telemetry
<span class="c"># Publish data as an object with timestamp (telemetry timestamp will be used)</span>
<span class="nb">cat </span>telemetry-data-with-ts.json | coap post coap://coap.thingsboard.cloud/api/v1/<span class="nv">$ACCESS_TOKEN</span>/telemetry

<span class="c"># for local ThingsBoard</span>

<span class="c"># Publish data as an object without timestamp (server-side timestamp will be used)</span>
<span class="nb">cat </span>telemetry-data-as-object.json | coap post coap://localhost/api/v1/<span class="nv">$ACCESS_TOKEN</span>/telemetry
<span class="c"># Publish data as an array of objects without timestamp (server-side timestamp will be used)</span>
<span class="nb">cat </span>telemetry-data-as-array.json | coap post coap://localhost/api/v1/<span class="nv">$ACCESS_TOKEN</span>/telemetry
<span class="c"># Publish data as an object with timestamp (telemetry timestamp will be used)</span>
<span class="nb">cat </span>telemetry-data-with-ts.json | coap post coap://localhost/api/v1/<span class="nv">$ACCESS_TOKEN</span>/telemetry
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="B">
    <table class="includecode">
<tr><td>
<div class="language-json copy-code highlighter-rouge" id="resources/telemetry-data-as-object.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"stringKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"booleanKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"doubleKey"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"longKey"</span><span class="p">:</span><span class="w"> </span><span class="mi">73</span><span class="p">,</span><span class="w">
  </span><span class="nl">"jsonKey"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"someNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"someArray"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="w">
    </span><span class="nl">"someNestedObject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="C">
    <table class="includecode">
<tr><td>
<div class="language-json copy-code highlighter-rouge" id="resources/telemetry-data-as-array.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">[{</span><span class="nl">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nl">"key2"</span><span class="p">:</span><span class="kc">true</span><span class="p">}]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="D">
    <table class="includecode">
<tr><td>
<div class="language-json copy-code highlighter-rouge" id="resources/telemetry-data-with-ts.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1451649600512</span><span class="p">,</span><span class="w">
  </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"stringKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"booleanKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"doubleKey"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"longKey"</span><span class="p">:</span><span class="w"> </span><span class="mi">73</span><span class="p">,</span><span class="w">
    </span><span class="nl">"jsonKey"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"someNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
      </span><span class="nl">"someArray"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w">
      </span><span class="nl">"someNestedObject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
</div>

<h2 id="attributes-api">Attributes API</h2>

<p>ThingsBoard attributes API allows devices to</p>

<ul>
  <li>Upload <a href="/docs/user-guide/attributes/#attribute-types">client-side</a> device attributes to the server.</li>
  <li>Request <a href="/docs/user-guide/attributes/#attribute-types">client-side</a> and <a href="/docs/user-guide/attributes/#attribute-types">shared</a> device attributes from the server.</li>
  <li>Subscribe to <a href="/docs/user-guide/attributes/#attribute-types">shared</a> device attributes from the server.</li>
</ul>

<h5 id="publish-attribute-update-to-the-server">Publish attribute update to the server</h5>

<p>In order to publish client-side device attributes to ThingsBoard server node, send POST request to the following URL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>coap://host/api/v1/<span class="nv">$ACCESS_TOKEN</span>/attributes
</pre></td></tr></tbody></table></code></pre></div></div>

<script>
  jqueryUiDefer(initTabs);
  function initTabs() {
    $(function(){
        $("#coap-attributes-upload").tabs();
    });
  }
</script>

<div id="coap-attributes-upload" class="docs-tabs">
  <div class="ui-tabs-scrollbox">
    <ul>
      <li><a href="#A">Example</a></li>
      <li><a href="#B">new-attributes-values.json</a></li>
    </ul>
  </div>
  <div id="A">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/coap-attributes-publish.sh"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># for ThingsBoard Cloud</span>

<span class="c"># Publish client-side attributes update</span>
<span class="nb">cat </span>new-attributes-values.json | coap post coap://coap.thingsboard.cloud/api/v1/<span class="nv">$ACCESS_TOKEN</span>/attributes

<span class="c"># for local ThingsBoard</span>

<span class="c"># Publish client-side attributes update</span>
<span class="nb">cat </span>new-attributes-values.json | coap post coap://localhost/api/v1/<span class="nv">$ACCESS_TOKEN</span>/attributes
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="B">
    <table class="includecode">
<tr><td>
<div class="language-json copy-code highlighter-rouge" id="resources/new-attributes-values.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"attribute1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attribute2"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attribute3"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attribute4"</span><span class="p">:</span><span class="w"> </span><span class="mi">73</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attribute5"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"someNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"someArray"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="w">
    </span><span class="nl">"someNestedObject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
</div>

<h5 id="request-attribute-values-from-the-server">Request attribute values from the server</h5>

<p>In order to request client-side or shared device attributes to ThingsBoard server node, send GET request to the following URL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>coap://host/api/v1/<span class="nv">$ACCESS_TOKEN</span>/attributes?clientKeys<span class="o">=</span>attribute1,attribute2&amp;sharedKeys<span class="o">=</span>shared1,shared2
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>NOTE</strong>: This example shown with the coap-client instead of CoAP cli since CoAP cli does not support query parameters. Please refer to <a href="#docsContent">Client libraries setup</a>.</p>

<script>
  jqueryUiDefer(initTabs);
  function initTabs() {
    $(function(){
        $("#coap-attributes-request").tabs();
    });
  }
</script>

<div id="coap-attributes-request" class="docs-tabs">
  <div class="ui-tabs-scrollbox">
    <ul>
      <li><a href="#A">Example</a></li>
      <li><a href="#B">Result</a></li>
    </ul>
  </div>
  <div id="A">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/coap-attributes-request.sh"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># for ThingsBoard Cloud</span>

<span class="c"># Send CoAP attributes request</span>
coap-client <span class="nt">-m</span> get <span class="s2">"coap://coap.thingsboard.cloud/api/v1/</span><span class="nv">$ACCESS_TOKEN</span><span class="s2">/attributes?clientKeys=attribute1,attribute2&amp;sharedKeys=shared1,shared2"</span>

<span class="c"># for local ThingsBoard</span>

<span class="c"># Send CoAP attributes request</span>
coap-client <span class="nt">-m</span> get <span class="s2">"coap://localhost/api/v1/</span><span class="nv">$ACCESS_TOKEN</span><span class="s2">/attributes?clientKeys=attribute1,attribute2&amp;sharedKeys=shared1,shared2"</span>
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="B">
    <table class="includecode">
<tr><td>
<div class="language-json copy-code highlighter-rouge" id="resources/attributes-response.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="nl">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
</div>

<p><strong>Please note</strong>, the intersection of client-side and shared device attribute keys is a bad practice! 
However, it is still possible to have same keys for client, shared or even server-side attributes.</p>

<h5 id="subscribe-to-attribute-updates-from-the-server">Subscribe to attribute updates from the server</h5>

<p>In order to subscribe to shared device attribute changes, send GET request with Observe option to the following URL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>coap://host/api/v1/<span class="nv">$ACCESS_TOKEN</span>/attributes
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Once shared attribute will be changed by one of the server-side components (REST API or Rule Chain) the client will receive the following update:</p>

<script>
  jqueryUiDefer(initTabs);
  function initTabs() {
    $(function(){
        $("#coap-attributes-subscribe").tabs();
    });
  }
</script>

<div id="coap-attributes-subscribe" class="docs-tabs">
  <div class="ui-tabs-scrollbox">
    <ul>
      <li><a href="#A">Example</a></li>
      <li><a href="#B">Result</a></li>
    </ul>
  </div>
  <div id="A">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/coap-attributes-subscribe.sh"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># for ThingsBoard Cloud</span>

<span class="c"># Subscribe to attribute updates</span>
coap get <span class="nt">-o</span> coap://coap.thingsboard.cloud/api/v1/<span class="nv">$ACCESS_TOKEN</span>/attributes

<span class="c"># for local ThingsBoard</span>

<span class="c"># Subscribe to attribute updates</span>
coap get <span class="nt">-o</span> coap://localhost/api/v1/<span class="nv">$ACCESS_TOKEN</span>/attributes
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="B">
    <table class="includecode">
<tr><td>
<div class="language-json copy-code highlighter-rouge" id="resources/attributes-response.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="nl">"key1"</span><span class="p">:</span><span class="s2">"value1"</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
</div>

<h2 id="json-value-support">JSON value support</h2>

<p>We added support of JSON data structures to telemetry and attributes API to simplify work with device configuration.
JSON support allows you to both upload from the device, and push to device nested objects.
You can store one configuration JSON as a shared attribute and push it to the device. You can also process the JSON data in the rule engine and raise alarms, etc.</p>

<p>Therefore, this improvement minimizes the number of Database operations when ThingsBoard stores the data.
For example, temperature and humidity would be stored as separate rows in SQL or NoSQL databases in order to efficiently aggregate this data for visualization.
Since there is no need to aggregate JSON data, we can store all the content as one row instead of separate rows for each configuration item.
In some of our environments, it is possible to decrease the number of database operations more than 10 times by aggregating multiple parameters within one JSON.</p>

<p>Learn more about JSON value support with the <a href="https://www.youtube.com/watch?v=ErV5Krwhak0&amp;ab_channel=ThingsBoard">video</a>.</p>

<h2 id="rpc-api">RPC API</h2>

<h5 id="server-side-rpc">Server-side RPC</h5>

<p>In order to subscribe to RPC commands from the server, send GET request with observe flag to the following URL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>coap://host/api/v1/<span class="nv">$ACCESS_TOKEN</span>/rpc
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Once subscribed, a client may receive rpc requests. An example of RPC request body is shown below:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"setGpio"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>where</p>

<ul>
  <li><strong>id</strong> - request id, integer request identifier</li>
  <li><strong>method</strong> - RPC method name, string</li>
  <li><strong>params</strong> - RPC method params, custom json object</li>
</ul>

<p>and can reply to them using POST request to the following URL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>coap://host/api/v1/<span class="nv">$ACCESS_TOKEN</span>/rpc/<span class="o">{</span><span class="nv">$id</span><span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>where <strong>$id</strong> is an integer request identifier.</p>

<script>
  jqueryUiDefer(initTabs);
  function initTabs() {
    $(function(){
        $("#coap-rpc-command").tabs();
    });
  }
</script>

<div id="coap-rpc-command" class="docs-tabs">
  <div class="ui-tabs-scrollbox">
    <ul>
      <li><a href="#A">Example Subscribe</a></li>
      <li><a href="#B">Example Reply</a></li>
      <li><a href="#C">Reply Body</a></li>
    </ul>
  </div>
  <div id="A">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/coap-rpc-subscribe.sh"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c"># for ThingsBoard Cloud</span>

<span class="c"># Subscribe to RPC requests</span>
<span class="c"># The s option stands for subscribe and the value has to be specified in seconds</span>
<span class="c"># The B options stands for break (the operation will be break after desired timeout) and the value has to be specified in seconds</span>
coap-client <span class="nt">-m</span> get coap://coap.thingsboard.cloud/api/v1/<span class="nv">$ACCESS_TOKEN</span>/rpc <span class="nt">-s</span> 100 <span class="nt">-B</span> 100

<span class="c"># for local ThingsBoard</span>

<span class="c"># Subscribe to RPC requests</span>
<span class="c"># The s option stands for subscribe and the value has to be specified in seconds</span>
<span class="c"># The B options stands for break (the operation will be break after desired timeout) and the value has to be specified in seconds</span>
coap-client <span class="nt">-m</span> get coap://localhost/api/v1/<span class="nv">$ACCESS_TOKEN</span>/rpc <span class="nt">-s</span> 100 <span class="nt">-B</span> 100
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="B">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/coap-rpc-reply.sh"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># Publish response to RPC request</span>
coap-client <span class="nt">-f</span> rpc-response.json <span class="nt">-m</span> post coap://localhost/api/v1/<span class="nv">$ACCESS_TOKEN</span>/rpc/1
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="C">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/rpc-response.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">{</span><span class="s2">"result"</span>:<span class="s2">"ok"</span><span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
</div>

<h5 id="client-side-rpc">Client-side RPC</h5>

<p>In order to send RPC commands to the server, send POST request to the following URL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>coap://host/api/v1/<span class="nv">$ACCESS_TOKEN</span>/rpc
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Both request and response body should be valid JSON documents. The content of the documents is specific to the rule node that will handle your request.</p>

<script>
  jqueryUiDefer(initTabs);
  function initTabs() {
    $(function(){
        $("#coap-rpc-from-client").tabs();
    });
  }
</script>

<div id="coap-rpc-from-client" class="docs-tabs">
  <div class="ui-tabs-scrollbox">
    <ul>
      <li><a href="#A">Example Request</a></li>
      <li><a href="#B">Request Body</a></li>
      <li><a href="#C">Response Body</a></li>
    </ul>
  </div>
  <div id="A">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/coap-rpc-from-client.sh"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># for ThingsBoard Cloud</span>

<span class="c"># Post client-side rpc request</span>
<span class="nb">cat </span>rpc-client-request.json | coap post coap://coap.thingsboard.cloud/api/v1/<span class="nv">$ACCESS_TOKEN</span>/rpc

<span class="c"># for local ThingsBoard</span>

<span class="c"># Post client-side rpc request</span>
<span class="nb">cat </span>rpc-client-request.json | coap post coap://localhost/api/v1/<span class="nv">$ACCESS_TOKEN</span>/rpc
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="B">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/rpc-client-request.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">{</span><span class="s2">"method"</span>: <span class="s2">"getTime"</span>, <span class="s2">"params"</span>:<span class="o">{}}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="C">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/rpc-server-response.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">{</span><span class="s2">"time"</span>:<span class="s2">"2016 11 21 12:54:44.287"</span><span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
</div>

<h2 id="claiming-devices">Claiming devices</h2>

<p>Please see the corresponding article to get more information about the <a href="/docs/user-guide/claiming-devices">Claiming devices</a> feature.</p>

<p>In order to initiate claiming device, send POST request to the following URL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>coap://host/api/v1/<span class="nv">$ACCESS_TOKEN</span>/claim
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The supported data format is:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="nl">"secretKey"</span><span class="p">:</span><span class="s2">"value"</span><span class="p">,</span><span class="w"> </span><span class="nl">"durationMs"</span><span class="p">:</span><span class="mi">60000</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Please note</strong> that the above fields are optional. In case the <strong>secretKey</strong> is not specified, the empty string as a default value is used.
In case the <strong>durationMs</strong> is not specified, the system parameter <strong>device.claim.duration</strong> is used (in the file <strong>/etc/thingsboard/conf/thingsboard.yml</strong>).</p>

<h2 id="device-provisioning">Device provisioning</h2>

<p>Please see the corresponding article to get more information about the <a href="/docs/user-guide/device-provisioning">Device provisioning</a> feature.</p>

<p>In order to initiate device provisioning, send POST request to the following URL:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>coap://host/api/v1/provision
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The supported data format is:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"deviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEVICE_NAME"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"provisionDeviceKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"u7piawkboq8v32dmcmpp"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"provisionDeviceSecret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jpmwdn8ptlswmf4m29bw"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="firmware-api">Firmware API</h2>

<p>The CoAP client has to issue the GET request to</p>

<div class="language-bash copy-code highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> coap get coap://host/api/v1/<span class="k">${</span><span class="nv">access_token</span><span class="k">}</span>/firmware?title<span class="o">=</span><span class="k">${</span><span class="nv">title</span><span class="k">}</span>&amp;version<span class="o">=</span><span class="k">${</span><span class="nv">version</span><span class="k">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Where<br />
<strong>host</strong> - your localhost, or the platform address;<br />
<strong>${access_token}</strong> -  device access token;<br />
<strong>${title}</strong> - the firmware title;<br />
<strong>${version}</strong> - the version of the target firmware.</p>

<h2 id="protocol-customization">Protocol customization</h2>

<p>CoAP transport can be fully customized for specific use-case by changing the corresponding <a href="https://github.com/thingsboard/thingsboard/tree/master/transport/coap">module</a>.</p>

<h2 id="next-steps">Next steps</h2>

<ul>
  <li>
    <p><a href="/docs/guides#AnchorIDGettingStartedGuides">Getting started guides</a> - These guides provide quick overview of main ThingsBoard features. Designed to be completed in 15-30 minutes.</p>
  </li>
  <li>
    <p><a href="/docs/user-guide/install/installation-options/">Installation guides</a> - Learn how to setup ThingsBoard on various available operating systems.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDDataVisualization">Data visualization</a> - These guides contain instructions how to configure complex ThingsBoard dashboards.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDDataProcessing">Data processing &amp; actions</a> - Learn how to use ThingsBoard Rule Engine.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDDataAnalytics">IoT Data analytics</a> - Learn how to use rule engine to perform basic analytics tasks.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDHardwareSamples">Hardware samples</a> - Learn how to connect various hardware platforms to ThingsBoard.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDAdvancedFeatures">Advanced features</a> - Learn about advanced ThingsBoard features.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDContribution">Contribution and Development</a> - Learn about contribution and development in ThingsBoard.</p>
  </li>
</ul>

<p><br /></p>


      </div>
      <footer>
	<main class="light-text">
		<div class="newsletterSubsContainer">
            <script type="text/javascript">
                function subscribeForNewsletter(event) {
                    event.stopPropagation();
                    var script_tag = document.createElement('script');
                    script_tag.setAttribute("type", "text/javascript");
                    script_tag.setAttribute("src", "https://static.mailerlite.com/js/w/webforms.min.js?v28bf44f740701752bfc6767bc7e171d4");
                    document.getElementsByTagName("head")[0].appendChild(script_tag);
                    $(event.target).css('display', 'none');
                    $('#mlb2-7341216').css('display', 'block');
                }
            </script>
            <button class="n-button price subscribe" onClick="subscribeForNewsletter(event)">Sign up for ThingsBoard news</button>
            <div id="mlb2-7341216" class="ml-subscribe-form ml-subscribe-form-7341216" style="display: none;">
<!--            <div id="mlb2-7341216" class="ml-subscribe-form ml-subscribe-form-7341216" style="display: block;">-->
                <div class="ml-vertical-align-center">
                    <div class="subscribe-form ml-block-success" style="display: none;">
                        <div class="form-section">
                            <p>Thank you for your interest in ThingsBoard!<br/>Have a great day!</p>
                        </div>
                    </div>
                    <form class="ml-block-form" action="https://static.mailerlite.com/webforms/submit/r9r9x7" data-id="708170" data-code="r9r9x7" method="POST" target="_blank">
                        <div class="subscribe-form horizontal">
                            <div class="form-section horizontal">
                                <div class="form-group ml-field-email ml-validate-required ml-validate-email">
                                    <input type="email" name="fields[email]" class="form-control" placeholder="Email address*" value="" autocomplete="email" x-autocompletetype="email" spellcheck="false" autocapitalize="off" autocorrect="off">
                                </div>
                            </div>
                            <input type="hidden" name="ml-submit" value="1">
                            <div class="form-section horizontal ml-button-position">
                                <button class="primary n-button price subscribe" type="submit">
                                    Subscribe
                                </button>
                                <button disabled="disabled" style="display: none;" type="button" class="n-button loading">
                                    <img src="https://static.mailerlite.com/images/rolling@2x.gif" width="20" height="20" style="width: 20px; height: 20px;">
                                </button>
                            </div>
                            <p>By subscribing you agree to receive newsletters from ThingsBoard, Inc.</p>
                        </div>
                    </form>
                </div>
            </div>
		</div>

        <hr>

        <div class="deeper">
            <a href="/" class="footer-logo"></a>
            <nav>
                <a href="/docs/getting-started-guides/helloworld/">Get Started</a>
                <a href="/docs/">Documentation</a>
                <a href="/iot-use-cases/">Use cases</a>
                <a href="https://blog.thingsboard.io/">Blog</a>
                <a href="/docs/services/">Services</a>
                <a href="/docs/contact-us/">Contact us</a>
            </nav>
        </div>

        <div class="deepmost">
            <div class="copyright">&copy; 2021 The ThingsBoard Authors</div>
            <div class="social">
                <a href="https://github.com/thingsboard/thingsboard" class="github"></a>
                <a href="https://gitter.im/thingsboard/chat" class="gitter"></a>
                <a href="https://www.youtube.com/thingsboard" class="youtube"></a>
                <a href="http://stackoverflow.com/questions/tagged/thingsboard" class="stack-overflow"></a>
                <a href="https://groups.google.com/forum/#!forum/thingsboard" class="mailing-list"></a>
                <a href="https://www.facebook.com/thingsboard" class="facebook"></a>
                <a href="https://twitter.com/thingsboard" class="twitter"></a>
            </div>
        </div>
	</main>
</footer>

  </div>
</section>

<style>
  .cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
  }
  .gsc-control-cse table, .gsc-control-cse-en table {
    margin:0px !important;
  }
  .gsc-above-wrapper-area {
    border-bottom: 0;
  }
</style>
<script>
    jqueryDefer(function () {
        $(document).on('selectionchange',function() {
        // $(document).mouseup(function () {
            $('.clipboard-btn').removeClass('noChars');
            var selectedChars = getSelectedText();
            // $('#numberChars').html(selectedChars.length);
            if (selectedChars == 0) {
                $('.clipboard-btn').addClass('noChars');
            }
        });
    });
    function getSelectedText() {
        var text;
        if (window.getSelection) {
            text = window.getSelection().toString();
        } else if (document.getSelection) {
            text = document.getSelection();
        } else if (document.selection) {
            text = document.selection.createRange().text;
        }
        return text;
    }
</script>
<script>
    jqueryDefer(function () {
        $(document).ready(function () {
            var allCodeBlocksElements = $(".copy-code");
            allCodeBlocksElements.each(function (i) {
                var codeBlock = $(this);
                if (!codeBlock.hasClass('highlighter-rouge')) {
                    codeBlock = codeBlock.find('.highlighter-rouge');
                }
                codeBlock.each(function () {
                    var block = codeBlock.find('pre.highlight > code .rouge-code');
                    var currentId = "codeblock" + (i + 1);
                    block.attr('id', currentId);
                    var clipButton = $('<button class="clipboard-btn" data-clipboard-target="#' + currentId + '"><p>Copy to clipboard</p><div><img src="/images/copy-code-icon.svg" alt="Copy to clipboard"></div></button>');
                    $(this).append(clipButton);
                    var troyan = codeBlock.find('pre.highlight');
                    var Tooltip = $('<div class="customTooltip"><div class="tooltipText">Copied!</div></div>');
                    troyan.append(Tooltip);
                    troyan.addClass('clipboard-btn');
                    troyan.attr('data-clipboard-target', "#" + currentId);
                    troyan.on('mouseleave', clearTooltip);
                    troyan.on('blur', clearTooltip);
                    troyan.on('click', function(e) {
                        var el = $(e.currentTarget);
                        if (el.hasClass('showTool')) {
                            clearTooltip(e);
                            troyan.attr('data-skip-tooltip', "true");
                        }
                    });
                });
            });

            var clipboard = new Clipboard('.noChars');
            clipboard.on('success', function (e) {
                $('.clipboard-btn').removeClass('noChars');
                e.clearSelection();
                var trigger = e.trigger;
                if (!$(trigger).attr('data-skip-tooltip')) {
                    showTooltip(e.trigger, 'Copied!');
                } else {
                    $(trigger).removeAttr('data-skip-tooltip');
                }
            });

            $('#search').focus(
                function(){
                    $(this).parent('#searchBox').addClass('focused');
                }).blur(
                function(){
                    $(this).parent('#searchBox').removeClass('focused');
                });

            $('#searchBox .searchButton').click(function () {
                var value = $('#search').val();
                window.location.replace('/docs/search/?q=' + value);
            });

            $('#docsBreadcrumbs').click(function () {
                if ($(this).hasClass('active')) {
                    $(this).removeClass('active');
                    $('#docsNav').removeClass('active');
                    $('#searchBox').removeClass('visible');
                } else {
                    $(this).addClass('active');
                    $('#docsNav').addClass('active');
                    $('#searchBox').addClass('visible');
                }
            });
        });

        function clearTooltip(e) {
            var el = $(e.currentTarget);
            el.removeClass('showTool');
            el.attr('aria-label', null);
        }

        function showTooltip(elem, msg) {
            var el = $(elem);
            el.addClass('showTool');
            el.attr('aria-label', msg);
        }
    });
</script>

<script>
    jqueryDefer(function () {
        var markdownTocs = null;
        var contentAnchors = [];
        var activeAnchor = null;
        var firstAnchor = null;
        var lastAnchor = null;

        function updatePositions() {
            contentAnchors = [];
            markdownTocs.each(function (i) {
                var tocAnchor = $(this).children('a');
                var href = tocAnchor.attr('href');
                var contentAnchor = $('div#content ' + href);
                var top = Math.floor(contentAnchor.offset().top);
                var bottom;
                if (i < markdownTocs.length - 1) {
                    var nextHref = $(markdownTocs[i + 1]).children('a').attr('href');
                    var nextContentAnchor = $('div#content ' + nextHref);
                    bottom = Math.floor(nextContentAnchor.offset().top);
                } else {
                    bottom = $('div#content').offset().top + $('div#content').innerHeight();
                }
                var contentAnchorInfo = {anchor: contentAnchor, toc: $(this), top: top, bottom: bottom, href: href};
                contentAnchors.push(contentAnchorInfo);
                if (i === 0) {
                    firstAnchor = contentAnchorInfo;
                }
                if (i === markdownTocs.length - 1) {
                    lastAnchor = contentAnchorInfo;
                }
            });
        }

        function findActiveContentToc() {
            var top = $(window).scrollTop();
            var bottom = top + $(window).height();
            if (bottom === $('#encyclopedia').offset().top + $('#encyclopedia').innerHeight()) {
                return lastAnchor;
            } else {
                bottom -= 154;
                for (var i = 0; i < contentAnchors.length; i++) {
                    var contentAnchor = contentAnchors[i];
                    if (contentAnchor.top <= bottom &&
                        contentAnchor.bottom > top) {
                        return contentAnchor;
                    }
                }
            }
            return firstAnchor;
        }

        function updateActiveToc(init) {
            updatePositions();
            var newActiveAnchor = findActiveContentToc();
            if (!activeAnchor || newActiveAnchor.href !== activeAnchor.href) {
                activeAnchor = newActiveAnchor;
                markdownTocs.removeClass('active');
                activeAnchor.toc.addClass('active');
                var tocTop = $('#table-of-contents').scrollTop() + 100;
                var tocBottom = tocTop + $('#table-of-contents').innerHeight() - 200;
                var activeTocTop = activeAnchor.toc.position().top;
                var activeTocBottom = activeTocTop + activeAnchor.toc.children(':first').height();
                if (tocTop > activeTocTop) {
                    activeAnchor.toc[0].scrollIntoView();
                    $('#table-of-contents')[0].scrollTop -= 100;
                } else if (tocBottom < activeTocBottom) {
                    activeAnchor.toc[0].scrollIntoView();
                    $('#table-of-contents')[0].scrollTop += init ? -100 : 100;
                }
            }
        }
        $( document ).ready(function() {
            var tocs = $('#content > ul#markdown-toc');
            var tableOfContents = $('#table-of-contents');
            tableOfContents.append(tocs);
            markdownTocs = $('#table-of-contents ul#markdown-toc li').filter(function() {
                var tocAnchor = $(this).children('a');
                var href = tocAnchor.attr('href');
                if (!href.startsWith('#')) {
                    return false;
                } else {
                    var contentAnchor = $('div#content ' + href);
                    return contentAnchor.length > 0;
                }
            });
            updateActiveToc(true);
        });

        $(document).on("scroll", function() {
            updateActiveToc(false);
        });

    });
</script>

</body>
</html>

