







<!Doctype html>
<html id="docs" class="ThingsBoard Cloud Documentation">







<head>
    <meta charset="utf-8">
    <meta name="cf-2fa-verify" content="a08672380de15e9">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>UDP Integration | ThingsBoard Cloud</title>
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="UDP Integration" />
<meta name="author" content="thingsboard" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="UDP Integration Guide" />
<meta property="og:description" content="UDP Integration Guide" />
<link rel="canonical" href="http://0.0.0.0:4002/docs/paas/user-guide/integrations/udp/" />
<meta property="og:url" content="http://0.0.0.0:4002/docs/paas/user-guide/integrations/udp/" />
<meta property="og:site_name" content="ThingsBoard" />
<meta property="og:image" content="http://0.0.0.0:4002/images/thingsboard_logo.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://0.0.0.0:4002/images/thingsboard_logo.png" />
<meta property="twitter:title" content="UDP Integration" />
<meta name="twitter:site" content="@thingsboard" />
<meta name="twitter:creator" content="@thingsboard" />
<script type="application/ld+json">
{"url":"http://0.0.0.0:4002/docs/paas/user-guide/integrations/udp/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4002/images/thingsboard_logo.png"},"name":"thingsboard"},"author":{"@type":"Person","name":"thingsboard"},"image":{"twitter":"/images/thingsboard_logo.png","facebook":"/images/thingsboard_logo.png","url":"http://0.0.0.0:4002/images/thingsboard_logo.png","@type":"imageObject"},"description":"UDP Integration Guide","@type":"WebPage","headline":"UDP Integration","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
    
    <meta name="twitter:description" content="UDP Integration Guide"/>
    
    
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/styles.css">
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.7.0/qs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gifffer/1.5.0/gifffer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
    <script type="text/javascript">
        window.onload = function() {
            Gifffer();
        }
    </script>
    <script type="text/javascript">
        /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
        !function (a) {
            "use strict";
            var b = function (b, c, d) {
                function e(a) {
                    return h.body ? a() : void setTimeout(function () {
                        e(a)
                    })
                }

                function f() {
                    i.addEventListener && i.removeEventListener("load", f), i.media = d || "all"
                }

                var g, h = a.document, i = h.createElement("link");
                if (c) g = c; else {
                    var j = (h.body || h.getElementsByTagName("head")[0]).childNodes;
                    g = j[j.length - 1]
                }
                var k = h.styleSheets;
                i.rel = "stylesheet", i.href = b, i.media = "only x", e(function () {
                    g.parentNode.insertBefore(i, c ? g : g.nextSibling)
                });
                var l = function (a) {
                    for (var b = i.href, c = k.length; c--;) if (k[c].href === b) return a();
                    setTimeout(function () {
                        l(a)
                    })
                };
                return i.addEventListener && i.addEventListener("load", f), i.onloadcssdefined = l, l(f), i
            };
            "undefined" != typeof exports ? exports.loadCSS = b : a.loadCSS = b
        }("undefined" != typeof global ? global : this);

        /*! onloadCSS. (onload callback for loadCSS) [c]2017 Filament Group, Inc. MIT License */
        function onloadCSS(a, b) {
            function c() {
                !d && b && (d = !0, b.call(a))
            }

            var d;
            a.addEventListener && a.addEventListener("load", c), a.attachEvent && a.attachEvent("onload", c), "isApplicationInstalled" in navigator && "onloadcssdefined" in a && a.onloadcssdefined(c)
        }
    </script>
    <script type="text/javascript">

        function jqueryDefer(method) {
            if (window.jQuery) {
                method();
            } else {
                setTimeout(function () {
                    jqueryDefer(method)
                }, 50);
            }
        }

        function jqueryUiDefer(method) {
            if (window.jQuery && window.jQuery.ui) {
                method();
            } else {
                setTimeout(function () {
                    jqueryUiDefer(method)
                }, 50);
            }
        }

        window.vis = (function () {
            var stateKey,
                eventKey,
                keys = {
                    hidden: "visibilitychange",
                    webkitHidden: "webkitvisibilitychange",
                    mozHidden: "mozvisibilitychange",
                    msHidden: "msvisibilitychange"
                };
            for (stateKey in keys) {
                if (stateKey in document) {
                    eventKey = keys[stateKey];
                    break;
                }
            }
            return function (c) {
                if (c) document.addEventListener(eventKey, c);
                return !document[stateKey];
            }
        })();

        function loadScript(src, callback) {
            var s, r, t;
            r = false;
            s = document.createElement('script');
            s.type = 'text/javascript';
            s.src = src;
            s.onload = s.onreadystatechange = function () {
                if (!r && (!this.readyState || this.readyState == 'complete')) {
                    r = true;
                    if (callback) {
                        callback();
                    }
                }
            };
            t = document.getElementsByTagName('script')[0];
            t.parentNode.insertBefore(s, t);
        }

        function loadCssAsync(src, callback) {
            var stylesheet = loadCSS(src);
            if (callback) {
                onloadCSS(stylesheet, callback);
            }
        }

        function loadNextScript(index, scriptsList, completeCallback) {
            if (index < scriptsList.length) {
                var script = scriptsList[index];
                if (script.type === 'script') {
                    loadScript(script.src, function () {
                        if (script.callback) {
                            script.callback();
                        }
                        index++;
                        loadNextScript(index, scriptsList, completeCallback);
                    });
                } else if (script.type === 'css') {
                    loadCssAsync(script.src, function () {
                        index++;
                        loadNextScript(index, scriptsList, completeCallback);
                    });
                }
            } else if (completeCallback) {
                completeCallback();
            }
        }

        var initialScriptsList = [
            {src: '/js/jquery-2.2.0.min.js', type: 'script'},
            {src: '/css/jquery-ui.min.css', type: 'css'},
            {src: '/js/jquery-ui.min.js', type: 'script'},
            {src: '/js/jquery.vide.js', type: 'script'},
            {src: '/js/script.js', type: 'script'},
            {src: '/css/photoswipe.css', type: 'css'},
            {src: '/css/default-skin/default-skin.css', type: 'css'},
            {src: '/js/photoswipe.min.js', type: 'script'},
            {src: '/js/photoswipe-ui-default.min.js', type: 'script'}
        ];

        loadNextScript(0, initialScriptsList);

        jqueryDefer(function () {
            (function ($, win) {
                $.fn.inViewport = function (cb) {
                    return this.each(function (i, el) {
                        function visPx() {
                            var H = $(this).height(),
                                r = el.getBoundingClientRect(), t = r.top, b = r.bottom;
                            var result = cb.call(el, Math.max(0, t > 0 ? H - t : (b < H ? b : H)));
                            if (result) {
                                $(win).off("resize scroll", visPx);
                            }
                        }

                        visPx();
                        $(win).on("resize scroll", visPx);
                    });
                };
            }(jQuery, window));
        });

        function inViewportDefer(method) {
            if (window.jQuery && $.fn.inViewport) {
                method();
            } else {
                setTimeout(function () {
                    inViewportDefer(method)
                }, 50);
            }
        }

    </script>
    <script type="text/javascript">
        function _gaLt(event) {
            /* If GA is blocked or not loaded, or not main|middle|touch click then don't track */
            if (!ga.hasOwnProperty("loaded") || ga.loaded != true || (event.which != 1 && event.which != 2)) {
                return;
            }
            var el = event.srcElement || event.target;

            while (el && (typeof el.tagName == 'undefined' || el.tagName.toLowerCase() != 'a' || !el.href)) {
                el = el.parentNode;
            }
            if (el && el.href) {
                var link = el.href;
                if ((link.indexOf(location.host) == -1 || link.indexOf('.' + location.host) > 0) && !link.match(/^javascript\:/i)) {
                    var target = (el.target && !el.target.match(/^_(self|parent|top)$/i)) ? el.target : false;
                    if (event.ctrlKey || event.shiftKey || event.metaKey || event.which == 2) {
                        target = "_blank";
                    }

                    var hbrun = false; // tracker has not yet run
                    var hitBack = function () {
                        if (hbrun) return;
                        hbrun = true;
                        window.location.href = link;
                    };

                    if (target) {
                        ga(
                            "send", "event", "Outgoing Links", link,
                            document.location.pathname + document.location.search
                        );
                    } else {
                        event.preventDefault ? event.preventDefault() : event.returnValue = !1;
                        ga(
                            "send", "event", "Outgoing Links", link,
                            document.location.pathname + document.location.search, {
                                "hitCallback": hitBack
                            }
                        );

                        setTimeout(hitBack, 1000);
                    }
                }
            }
        }

        var _w = window;
        var _gaLtEvt = ("ontouchstart" in _w) ? "click" : "mousedown";
        _w.addEventListener ? _w.addEventListener("load", function () {
                document.body.addEventListener(_gaLtEvt, _gaLt, !1)
            }, !1)
            : _w.attachEvent && _w.attachEvent("onload", function () {
            document.body.attachEvent("on" + _gaLtEvt, _gaLt)
        });
    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-88383331-1', 'auto');
        ga('send', 'pageview');
    </script>
    <script>
        function Burger() {
            var header = $('header');
            var body = $('body');
            if (header.hasClass('opened-burger')) {
                header.removeClass('opened-burger');
                let subMenus = $('nav.head-menu > ul > li > div.centered-sub > ul.sub-menu');
                subMenus.removeClass('open-sub');
                body.css('overflow', '');
            } else {
                header.addClass('opened-burger');
                body.css('overflow', 'hidden');
            }
        }
    </script>
    <script>

        jqueryDefer(function () {
            let menuElement = $('nav.head-menu > ul');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            let menuItems = $('nav.head-menu > ul > li');
            let indicator = $('nav.head-menu > ul > div.indicator');
            let subMenuActive = false;
            menuElement.on('mouseleave', function (event) {
                if (!$(event.relatedTarget).parents('div.sub-menu-container').length) {
                    subMenuActive = false;
                    submenuContainer.removeClass('active bounds-transition');
                    menuItems.removeClass('active');
                    indicator.removeClass('left-transition');
                }
            });
            submenuContainer.on('mouseleave', function (event) {
                if (!$(event.relatedTarget).parents('nav.head-menu > ul').length) {
                    subMenuActive = false;
                    submenuContainer.removeClass('active bounds-transition');
                    menuItems.removeClass('active');
                    indicator.removeClass('left-transition');
                }
            });
            menuItems.each(function() {
                let item = $( this );
                let subMenuId = item.attr('data-submenu-id');
                item.on('mouseenter', function () {
                    let submenus = $('nav.head-menu > div.sub-menu-container > div');
                    submenus.css('display', 'none');
                    menuItems.removeClass('active');
                    item.addClass('active');
                    let targetSubMenu = $('nav.head-menu > div.sub-menu-container > div#'+subMenuId);
                    targetSubMenu.css('display', 'block');
                    submenuContainer.css('overflow', 'visible');
                    let left = item.position().left + (item.outerWidth() - targetSubMenu.outerWidth()) / 2;
                    submenuContainer.css('left', left + 'px');
                    if (!subMenuActive) {
                        submenuContainer.addClass('active');
                        subMenuActive = true;
                    } else {
                        submenuContainer.addClass('bounds-transition');
                        indicator.addClass('left-transition');
                    }
                    indicator.css('left', item.position().left);
                    indicator.css('width', item.outerWidth());
                    submenuContainer.css('height', targetSubMenu.outerHeight() + 'px');
                    submenuContainer.css('width', targetSubMenu.outerWidth() + 'px');
                    submenuContainer.css('overflow', 'hidden');
                });
            });

            let isMobile = $('button.burger').css('display') === 'block';
            if (isMobile) {
                initMobileSubmenu();
            }

            $(window).resize(function(){
                let newIsMobile = $('button.burger').css('display') === 'block';
                if (isMobile !== newIsMobile) {
                    isMobile = newIsMobile;
                    if (isMobile) {
                        initMobileSubmenu();
                    } else {
                        restoreDesktopSubmenu();
                    }
                }
            });

            // Products selector

            
            let productsSelector = $('.products-selector');
            $(window).click(function(e) {
                if (productsSelector[0].contains(e.target)) {
                    if (productsSelector.hasClass('active')) {
                        productsSelector.removeClass('active');
                    } else {
                        productsSelector.addClass('active');
                    }
                } else {
                    productsSelector.removeClass('active');
                }
            });
            

            // Rogue line numbers fix (don't show line numbers for 1 row)
            $( document ).ready(function() {
                $('.rouge-gutter.gl').each(function() {
                    var lineNumbers = $(this).children('.lineno');
                    if (lineNumbers.text() === '1\n') {
                        $(this).css('display', 'none');
                    }
                });
            });
        });

        function initMobileSubmenu() {

            var header = $('header');
            if (header.hasClass('opened-burger')) {
                var body = $('body');
                body.css('overflow', 'hidden');
            }

            let targetSubMenus = $('nav.head-menu > div.sub-menu-container > div');
            targetSubMenus.css('display', 'block');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            submenuContainer.removeClass('active');
            submenuContainer.css('display', 'none');

            targetSubMenus.each(function() {
                let subMenu = $( this );
                let subMenuId = subMenu.attr('id');
                let parent = $('nav.head-menu > ul > li.'+subMenuId);
                parent.append(subMenu);
            });
        }

        function restoreDesktopSubmenu() {
            var body = $('body');
            body.css('overflow', '');
            let targetSubMenus = $('nav.head-menu > ul > li > div');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            submenuContainer.removeClass('active');
            submenuContainer.css('display', 'block');
            let menuItems = $('nav.head-menu > ul > li');
            menuItems.removeClass('active');
            targetSubMenus.each(function() {
                let subMenu = $( this );
                submenuContainer.append(subMenu);
            });
        }

        function listburg(subMenuId) {
            let isMobile = $('button.burger').css('display') === 'block';
            if (isMobile) {
                let targetSubMenu = $('nav.head-menu > ul > li > div.centered-sub#'+subMenuId+' > ul.sub-menu');
                let isOpen = targetSubMenu.hasClass('open-sub');
                let subMenus = $('nav.head-menu > ul > li > div.centered-sub > ul.sub-menu');
                subMenus.removeClass('open-sub');
                if (!isOpen) {
                    targetSubMenu.addClass('open-sub');
                }
            }
        }
    </script>
</head>
<body>

<div class="products-selector">
    <img src="/images/thingsboard-c-icon.svg"/>
    <div class="product-info">
        <div class="product-title">
            Cloud
        </div>
        <div class="product-description">
            ThingsBoard Documentation
        </div>
    </div>
    <div class="products">
        
        

    
        
        


        
            
        
    


        <a href="/docs/paas/user-guide/integrations/udp/" class="product active">Cloud</a>
        
        

    
        
        


        
    


        <a href="/docs/pe/" class="product">Professional Edition</a>
        
        

    
        
        


        
            
        
    


        <a href="/docs/user-guide/integrations/udp/" class="product">Community Edition</a>
        
        

    


        <a href="/docs/edge/" class="product">Edge</a>
        
        

    


        <a href="/docs/iot-gateway/" class="product">IoT Gateway</a>
        
        

    


        <a href="/products/license-server/" class="product">License Server</a>
        
        

    


        <a href="/docs/trendz/" class="product">Trendz Analytics</a>
        
    </div>
</div>

<header>
    <div class="logo-burger">
        
        <button onclick="Burger()" class="burger"></button>
        <div id="githubButtonContainer">
            <a class="github-button" href="https://github.com/thingsboard/thingsboard" data-show-count="true"
               aria-label="Star thingsboard/thingsboard on GitHub">Star</a>
        </div>
    </div>
    <nav class="head-menu">
        <ul>
            <li class="nav-products" data-submenu-id="nav-products">
                <a onclick="listburg('nav-products')">Products</a>
            </li>
            <li class="nav-services" data-submenu-id="nav-services">
                <a onclick="listburg('nav-services')">Services</a>
            </li>
            
            <li class="nav-cases" data-submenu-id="nav-cases">
                <a onclick="listburg('nav-cases')">Use Cases</a>
            </li>
            <li class="nav-customers" data-submenu-id="nav-customers">
                <a onclick="listburg('nav-customers')">Customers</a>
            </li>
            <li class="nav-company" data-submenu-id="nav-company">
                <a onclick="listburg('nav-company')">Company</a>
            </li>
            <div class="indicator"><div class="head-arrow"></div><div class="line"></div><div class="sub-background"></div></div>
        </ul>
        <div class="sub-menu-container">
            <div id="nav-products" class="centered-sub">
                <ul class="sub-menu products">
                    <div class="sub-groups">
                        <div class="group">
                            <p class="group-name">IoT platforms</p>
                            <a class="cloud-lnk" href="/products/paas/">
                                <img src="/images/thingsboard-c-icon.svg">
                                <div class="sub-text">
                                    <h1>Cloud</h1>
                                    <p>Platform as a service</p>
                                </div>
                            </a>
                            <a class="prof-lnk" href="/products/thingsboard-pe/">
                                <img src="/images/thingsboard-p-icon.svg">
                                <div class="sub-text">
                                    <h1>Professional Edition</h1>
                                    <p>Advanced IoT platform</p>
                                </div>
                            </a>
                            <a class="com-lnk" href="/">
                                <img src="/images/thingsboard-cm-icon.svg">
                                <div class="sub-text">
                                    <h1>Community Edition</h1>
                                    <p>Open source platform</p>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <p class="group-name">Product ecosystem</p>
                            <a class="edge-lnk" href="/products/thingsboard-edge/">
                                <img src="/images/thingsboard-e-icon.svg">
                                <div class="sub-text">
                                    <h1>Edge</h1>
                                    <p>Edge computing</p>
                                </div>
                            </a>
                            <a class="gateway-lnk" href="/docs/iot-gateway/what-is-iot-gateway/">
                                <img src="/images/gateway-icon.svg">
                                <div class="sub-text">
                                    <h1>IoT Gateway</h1>
                                    <p>Connect legacy protocols</p>
                                </div>
                            </a>
                            <a class="license-lnk" href="/products/license-server/">
                                <img src="/images/license-icon.svg">
                                <div class="sub-text">
                                    <h1>License Server</h1>
                                    <p>Billing solution</p>
                                </div>
                            </a>
                            <a class="trendz-lnk" href="/products/trendz/">
                                <img src="/images/trendz-icon.svg">
                                <div class="sub-text">
                                    <h1>Trendz Analytics</h1>
                                    <p>Data analytics and Prediction</p>
                                </div>
                            </a>
                        </div>
                    </div>
                </ul>
            </div>
            <div id="nav-services" class="centered-sub">
                <ul class="sub-menu services">
                    <a href="/docs/services/support/">
                        <img src="/images/support-icon.svg">
                        <div class="sub-text">
                            <h1>Support</h1>
                            <p>Support packages</p>
                        </div>
                    </a>
                    <a href="/docs/services/trainings/">
                        <img src="/images/train-icon.svg">
                        <div class="sub-text">
                            <h1>Trainings</h1>
                            <p>ThingsBoard education courses</p>
                        </div>
                    </a>
                    <a href="/docs/services/consulting/">
                        <img src="/images/prof-icon.svg">
                        <div class="sub-text">
                            <h1>Professional services</h1>
                            <p>Development of solutions by the ThingsBoard team</p>
                        </div>
                    </a>
                </ul>
            </div>
            
            <div id="nav-cases" class="centered-sub">
                <ul class="sub-menu cases">
                    <a href="/smart-metering/">
                        <img src="/images/case-met-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Metering</h1>
                            <p>Collection, analysis and visualization of data from meters</p>
                        </div>
                    </a>
                    <a href="/smart-energy/">
                        <img src="/images/case-eng-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Energy</h1>
                            <p>Energy monitoring and efficiency analysis</p>
                        </div>
                    </a>
                    <a href="/smart-farming/">
                        <img src="/images/case-fam-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Farming</h1>
                            <p>Monitoring of indoor conditions and plant growth characteristics</p>
                        </div>
                    </a>
                    <a href="/fleet-tracking/">
                        <img src="/images/case-trk-icon.svg">
                        <div class="sub-text">
                            <h1>Fleet Tracking</h1>
                            <p>Fleet tracking and fleet management</p>
                        </div>
                    </a>
                </ul>
            </div>
            <div id="nav-customers" class="centered-sub">
                <ul class="sub-menu customers">
                    <div class="sub-groups">
                        <div class="group">
                            <a class="small-link" href="/industries/smart-energy/">
                                <img src="/images/se-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart Energy</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/agriculture/">
                                <img src="/images/agr-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Agriculture</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/smart-buildings/">
                                <img src="/images/sb-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart Buildings</h1>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <a class="small-link" href="/industries/smart-city/">
                                <img src="/images/sc-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart City</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/telecom/">
                                <img src="/images/tel-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Telecom</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/industry40/">
                                <img src="/images/in-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Industry 4.0</h1>
                                </div>
                            </a>
                        </div>
                    </div>
                </ul>
            </div>
            <div id="nav-company" class="centered-sub">
                <ul class="sub-menu about">
                    <div class="sub-groups">
                        <div class="group">
                            <a class="small-link" href="/company/">
                                <img src="/images/about-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Our Company</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/docs/contact-us/">
                                <img src="/images/contact-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Contact Us</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/careers/">
                                <img src="/images/careers-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Careers</h1>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <a class="small-link" href="/mediakit/">
                                <img src="/images/media-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Media Kit</h1>
                                </div>
                            </a>
                            <a class="small-link" href="https://blog.thingsboard.io/">
                                <img src="/images/blog-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Blog</h1>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="bottom-group">
                        <a class="small-link" href="/partners/hardware/">
                            <img src="/images/hard-s-icon.svg">
                            <div class="sub-text">
                                <h1>Hardware partners</h1>
                            </div>
                        </a>
                        <a class="small-link" href="/partners/distributors/">
                            <img src="/images/dis-s-icon.svg">
                            <div class="sub-text">
                                <h1>Distributors</h1>
                            </div>
                        </a>
                    </div>
                </ul>
            </div>
        </div>
    </nav>
    <div>
        <a href="/installations/" class="n-button try">Try it now</a>
        <a href="/pricing/" class="n-button price">Pricing</a>
    </div>
</header>


<div id="searchBox">
    <input type="text" id="search" placeholder="Search" onkeydown="if (event.keyCode==13) window.location.replace('/docs/paas/search/?q=' + this.value)">
    <button class="searchButton"></button>
</div>

<!--  HERO  -->
<section id="hero">
  <div id="hero-content">
    <div id="vendorStrip">
      <div id="docsList">
          <ul>
            
              
              
              
              <li>
                  <a href="/docs/paas/getting-started-guides/helloworld/" >Getting Started</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/paas/" class="YAH">Documentation</a>
                  
                     <div class="indicator"><div class="head-arrow"></div><div class="line"></div><div class="sub-background"></div></div>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/paas/guides/" >Guides</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/paas/api/" >API</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/paas/faq/" >FAQ</a>
                  
              </li>
            
          </ul>
          <div id="docsBreadcrumbs">
              
                  
                  
                  
                  
                      
                  
                      
                  
                      
                  
                      
                  
                      
                         
                         
                         
    

    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    
        
        
        
    

    

    

    

    

    


        
            
        
    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        
        
        

                         
                            
                  
                    <span class="item">Documentation</span>
                    
                        <span class="divider">></span>
                    
                  
                    <span class="item">Integrations</span>
                    
                        <span class="divider">></span>
                    
                  
                    <span class="item">UDP</span>
                    
                  
              
          </div>
      </div>
    </div>
  </div>
</section>
<div id="docsNav">
    <div class="docItems">
        
            
            
                <a class="toc" href="/docs/paas/getting-started-guides/helloworld/" >Getting Started</a>
            
        
            
            
                <div class="pi-accordion">
                    


<a class="item" data-title="ThingsBoard Cloud" href="/docs/paas/"></a>


<a class="item" data-title="What is ThingsBoard?" href="/docs/paas/getting-started-guides/what-is-thingsboard/"></a>


<a class="item" data-title="What is ThingsBoard Cloud?" href="/products/paas/what-is-thingsboard-cloud/"></a>


<a class="item" data-title="How to connect your device?" href="/docs/paas/getting-started-guides/connectivity/"></a>


<div class="item item-new" data-title="Solution Templates">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/solution-templates/overview/"></a>


<a class="item" data-title="Temperature & Humidity Sensors" href="/docs/paas/solution-templates/temperature-humidity-sensors/"></a>


<a class="item" data-title="Smart office" href="/docs/paas/solution-templates/smart-office/"></a>


<a class="item" data-title="Fleet tracking" href="/docs/paas/solution-templates/fleet-tracking/"></a>


<a class="item" data-title="Water metering" href="/docs/paas/solution-templates/water-metering/"></a>
  </div>
</div>


<div class="item" data-title="Key concepts">
  <div class="container">


<a class="item" data-title="Entities and Relations" href="/docs/paas/user-guide/entities-and-relations/"></a>


<a class="item item-new" data-title="Device Profiles" href="/docs/paas/user-guide/device-profiles/"></a>


<a class="item" data-title="Attributes" href="/docs/paas/user-guide/attributes/"></a>


<a class="item" data-title="Time-series data" href="/docs/paas/user-guide/telemetry/"></a>


<a class="item" data-title="Alarms" href="/docs/paas/user-guide/alarms/"></a>


<a class="item" data-title="Remote commands to devices" href="/docs/paas/user-guide/rpc/"></a>
  </div>
</div>


<div class="item" data-title="Dashboards">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/dashboards/"></a>


<a class="item" data-title="Aliases" href="/docs/paas/user-guide/ui/aliases/"></a>


<a class="item" data-title="Widget Actions" href="/docs/paas/user-guide/ui/widget-actions/"></a>


<a class="item" data-title="Widgets Library" href="/docs/paas/user-guide/ui/widget-library/"></a>


<a class="item" data-title="Widgets development" href="/docs/paas/user-guide/contribution/widgets-development/"></a>
  </div>
</div>


<div class="item" data-title="Rule engine">
  <div class="container">


<a class="item" data-title="Getting Started" href="/docs/paas/user-guide/rule-engine-2-0/re-getting-started/"></a>


<a class="item" data-title="Overview" href="/docs/paas/user-guide/rule-engine-2-0/overview/"></a>


<a class="item" data-title="Architecture" href="/docs/paas/user-guide/rule-engine-2-0/architecture/"></a>


<div class="item" data-title="Nodes">
  <div class="container">


<a class="item" data-title="Filter Nodes" href="/docs/paas/user-guide/rule-engine-2-0/filter-nodes/"></a>


<a class="item" data-title="Enrichment Nodes" href="/docs/paas/user-guide/rule-engine-2-0/enrichment-nodes/"></a>


<a class="item" data-title="Transformation Nodes" href="/docs/paas/user-guide/rule-engine-2-0/transformation-nodes/"></a>


<a class="item" data-title="Action Nodes" href="/docs/paas/user-guide/rule-engine-2-0/action-nodes/"></a>


<a class="item" data-title="External Nodes" href="/docs/paas/user-guide/rule-engine-2-0/external-nodes/"></a>


<a class="item" data-title="Analytics Nodes" href="/docs/paas/user-guide/rule-engine-2-0/analytics-nodes/"></a>
  </div>
</div>
  </div>
</div>


<div class="item" data-title="White-labeling">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/white-labeling/"></a>


<a class="item" data-title="Self-registration" href="/docs/paas/user-guide/self-registration/"></a>


<a class="item" data-title="Custom Translations" href="/docs/paas/user-guide/custom-translation/"></a>


<a class="item" data-title="Custom Menu" href="/docs/paas/user-guide/custom-menu/"></a>


<a class="item" data-title="Domains" href="/products/paas/domains/"></a>
  </div>
</div>


<div class="item" data-title="Integrations">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/integrations/"></a>


<a class="item" data-title="Remote Integrations" href="/docs/paas/user-guide/integrations/remote-integrations/"></a>


<a class="item" data-title="HTTP" href="/docs/paas/user-guide/integrations/http/"></a>


<a class="item" data-title="MQTT" href="/docs/paas/user-guide/integrations/mqtt/"></a>


<a class="item" data-title="OPC-UA" href="/docs/paas/user-guide/integrations/opc-ua/"></a>


<a class="item" data-title="Actility ThingPark" href="/docs/paas/user-guide/integrations/thingpark/"></a>


<a class="item" data-title="TheThingsNetwork" href="/docs/paas/user-guide/integrations/ttn/"></a>


<a class="item" data-title="TheThingsIndustries" href="/docs/paas/user-guide/integrations/tti/"></a>


<a class="item" data-title="LORIOT" href="/docs/paas/user-guide/integrations/loriot/"></a>


<a class="item" data-title="AWS IoT" href="/docs/paas/user-guide/integrations/aws-iot/"></a>


<a class="item" data-title="AWS Kinesis" href="/docs/paas/user-guide/integrations/aws-kinesis/"></a>


<a class="item" data-title="IBM Watson" href="/docs/paas/user-guide/integrations/ibm-watson-iot/"></a>


<a class="item" data-title="Azure Event Hub" href="/docs/paas/user-guide/integrations/azure-event-hub/"></a>


<a class="item" data-title="Azure IoT Hub" href="/docs/paas/user-guide/integrations/azure-iot-hub/"></a>


<a class="item" data-title="TCP" href="/docs/paas/user-guide/integrations/tcp/"></a>


<a class="item" data-title="UDP" href="/docs/paas/user-guide/integrations/udp/"></a>


<a class="item" data-title="SigFox" href="/docs/paas/user-guide/integrations/sigfox/"></a>


<a class="item" data-title="Ocean Connect" href="/docs/paas/user-guide/integrations/ocean-connect/"></a>


<a class="item" data-title="Custom Integration development guide" href="/docs/paas/user-guide/integrations/custom/"></a>


<a class="item" data-title="Notifications and Alarms on your smartphone using Telegram Bot" href="/docs/paas/user-guide/rule-engine-2-0/tutorials/integration-with-telegram-bot/"></a>
  </div>
</div>


<div class="item" data-title="Analytics">
  <div class="container">


<a class="item" data-title="Trendz Analytics" href="/docs/trendz/"></a>


<a class="item" data-title="Kafka Streams" href="/docs/paas/samples/analytics/kafka-streams/"></a>
  </div>
</div>


<div class="item" data-title="Other Features">
  <div class="container">


<a class="item" data-title="Device Connectivity Status" href="/docs/paas/user-guide/device-connectivity-status/"></a>


<a class="item" data-title="Claiming Devices" href="/docs/paas/user-guide/claiming-devices/"></a>


<a class="item" data-title="Device provisioning" href="/docs/paas/user-guide/device-provisioning/"></a>


<a class="item" data-title="Entity Views" href="/docs/paas/user-guide/entity-views/"></a>


<a class="item" data-title="API Limits" href="/docs/paas/user-guide/api-limits/"></a>


<a class="item" data-title="Bulk Provisioning" href="/docs/paas/user-guide/bulk-provisioning/"></a>


<a class="item" data-title="Entity Groups" href="/docs/paas/user-guide/groups/"></a>


<a class="item" data-title="Scheduler" href="/docs/paas/user-guide/scheduler/"></a>


<a class="item" data-title="Reporting" href="/docs/paas/user-guide/reporting/"></a>


<a class="item" data-title="CSV/XLS data export" href="/docs/paas/user-guide/csv-xls-data-export/"></a>


<a class="item" data-title="File Storage" href="/docs/paas/user-guide/file-storage/"></a>
  </div>
</div>


<div class="item" data-title="Security">
  <div class="container">


<a class="item" data-title="Audit Log" href="/docs/paas/user-guide/audit-log/"></a>


<a class="item" data-title="Advanced RBAC for IoT" href="/docs/paas/user-guide/rbac/"></a>


<a class="item" data-title="OAuth 2 Support" href="/docs/paas/user-guide/oauth-2-support/"></a>


<a class="item" data-title="MQTT over SSL" href="/docs/paas/user-guide/mqtt-over-ssl/"></a>


<a class="item" data-title="Device authentication options" href="/docs/paas/user-guide/device-credentials/"></a>


<a class="item" data-title="Access Token based authentication" href="/docs/paas/user-guide/access-token/"></a>


<a class="item" data-title="Basic MQTT Credentials" href="/docs/paas/user-guide/basic-mqtt/"></a>


<a class="item" data-title="X.509 Certificate based authentication" href="/docs/paas/user-guide/certificates/"></a>
  </div>
</div>


<div class="item" data-title="Administration UI">
  <div class="container">


<a class="item" data-title="Tenants" href="/docs/paas/user-guide/ui/tenants/"></a>


<a class="item" data-title="Customers" href="/docs/paas/user-guide/ui/customers/"></a>


<a class="item" data-title="Users" href="/docs/paas/user-guide/ui/users/"></a>


<a class="item" data-title="Assets" href="/docs/paas/user-guide/ui/assets/"></a>


<a class="item" data-title="Devices" href="/docs/paas/user-guide/ui/devices/"></a>


<a class="item" data-title="Rule Chains" href="/docs/paas/user-guide/ui/rule-chains/"></a>


<a class="item" data-title="Dashboards" href="/docs/paas/user-guide/ui/dashboards/"></a>


<div class="item" data-title="Widgets">
  <div class="container">


<a class="item" data-title="Trip Animation Widget" href="/docs/paas/user-guide/ui/trip-animation-widget/"></a>


<a class="item" data-title="Advanced Settings of the Entity Table widget" href="/docs/paas/user-guide/ui/entity-table-widget/"></a>


<a class="item" data-title="Advanced data key configuration" href="/docs/paas/user-guide/ui/advanced-data-key-configuration/"></a>
  </div>
</div>
  </div>
</div>


<a class="item" data-title="Subscriptions" href="/products/paas/subscription/"></a>


<a class="item" data-title="Plan and billing" href="/products/paas/billing-info/"></a>
                </div>
            
        
            
            
                <a class="toc" href="/docs/paas/guides/" >Guides</a>
            
        
            
            
                <a class="toc" href="/docs/paas/api/" >API</a>
            
        
            
            
                <a class="toc" href="/docs/paas/faq/" >FAQ</a>
            
        
    </div>
</div>








<section id="encyclopedia">
  
  <div id="docsToc">
        <div class="pi-accordion">
        


<a class="item" data-title="ThingsBoard Cloud" href="/docs/paas/"></a>


<a class="item" data-title="What is ThingsBoard?" href="/docs/paas/getting-started-guides/what-is-thingsboard/"></a>


<a class="item" data-title="What is ThingsBoard Cloud?" href="/products/paas/what-is-thingsboard-cloud/"></a>


<a class="item" data-title="How to connect your device?" href="/docs/paas/getting-started-guides/connectivity/"></a>


<div class="item item-new" data-title="Solution Templates">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/solution-templates/overview/"></a>


<a class="item" data-title="Temperature & Humidity Sensors" href="/docs/paas/solution-templates/temperature-humidity-sensors/"></a>


<a class="item" data-title="Smart office" href="/docs/paas/solution-templates/smart-office/"></a>


<a class="item" data-title="Fleet tracking" href="/docs/paas/solution-templates/fleet-tracking/"></a>


<a class="item" data-title="Water metering" href="/docs/paas/solution-templates/water-metering/"></a>
  </div>
</div>


<div class="item" data-title="Key concepts">
  <div class="container">


<a class="item" data-title="Entities and Relations" href="/docs/paas/user-guide/entities-and-relations/"></a>


<a class="item item-new" data-title="Device Profiles" href="/docs/paas/user-guide/device-profiles/"></a>


<a class="item" data-title="Attributes" href="/docs/paas/user-guide/attributes/"></a>


<a class="item" data-title="Time-series data" href="/docs/paas/user-guide/telemetry/"></a>


<a class="item" data-title="Alarms" href="/docs/paas/user-guide/alarms/"></a>


<a class="item" data-title="Remote commands to devices" href="/docs/paas/user-guide/rpc/"></a>
  </div>
</div>


<div class="item" data-title="Dashboards">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/dashboards/"></a>


<a class="item" data-title="Aliases" href="/docs/paas/user-guide/ui/aliases/"></a>


<a class="item" data-title="Widget Actions" href="/docs/paas/user-guide/ui/widget-actions/"></a>


<a class="item" data-title="Widgets Library" href="/docs/paas/user-guide/ui/widget-library/"></a>


<a class="item" data-title="Widgets development" href="/docs/paas/user-guide/contribution/widgets-development/"></a>
  </div>
</div>


<div class="item" data-title="Rule engine">
  <div class="container">


<a class="item" data-title="Getting Started" href="/docs/paas/user-guide/rule-engine-2-0/re-getting-started/"></a>


<a class="item" data-title="Overview" href="/docs/paas/user-guide/rule-engine-2-0/overview/"></a>


<a class="item" data-title="Architecture" href="/docs/paas/user-guide/rule-engine-2-0/architecture/"></a>


<div class="item" data-title="Nodes">
  <div class="container">


<a class="item" data-title="Filter Nodes" href="/docs/paas/user-guide/rule-engine-2-0/filter-nodes/"></a>


<a class="item" data-title="Enrichment Nodes" href="/docs/paas/user-guide/rule-engine-2-0/enrichment-nodes/"></a>


<a class="item" data-title="Transformation Nodes" href="/docs/paas/user-guide/rule-engine-2-0/transformation-nodes/"></a>


<a class="item" data-title="Action Nodes" href="/docs/paas/user-guide/rule-engine-2-0/action-nodes/"></a>


<a class="item" data-title="External Nodes" href="/docs/paas/user-guide/rule-engine-2-0/external-nodes/"></a>


<a class="item" data-title="Analytics Nodes" href="/docs/paas/user-guide/rule-engine-2-0/analytics-nodes/"></a>
  </div>
</div>
  </div>
</div>


<div class="item" data-title="White-labeling">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/white-labeling/"></a>


<a class="item" data-title="Self-registration" href="/docs/paas/user-guide/self-registration/"></a>


<a class="item" data-title="Custom Translations" href="/docs/paas/user-guide/custom-translation/"></a>


<a class="item" data-title="Custom Menu" href="/docs/paas/user-guide/custom-menu/"></a>


<a class="item" data-title="Domains" href="/products/paas/domains/"></a>
  </div>
</div>


<div class="item" data-title="Integrations">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/integrations/"></a>


<a class="item" data-title="Remote Integrations" href="/docs/paas/user-guide/integrations/remote-integrations/"></a>


<a class="item" data-title="HTTP" href="/docs/paas/user-guide/integrations/http/"></a>


<a class="item" data-title="MQTT" href="/docs/paas/user-guide/integrations/mqtt/"></a>


<a class="item" data-title="OPC-UA" href="/docs/paas/user-guide/integrations/opc-ua/"></a>


<a class="item" data-title="Actility ThingPark" href="/docs/paas/user-guide/integrations/thingpark/"></a>


<a class="item" data-title="TheThingsNetwork" href="/docs/paas/user-guide/integrations/ttn/"></a>


<a class="item" data-title="TheThingsIndustries" href="/docs/paas/user-guide/integrations/tti/"></a>


<a class="item" data-title="LORIOT" href="/docs/paas/user-guide/integrations/loriot/"></a>


<a class="item" data-title="AWS IoT" href="/docs/paas/user-guide/integrations/aws-iot/"></a>


<a class="item" data-title="AWS Kinesis" href="/docs/paas/user-guide/integrations/aws-kinesis/"></a>


<a class="item" data-title="IBM Watson" href="/docs/paas/user-guide/integrations/ibm-watson-iot/"></a>


<a class="item" data-title="Azure Event Hub" href="/docs/paas/user-guide/integrations/azure-event-hub/"></a>


<a class="item" data-title="Azure IoT Hub" href="/docs/paas/user-guide/integrations/azure-iot-hub/"></a>


<a class="item" data-title="TCP" href="/docs/paas/user-guide/integrations/tcp/"></a>


<a class="item" data-title="UDP" href="/docs/paas/user-guide/integrations/udp/"></a>


<a class="item" data-title="SigFox" href="/docs/paas/user-guide/integrations/sigfox/"></a>


<a class="item" data-title="Ocean Connect" href="/docs/paas/user-guide/integrations/ocean-connect/"></a>


<a class="item" data-title="Custom Integration development guide" href="/docs/paas/user-guide/integrations/custom/"></a>


<a class="item" data-title="Notifications and Alarms on your smartphone using Telegram Bot" href="/docs/paas/user-guide/rule-engine-2-0/tutorials/integration-with-telegram-bot/"></a>
  </div>
</div>


<div class="item" data-title="Analytics">
  <div class="container">


<a class="item" data-title="Trendz Analytics" href="/docs/trendz/"></a>


<a class="item" data-title="Kafka Streams" href="/docs/paas/samples/analytics/kafka-streams/"></a>
  </div>
</div>


<div class="item" data-title="Other Features">
  <div class="container">


<a class="item" data-title="Device Connectivity Status" href="/docs/paas/user-guide/device-connectivity-status/"></a>


<a class="item" data-title="Claiming Devices" href="/docs/paas/user-guide/claiming-devices/"></a>


<a class="item" data-title="Device provisioning" href="/docs/paas/user-guide/device-provisioning/"></a>


<a class="item" data-title="Entity Views" href="/docs/paas/user-guide/entity-views/"></a>


<a class="item" data-title="API Limits" href="/docs/paas/user-guide/api-limits/"></a>


<a class="item" data-title="Bulk Provisioning" href="/docs/paas/user-guide/bulk-provisioning/"></a>


<a class="item" data-title="Entity Groups" href="/docs/paas/user-guide/groups/"></a>


<a class="item" data-title="Scheduler" href="/docs/paas/user-guide/scheduler/"></a>


<a class="item" data-title="Reporting" href="/docs/paas/user-guide/reporting/"></a>


<a class="item" data-title="CSV/XLS data export" href="/docs/paas/user-guide/csv-xls-data-export/"></a>


<a class="item" data-title="File Storage" href="/docs/paas/user-guide/file-storage/"></a>
  </div>
</div>


<div class="item" data-title="Security">
  <div class="container">


<a class="item" data-title="Audit Log" href="/docs/paas/user-guide/audit-log/"></a>


<a class="item" data-title="Advanced RBAC for IoT" href="/docs/paas/user-guide/rbac/"></a>


<a class="item" data-title="OAuth 2 Support" href="/docs/paas/user-guide/oauth-2-support/"></a>


<a class="item" data-title="MQTT over SSL" href="/docs/paas/user-guide/mqtt-over-ssl/"></a>


<a class="item" data-title="Device authentication options" href="/docs/paas/user-guide/device-credentials/"></a>


<a class="item" data-title="Access Token based authentication" href="/docs/paas/user-guide/access-token/"></a>


<a class="item" data-title="Basic MQTT Credentials" href="/docs/paas/user-guide/basic-mqtt/"></a>


<a class="item" data-title="X.509 Certificate based authentication" href="/docs/paas/user-guide/certificates/"></a>
  </div>
</div>


<div class="item" data-title="Administration UI">
  <div class="container">


<a class="item" data-title="Tenants" href="/docs/paas/user-guide/ui/tenants/"></a>


<a class="item" data-title="Customers" href="/docs/paas/user-guide/ui/customers/"></a>


<a class="item" data-title="Users" href="/docs/paas/user-guide/ui/users/"></a>


<a class="item" data-title="Assets" href="/docs/paas/user-guide/ui/assets/"></a>


<a class="item" data-title="Devices" href="/docs/paas/user-guide/ui/devices/"></a>


<a class="item" data-title="Rule Chains" href="/docs/paas/user-guide/ui/rule-chains/"></a>


<a class="item" data-title="Dashboards" href="/docs/paas/user-guide/ui/dashboards/"></a>


<div class="item" data-title="Widgets">
  <div class="container">


<a class="item" data-title="Trip Animation Widget" href="/docs/paas/user-guide/ui/trip-animation-widget/"></a>


<a class="item" data-title="Advanced Settings of the Entity Table widget" href="/docs/paas/user-guide/ui/entity-table-widget/"></a>


<a class="item" data-title="Advanced data key configuration" href="/docs/paas/user-guide/ui/advanced-data-key-configuration/"></a>
  </div>
</div>
  </div>
</div>


<a class="item" data-title="Subscriptions" href="/products/paas/subscription/"></a>


<a class="item" data-title="Plan and billing" href="/products/paas/billing-info/"></a>
        </div> <!-- /pi-accordion -->
  </div> <!-- /docsToc -->
  
  <div id="docsContent" class=" hasTocContent">
      <div id="table-of-contents">
          
              <h4>On this page</h4>
          
      </div>
      <div id="top-spacer"></div>
      <h1>UDP Integration</h1>
      <div id="content">
          
<div class="info-banner">
<img src="/images/doc-info-icon.svg" />   <div>
    <div class="info-title">
ThingsBoard PE Feature
    </div>
    <p>Only <a href="/products/thingsboard-pe/"><strong>Professional Edition</strong></a> supports <strong>Platform Integrations</strong> feature.<br /> Use <a href="https://thingsboard.cloud/signup"><strong>ThingsBoard Cloud</strong></a> or <a href="/docs/user-guide/install/pe/installation-options/"><strong>install</strong></a> your own platform instance.</p>
  </div>
</div>

<ul id="markdown-toc">
  <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
  <li><a href="#udp-integration-configuration" id="markdown-toc-udp-integration-configuration">UDP Integration Configuration</a>    <ul>
      <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li>
      <li><a href="#uplink-converter" id="markdown-toc-uplink-converter">Uplink Converter</a></li>
      <li><a href="#udp-integration-setup" id="markdown-toc-udp-integration-setup">UDP Integration Setup</a>        <ul>
          <li><a href="#installing-and-running-external-udp-integration" id="markdown-toc-installing-and-running-external-udp-integration">Installing and running external UDP Integration</a></li>
        </ul>
      </li>
      <li><a href="#send-uplink-message" id="markdown-toc-send-uplink-message">Send Uplink message</a></li>
    </ul>
  </li>
  <li><a href="#advanced-usage-downlink" id="markdown-toc-advanced-usage-downlink">Advanced usage: Downlink</a></li>
  <li><a href="#test-downlink" id="markdown-toc-test-downlink">Test Downlink</a></li>
  <li><a href="#next-steps" id="markdown-toc-next-steps">Next steps</a></li>
</ul>

<h2 id="overview">Overview</h2>

<p>UDP Integration allows to stream data from devices which use a UDP protocol to ThingsBoard and converts payloads of these devices into the ThingsBoard format.</p>

<p><strong>Please note</strong> UDP Integration can be started only as <a href="/docs/paas/user-guide/integrations/remote-integrations">Remote Integration</a>. It could be started on the same machine, where TB instance is running, or you can start in on another machine, that has access over the network to the TB instance.</p>

<p>Please review the integration diagram to learn more.</p>

<p><img src="/images/user-guide/integrations/udp-integration.svg" alt="image" /></p>

<h2 id="udp-integration-configuration">UDP Integration Configuration</h2>

<h3 id="prerequisites">Prerequisites</h3>

<p>In this tutorial, we will use:</p>

<ul>
  <li>ThingsBoard Professional Edition instance — <a href="https://thingsboard.cloud">thingsboard.cloud</a>;</li>
  <li>UDP Integration, running externally and connected to the cloud ThingsBoard PE instance;</li>
  <li><strong>echo</strong> command which intended to display a line of text, and will redirect it’s output to <strong>netcat</strong> (<strong>nc</strong>) utility;</li>
  <li><strong>netcat</strong> (<strong>nc</strong>) utility to establish UDP connections, receive data from there and transfer them;</li>
</ul>

<p>Let’s assume that we have a sensor which is sending current temperature and humidity readings.
Our sensor device <strong>SN-001</strong> publishes it’s temperature and humidity readings to UDP Integration on <strong>11560</strong> port to the machine where UDP Integration is running.</p>

<p>For demo purposes we assume that our device is smart enough to send data in 3 different payload types:</p>
<ul>
  <li><strong>Text</strong> - in this case payload is <strong>SN-001,default,temperature,25.7,humidity,69</strong></li>
  <li><strong>JSON</strong> - in this case payload is</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"deviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SN-001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"temperature"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"humidity"</span><span class="p">:</span><span class="w"> </span><span class="mi">69</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
<ul>
  <li><strong>Binary</strong> - in this case binary payload is <strong>\x53\x4e\x2d\x30\x30\x31\x64\x65\x66\x61\x75\x6c\x74\x32\x35\x2e\x37</strong> (in HEX string).
Here is the description of the bytes in this payload:
    <ul>
      <li><strong>0-5</strong> bytes - <strong>\x53\x4e\x2d\x30\x30\x31</strong> - device name. If we convert it to text - <strong>SN-001</strong>;</li>
      <li><strong>6-12</strong> bytes - <strong>\x64\x65\x66\x61\x75\x6c\x74</strong> - device type. If we convert it to text - <strong>default</strong>;</li>
      <li><strong>13-16</strong> bytes - <strong>\x32\x35\x2e\x37</strong> - temperature telemetry. If we convert it to text - <strong>25.7</strong>;</li>
    </ul>
  </li>
  <li><strong>Hex</strong> - in this case payload is hexadecimal string <strong>534e2d30303164656661756c7432352e373639</strong>.
Here is the description of the bytes in this payload:
    <ul>
      <li><strong>0-5</strong> bytes - <strong>534e2d303031</strong> - device name. If we convert it to text - <strong>SN-001</strong>;</li>
      <li><strong>6-12</strong> byte - <strong>64656661756c74</strong> - device type. If we convert it to text - <strong>default</strong>;</li>
      <li><strong>13-16</strong> byte - <strong>32352e37</strong> - temperature telemetry. If we convert it to text: - <strong>25.7</strong>;</li>
      <li><strong>17-18</strong> byte - <strong>3639</strong> - humidity telemetry. If we convert it to text: - <strong>69</strong>;</li>
    </ul>
  </li>
</ul>

<p>You can select payload type based on your device capabilities and business cases.</p>

<p><strong>Please note</strong> that on the machine, where UDP Integration is running, port <strong>11560</strong> must be opened for incoming connections - <strong>nc</strong> utility must be able to connect to UDP socket.
In case you are running it locally, it should be fine without any additional changes.</p>

<h3 id="uplink-converter">Uplink Converter</h3>

<p>Before setting up an <strong>UDP integration</strong>, you need to create an <strong>Uplink Converter</strong> that is a script for parsing and transforming the data received by UDP integration.</p>

<p>To create an <strong>Uplink Converter</strong> go to <strong>Data Converters</strong> section and Click <strong>Add new data converter —&gt; Create new converter</strong>.
Name it <strong>“UDP Uplink Converter”</strong> and select type <strong>Uplink</strong>. Use debug mode for now.</p>

<p><strong>NOTE</strong> Although the Debug mode is very useful for development and troubleshooting, leaving it enabled in production mode may tremendously increase the disk space, used by the database, because all the debugging data is stored there. It is highly recommended to turn the Debug mode off when done debugging.</p>

<p>Choose device payload type to for decoder configuration</p>

<div class="tb-content-toggle" id="udpintegartionuplinkpayload">
  <div class="panel panel-default">
    <div class="panel-heading">
<a class="content-toggle-button" data-target="#text">
                <div class="content-toggle-button-text">
                    Text payload<br />
                </div>
            </a> <a class="content-toggle-button" data-target="#json">
                <div class="content-toggle-button-text">
                    JSON payload<br />
                </div>
            </a> <a class="content-toggle-button" data-target="#binary">
                <div class="content-toggle-button-text">
                    Binary payload<br />
                </div>
            </a> <a class="content-toggle-button" data-target="#hex">
                <div class="content-toggle-button-text">
                    Hex payload<br />
                </div>
            </a>
    </div>
    <div id="text" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>Now copy &amp; paste the following script to the Decoder function section:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="cm">/** Decoder **/</span>

<span class="c1">// decode payload to string</span>
<span class="kd">var</span> <span class="nx">strArray</span> <span class="o">=</span> <span class="nx">decodeToString</span><span class="p">(</span><span class="nx">payload</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">payloadArray</span> <span class="o">=</span> <span class="nx">strArray</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\"</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">""</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\s</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">""</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\\</span><span class="sr">n/g</span><span class="p">,</span> <span class="dl">""</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">,</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">telemetryPayload</span> <span class="o">=</span> <span class="p">{};</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">payloadArray</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">telemetryKey</span> <span class="o">=</span> <span class="nx">payloadArray</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">telemetryValue</span> <span class="o">=</span> <span class="nx">payloadArray</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
    <span class="nx">telemetryPayload</span><span class="p">[</span><span class="nx">telemetryKey</span><span class="p">]</span> <span class="o">=</span> <span class="nx">telemetryValue</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Result object with device attributes/telemetry data</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">deviceName</span><span class="p">:</span> <span class="nx">payloadArray</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="na">deviceType</span><span class="p">:</span> <span class="nx">payloadArray</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="na">telemetry</span><span class="p">:</span> <span class="nx">telemetryPayload</span><span class="p">,</span>
    <span class="na">attributes</span><span class="p">:</span> <span class="p">{}</span>
  <span class="p">};</span>

<span class="cm">/** Helper functions **/</span>

<span class="kd">function</span> <span class="nx">decodeToString</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">String</span><span class="p">,</span> <span class="nx">payload</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">return</span> <span class="nx">result</span><span class="p">;</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<p>The purpose of the decoder function is to parse the incoming data and metadata to a format that ThingsBoard can consume. 
<strong>deviceName</strong> and <strong>deviceType</strong> are required, while <strong>attributes</strong> and <strong>telemetry</strong> are optional.
<strong>attributes</strong> and <strong>telemetry</strong> are flat key-value objects. Nested objects are not supported.</p>

</td></tr></table>
      </div>
    </div>
    <div id="json" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>Now copy &amp; paste the following script to the Decoder function section:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="rouge-code"><pre><span class="cm">/** Decoder **/</span>

<span class="c1">// decode payload to JSON</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">decodeToJson</span><span class="p">(</span><span class="nx">payload</span><span class="p">);</span>

<span class="c1">// Result object with device/asset attributes/telemetry data</span>

<span class="kd">var</span> <span class="nx">deviceName</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">deviceName</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">deviceType</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">deviceType</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">deviceName</span><span class="p">:</span> <span class="nx">deviceName</span><span class="p">,</span>
   <span class="na">deviceType</span><span class="p">:</span> <span class="nx">deviceType</span><span class="p">,</span>
   <span class="na">attributes</span><span class="p">:</span> <span class="p">{},</span>
   <span class="na">telemetry</span><span class="p">:</span> <span class="p">{</span>
       <span class="na">temperature</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">temperature</span><span class="p">,</span>
       <span class="na">humidity</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">humidity</span>
   <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/** Helper functions **/</span>

<span class="kd">function</span> <span class="nx">decodeToString</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">String</span><span class="p">,</span> <span class="nx">payload</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">decodeToJson</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span> <span class="p">{</span>
   <span class="c1">// covert payload to string.</span>
   <span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="nx">decodeToString</span><span class="p">(</span><span class="nx">payload</span><span class="p">);</span>

   <span class="c1">// parse string to JSON</span>
   <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
   <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">return</span> <span class="nx">result</span><span class="p">;</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<p>The purpose of the decoder function is to parse the incoming data and metadata to a format that ThingsBoard can consume. 
<strong>deviceName</strong> and <strong>deviceType</strong> are required, while <strong>attributes</strong> and <strong>telemetry</strong> are optional.
<strong>attributes</strong> and <strong>telemetry</strong> are flat key-value objects. Nested objects are not supported.</p>

</td></tr></table>
      </div>
    </div>
    <div id="binary" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>Now copy &amp; paste the following script to the Decoder function section:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="cm">/** Decoder **/</span>

<span class="c1">// decode payload to string</span>
<span class="kd">var</span> <span class="nx">payloadStr</span> <span class="o">=</span> <span class="nx">decodeToString</span><span class="p">(</span><span class="nx">payload</span><span class="p">);</span>

<span class="c1">// decode payload to JSON</span>
<span class="c1">// var data = decodeToJson(payload);</span>

<span class="kd">var</span> <span class="nx">deviceName</span> <span class="o">=</span> <span class="nx">payloadStr</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">deviceType</span> <span class="o">=</span> <span class="nx">payloadStr</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">13</span><span class="p">);</span>

<span class="c1">// Result object with device/asset attributes/telemetry data</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">deviceName</span><span class="p">:</span> <span class="nx">deviceName</span><span class="p">,</span>
   <span class="na">deviceType</span><span class="p">:</span> <span class="nx">deviceType</span><span class="p">,</span>
   <span class="na">attributes</span><span class="p">:</span> <span class="p">{},</span>
   <span class="na">telemetry</span><span class="p">:</span> <span class="p">{</span>
       <span class="na">temperature</span><span class="p">:</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">payloadStr</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">17</span><span class="p">))</span>
   <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/** Helper functions **/</span>

<span class="kd">function</span> <span class="nx">decodeToString</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">String</span><span class="p">,</span> <span class="nx">payload</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">decodeToJson</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span> <span class="p">{</span>
   <span class="c1">// covert payload to string.</span>
   <span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="nx">decodeToString</span><span class="p">(</span><span class="nx">payload</span><span class="p">);</span>

   <span class="c1">// parse string to JSON</span>
   <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
   <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">return</span> <span class="nx">result</span><span class="p">;</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<p>The purpose of the decoder function is to parse the incoming data and metadata to a format that ThingsBoard can consume. 
<strong>deviceName</strong> and <strong>deviceType</strong> are required, while <strong>attributes</strong> and <strong>telemetry</strong> are optional.
<strong>attributes</strong> and <strong>telemetry</strong> are flat key-value objects. Nested objects are not supported.</p>

</td></tr></table>
      </div>
    </div>
    <div id="hex" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>Now copy &amp; paste the following script to the Decoder function section:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre></td><td class="rouge-code"><pre><span class="cm">/** Decoder **/</span>

<span class="c1">// decode payload to JSON</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">decodeToJson</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">reports</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">value</span><span class="p">;</span>

<span class="c1">// Result object with device telemetry data</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">deviceName</span><span class="p">:</span> <span class="nx">hexToString</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)),</span>
    <span class="na">deviceType</span><span class="p">:</span> <span class="nx">hexToString</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">26</span><span class="p">)),</span>
    <span class="na">telemetry</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">temperature</span><span class="p">:</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">hexToString</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">26</span><span class="p">,</span> <span class="mi">34</span><span class="p">))),</span>
        <span class="na">humidity</span><span class="p">:</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">hexToString</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">34</span><span class="p">,</span> <span class="mi">38</span><span class="p">))),</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/** Helper functions **/</span>

<span class="kd">function</span> <span class="nx">decodeToString</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">String</span><span class="p">,</span> <span class="nx">payload</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Hexadecimal string to string</span>
<span class="kd">function</span> <span class="nx">hexToString</span><span class="p">(</span><span class="nx">hex</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">hex</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">notNullValue</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">hex</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">16</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">notNullValue</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">str</span> <span class="o">+=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="nx">notNullValue</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">str</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">decodeToJson</span><span class="p">(</span><span class="nx">payload</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// convert payload to string.</span>
    <span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="nx">decodeToString</span><span class="p">(</span><span class="nx">payload</span><span class="p">);</span>

    <span class="c1">// parse string to JSON</span>
    <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">return</span> <span class="nx">result</span><span class="p">;</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<p>The purpose of the decoder function is to parse the incoming data and metadata to a format that ThingsBoard can consume. 
<strong>deviceName</strong> and <strong>deviceType</strong> are required, while <strong>attributes</strong> and <strong>telemetry</strong> are optional.
<strong>attributes</strong> and <strong>telemetry</strong> are flat key-value objects. Nested objects are not supported.</p>

</td></tr></table>
      </div>
    </div>
  </div>
</div>

<script>
    jqueryUiDefer(initContentToggleudpintegartionuplinkpayload);
    function initContentToggleudpintegartionuplinkpayload() {
        $(function(){

            window.addEventListener('popstate', onPopStateudpintegartionuplinkpayload);

            onPopStateudpintegartionuplinkpayload();

            $('.tb-content-toggle#udpintegartionuplinkpayload a.content-toggle-button').click(function(event) {
                event.preventDefault();
                var id = $(this).attr("data-target").substring(1);
                var param = 'udpintegartionuplinkpayload';
                var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
                params[param] = id;

                var newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?' + Qs.stringify(params);
                if (window.location.hash) {
                    newurl += window.location.hash;
                }
                window.history.pushState({ path: newurl }, '', newurl);
                selectTargetudpintegartionuplinkpayload(id);
            });
        });
    }

    function onPopStateudpintegartionuplinkpayload() {
        var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
        var targetId = params['udpintegartionuplinkpayload'];
        if (!targetId) {
            targetId = 'text';
        }
        selectTargetudpintegartionuplinkpayload(targetId);
    }

    function selectTargetudpintegartionuplinkpayload(targetId) {
        $(".tb-content-toggle#udpintegartionuplinkpayload a.content-toggle-button").removeClass("active");
        $(".tb-content-toggle#udpintegartionuplinkpayload a.content-toggle-button[data-target='#"+targetId+"']").addClass("active");
        $('.tb-content-toggle#udpintegartionuplinkpayload .panel-collapse').removeClass("show");
        $('.tb-content-toggle#udpintegartionuplinkpayload .panel-collapse#'+targetId).addClass("show");
    }

</script>

<h3 id="udp-integration-setup">UDP Integration Setup</h3>

<p>Go to <strong>Integrations</strong> section and click <strong>Add new integration</strong> button. Name it <strong>UDP Integration</strong>, select type <strong>UDP</strong>, turn the Debug mode on and from drop-down menus add recently created Uplink converter.</p>

<p>As you mentioned <strong>Execute remotely</strong> is checked and can not be modified - UDP Integration can be only <strong>remote</strong> type.</p>

<p>Please note down <strong>Integration key</strong> and <strong>Integration secret</strong> - we will use these values later in the configuration on the remote UDP Integration itself.</p>

<p><img src="/images/user-guide/integrations/udp/udp-integration-setup.png" alt="image" /></p>

<p>By default UDP Integration will use <strong>11560</strong> port, but you can change this to any available port in your case.</p>

<p>We leave other options by default, but there is brief description of them:</p>
<ul>
  <li><strong>Enable broadcast - integration will accepts broadcast address packets</strong> - a flag indicating that integration will accept UDP packets that were sent to broadcast address;</li>
  <li><strong>Size of the buffer for inbound socket</strong> - the size in KBytes of the socket data receive buffer;</li>
</ul>

<p>Choose device payload type for <strong>Handler Configuration</strong></p>

<div class="tb-content-toggle" id="udpintegrationhandlerconfiguration">
  <div class="panel panel-default">
    <div class="panel-heading">
<a class="content-toggle-button" data-target="#text">
                <div class="content-toggle-button-text">
                    Text payload<br />
                </div>
            </a> <a class="content-toggle-button" data-target="#json">
                <div class="content-toggle-button-text">
                    JSON payload<br />
                </div>
            </a> <a class="content-toggle-button" data-target="#binary">
                <div class="content-toggle-button-text">
                    Binary payload<br />
                </div>
            </a> <a class="content-toggle-button" data-target="#hex">
                <div class="content-toggle-button-text">
                    Hex payload<br />
                </div>
            </a>
    </div>
    <div id="text" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>Please select <strong>Handler Type</strong> as <strong>TEXT</strong></p>

<p><img src="/images/user-guide/integrations/udp/text-handler-configuration.png" alt="image" /></p>

<p>To parse payload properly, please make sure that next values are set:</p>
<ul>
  <li><strong>Charset Name</strong> - incoming bytes will be converted to string using provided charset; Leave it by default for this demo - <strong>UTF-8</strong>;</li>
</ul>

</td></tr></table>
      </div>
    </div>
    <div id="json" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>Please select <strong>Handler Type</strong> as <strong>JSON</strong></p>

<p><img src="/images/user-guide/integrations/udp/json-handler-configuration.png" alt="image" /></p>

</td></tr></table>
      </div>
    </div>
    <div id="binary" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>Please select <strong>Handler Type</strong> as <strong>BINARY</strong></p>

<p><img src="/images/user-guide/integrations/udp/binary-handler-configuration.png" alt="image" /></p>

</td></tr></table>
      </div>
    </div>
    <div id="hex" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>Please select <strong>Handler Type</strong> as <strong>HEX</strong></p>

<p><img src="/images/user-guide/integrations/udp/hex-handler-configuration.png" alt="image" /></p>

</td></tr></table>
      </div>
    </div>
  </div>
</div>

<script>
    jqueryUiDefer(initContentToggleudpintegrationhandlerconfiguration);
    function initContentToggleudpintegrationhandlerconfiguration() {
        $(function(){

            window.addEventListener('popstate', onPopStateudpintegrationhandlerconfiguration);

            onPopStateudpintegrationhandlerconfiguration();

            $('.tb-content-toggle#udpintegrationhandlerconfiguration a.content-toggle-button').click(function(event) {
                event.preventDefault();
                var id = $(this).attr("data-target").substring(1);
                var param = 'udpintegrationhandlerconfiguration';
                var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
                params[param] = id;

                var newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?' + Qs.stringify(params);
                if (window.location.hash) {
                    newurl += window.location.hash;
                }
                window.history.pushState({ path: newurl }, '', newurl);
                selectTargetudpintegrationhandlerconfiguration(id);
            });
        });
    }

    function onPopStateudpintegrationhandlerconfiguration() {
        var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
        var targetId = params['udpintegrationhandlerconfiguration'];
        if (!targetId) {
            targetId = 'text';
        }
        selectTargetudpintegrationhandlerconfiguration(targetId);
    }

    function selectTargetudpintegrationhandlerconfiguration(targetId) {
        $(".tb-content-toggle#udpintegrationhandlerconfiguration a.content-toggle-button").removeClass("active");
        $(".tb-content-toggle#udpintegrationhandlerconfiguration a.content-toggle-button[data-target='#"+targetId+"']").addClass("active");
        $('.tb-content-toggle#udpintegrationhandlerconfiguration .panel-collapse').removeClass("show");
        $('.tb-content-toggle#udpintegrationhandlerconfiguration .panel-collapse#'+targetId).addClass("show");
    }

</script>

<p>Click <strong>Add</strong> to save the Integration.</p>

<h4 id="installing-and-running-external-udp-integration">Installing and running external UDP Integration</h4>

<p>Please refer to the <a href="/docs/paas/user-guide/integrations/remote-integrations">Remote Integration guide</a> and install UDP Integration service locally or on separate machine.</p>

<p>Please use <strong>Integration key</strong> and <strong>Integration secret</strong> from the above section for your UDP Integration configuration.</p>

<h3 id="send-uplink-message">Send Uplink message</h3>

<p>Once ThingsBoard UDP Integration has been created, the UDP server starts, and then it waits for data from the devices.</p>

<p>Choose device payload type to send uplink message</p>

<div class="tb-content-toggle" id="udpintegrationsenduplink">
  <div class="panel panel-default">
    <div class="panel-heading">
<a class="content-toggle-button" data-target="#text">
                <div class="content-toggle-button-text">
                    Text payload<br />
                </div>
            </a> <a class="content-toggle-button" data-target="#json">
                <div class="content-toggle-button-text">
                    JSON payload<br />
                </div>
            </a> <a class="content-toggle-button" data-target="#binary">
                <div class="content-toggle-button-text">
                    Binary payload<br />
                </div>
            </a> <a class="content-toggle-button" data-target="#hex">
                <div class="content-toggle-button-text">
                    Hex payload<br />
                </div>
            </a>
    </div>
    <div id="text" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>The command to send a message to the UDP server that is running on localhost (127.0.0.1) will look like this:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">echo</span> <span class="nt">-e</span> <span class="s1">'SN-001,default,temperature,25.7,humidity,69'</span> | nc <span class="nt">-q1</span> <span class="nt">-w1</span> <span class="nt">-u</span> 127.0.0.1 11560
</pre></td></tr></tbody></table></code></pre></div></div>

</td></tr></table>
      </div>
    </div>
    <div id="json" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>The command to send a message to the UDP server that is running on localhost (127.0.0.1) will look like this:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">echo</span> <span class="nt">-e</span> <span class="nt">-n</span> <span class="s1">'{"deviceName": "SN-001", "deviceType": "default", "temperature": 25.7, "humidity": 69}'</span> | nc <span class="nt">-q1</span> <span class="nt">-w1</span> <span class="nt">-u</span> 127.0.0.1 11560
</pre></td></tr></tbody></table></code></pre></div></div>

</td></tr></table>
      </div>
    </div>
    <div id="binary" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>The command to send a message to the UDP server that is running on localhost (127.0.0.1) will look like this:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">echo</span> <span class="nt">-e</span> <span class="nt">-n</span> <span class="s1">'\x53\x4e\x2d\x30\x30\x31\x64\x65\x66\x61\x75\x6c\x74\x32\x35\x2e\x37'</span> | nc <span class="nt">-q1</span> <span class="nt">-w1</span> <span class="nt">-u</span> 127.0.0.1 11560
</pre></td></tr></tbody></table></code></pre></div></div>

</td></tr></table>
      </div>
    </div>
    <div id="hex" class="panel-collapse collapse">
      <div class="panel-body">
        <table><tr><td>
<p>The command to send a message to the UDP server that is running on localhost (127.0.0.1) will look like this:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">echo</span> <span class="nt">-e</span> <span class="nt">-n</span> <span class="s1">'534e2d30303164656661756c7432352e373639'</span> | xxd <span class="nt">-r</span> <span class="nt">-p</span> | nc <span class="nt">-q1</span> <span class="nt">-w1</span> <span class="nt">-u</span> 127.0.0.1 11560
</pre></td></tr></tbody></table></code></pre></div></div>

</td></tr></table>
      </div>
    </div>
  </div>
</div>

<script>
    jqueryUiDefer(initContentToggleudpintegrationsenduplink);
    function initContentToggleudpintegrationsenduplink() {
        $(function(){

            window.addEventListener('popstate', onPopStateudpintegrationsenduplink);

            onPopStateudpintegrationsenduplink();

            $('.tb-content-toggle#udpintegrationsenduplink a.content-toggle-button').click(function(event) {
                event.preventDefault();
                var id = $(this).attr("data-target").substring(1);
                var param = 'udpintegrationsenduplink';
                var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
                params[param] = id;

                var newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?' + Qs.stringify(params);
                if (window.location.hash) {
                    newurl += window.location.hash;
                }
                window.history.pushState({ path: newurl }, '', newurl);
                selectTargetudpintegrationsenduplink(id);
            });
        });
    }

    function onPopStateudpintegrationsenduplink() {
        var params = Qs.parse(window.location.search, { ignoreQueryPrefix: true });
        var targetId = params['udpintegrationsenduplink'];
        if (!targetId) {
            targetId = 'text';
        }
        selectTargetudpintegrationsenduplink(targetId);
    }

    function selectTargetudpintegrationsenduplink(targetId) {
        $(".tb-content-toggle#udpintegrationsenduplink a.content-toggle-button").removeClass("active");
        $(".tb-content-toggle#udpintegrationsenduplink a.content-toggle-button[data-target='#"+targetId+"']").addClass("active");
        $('.tb-content-toggle#udpintegrationsenduplink .panel-collapse').removeClass("show");
        $('.tb-content-toggle#udpintegrationsenduplink .panel-collapse#'+targetId).addClass("show");
    }

</script>

<p>Once you go to <strong>Device Groups -&gt; All</strong> you should find a <strong>SN-001</strong> device provisioned by the Integration.
Click on the device, go to <strong>Latest Telemetry</strong> tab to see “temperature” key and its value (25.7) there.</p>

<p>If your payload contains <strong>humidity</strong> telemetry, you should see “humidity” key and its value (69) there as well.</p>

<h2 id="advanced-usage-downlink">Advanced usage: Downlink</h2>

<p>Create Downlink Converter in <strong>Data converters</strong>. To see events - enable Debug. You can use our example of Downlink Converter,
or write your own according to your configuration:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="c1">// Result object with encoded downlink payload</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{</span>

    <span class="c1">// downlink data content type: JSON, TEXT or BINARY (base64 format)</span>
    <span class="na">contentType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">JSON</span><span class="dl">"</span><span class="p">,</span>

    <span class="c1">// downlink data</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">msg</span><span class="p">),</span>

    <span class="c1">// Optional metadata object presented in key/value format</span>
    <span class="na">metadata</span><span class="p">:</span> <span class="p">{}</span>

<span class="p">};</span>

<span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div id="0">
  <div itemscope="" itemtype="http://schema.org/ImageGallery" class="images-gallery" style="justify-content: start;">
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);">
<a href="/images/udp/create_downlink_converter.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/udp/create_downlink_converter-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none"></figcaption>
    </figure>
  </div>
</div>

<script>
    window.addEventListener("load", function() {
        window.removeEventListener("load", arguments.callee, false);

        if(!document.getElementsByClassName('pswp').length){
            document.body.insertAdjacentHTML('beforeend',
                '<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n' +
                '        <div class="pswp__bg"></div>\n' +
                '        <div class="pswp__scroll-wrap">\n' +
                '            <div class="pswp__container">\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '            </div>\n' +
                '\n' +
                '            <div class="pswp__ui pswp__ui--hidden">\n' +
                '\n' +
                '                <div class="pswp__top-bar">\n' +
                '                    <div class="pswp__counter"></div>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--share" title="Share"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n' +
                '\n' +
                '                    <div class="pswp__preloader">\n' +
                '                        <div class="pswp__preloader__icn">\n' +
                '                            <div class="pswp__preloader__cut">\n' +
                '                                <div class="pswp__preloader__donut"></div>\n' +
                '                            </div>\n' +
                '                        </div>\n' +
                '                    </div>\n' +
                '                </div>\n' +
                '                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">\n' +
                '                    <div class="pswp__share-tooltip"></div>\n' +
                '                </div>\n' +
                '                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n' +
                '                </button>\n' +
                '                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n' +
                '                </button>\n' +
                '                <div class="pswp__caption">\n' +
                '                    <div class="pswp__caption__center"></div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '    </div>'
            );
        }

        var container = document.getElementById('0');

        var initPhotoSwipeFromDOM = function(gallerySelector) {
            var parseThumbnailElements = function(el) {
                var thumbElements = el.childNodes,
                    numNodes = thumbElements.length,
                    items = [],
                    figureEl,
                    linkEl,
                    size,
                    item;

                for(var i = 0; i < numNodes; i++) {

                    figureEl = thumbElements[i];
                    if(figureEl.nodeType !== 1) {
                        continue;
                    }
                    linkEl = figureEl.children[0];
                    size = linkEl.children[0];
                    item = {
                        src: linkEl.getAttribute('href'),
                        w: 2500,
                        h: 0,
                        sizeLoaded: false
                    };

                    if(figureEl.children.length > 1) {
                        item.title = figureEl.children[1].innerHTML;
                    }
                    if(linkEl.children.length > 0) {
                        item.msrc = linkEl.children[0].getAttribute('src');
                    }
                    if(item.msrc === item.src){
                        item.w = parseInt(size.naturalWidth, 10);
                        item.h = parseInt(size.naturalHeight, 10);
                    }

                    item.el = figureEl;
                    items.push(item);
                }
                return items;
            };

            var closest = function closest(el, fn) {
                return el && ( fn(el) ? el : closest(el.parentNode, fn) );
            };

            var onThumbnailsClick = function(e) {
                e = e || window.event;
                e.preventDefault ? e.preventDefault() : e.returnValue = false;

                var eTarget = e.target || e.srcElement;

                var clickedListItem = closest(eTarget, function(el) {
                    return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');
                });

                if(!clickedListItem) {
                    return;
                }

                var clickedGallery = clickedListItem.parentNode,
                    childNodes = clickedListItem.parentNode.childNodes,
                    numChildNodes = childNodes.length,
                    nodeIndex = 0,
                    index;

                for (var i = 0; i < numChildNodes; i++) {
                    if(childNodes[i].nodeType !== 1) {
                        continue;
                    }

                    if(childNodes[i] === clickedListItem) {
                        index = nodeIndex;
                        break;
                    }
                    nodeIndex++;
                }

                if(index >= 0) {
                    openPhotoSwipe( index, clickedGallery );
                }
                return false;
            };

            var photoswipeParseHash = function() {
                var hash = window.location.hash.substring(1),
                    params = {};

                if(hash.length < 5) {
                    return params;
                }

                var vars = hash.split('&');
                for (var i = 0; i < vars.length; i++) {
                    if(!vars[i]) {
                        continue;
                    }
                    var pair = vars[i].split('=');
                    if(pair.length < 2) {
                        continue;
                    }
                    params[pair[0]] = pair[1];
                }

                if(params.gid) {
                    params.gid = parseInt(params.gid, 10);
                }

                return params;
            };

            var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {
                var pswpElement = document.querySelectorAll('.pswp')[0],
                    gallery,
                    options,
                    items;

                items = parseThumbnailElements(galleryElement);

                options = {
                    galleryUID: galleryElement.getAttribute('data-pswp-uid'),
                    getThumbBoundsFn: function(index) {
                        var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail
                            pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
                            rect = thumbnail.getBoundingClientRect();
                        return {x:rect.left, y:rect.top + pageYScroll, w:rect.width};
                    },
                    bgOpacity: 0.8,
                    closeOnScroll: false,
                    shareEl: false,
                    fullscreenEl: false,
                    zoomEl: true,
                    history: false,
                    loop: false
                };

                if(fromURL) {
                    if(options.galleryPIDs) {
                        for(var j = 0; j < items.length; j++) {
                            if(items[j].pid == index) {
                                options.index = j;
                                break;
                            }
                        }
                    } else {
                        options.index = parseInt(index, 10) - 1;
                    }
                } else {
                    options.index = parseInt(index, 10);
                }

                if( isNaN(options.index) ) {
                    return;
                }

                if(disableAnimation) {
                    options.showAnimationDuration = 0;
                }

                gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, items, options);

                gallery.listen('gettingData', function(index, item) {
                    if (!item.sizeLoaded) {
                        item.sizeLoaded = true;
                        var img = new Image();
                        img.onload = function() {
                            item.w = this.width;
                            item.h = this.height;
                            gallery.updateSize(true);
                        }
                        img.src = item.src;
                    }
                });

                gallery.init();

                var buttonLeft = pswpElement.getElementsByClassName('pswp__button--arrow--left')[0];
                var buttonRight = pswpElement.getElementsByClassName('pswp__button--arrow--right')[0];

                buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;

                gallery.listen('beforeChange', function() {
                        buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                        buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;
                    }
                );
            };

            var galleryElements = container.querySelectorAll( gallerySelector );

            for(var i = 0, l = galleryElements.length; i < l; i++) {
                galleryElements[i].setAttribute('data-pswp-uid', i+1);
                galleryElements[i].onclick = onThumbnailsClick;
            }

            var hashData = photoswipeParseHash();
            if(hashData.pid && hashData.gid) {
                openPhotoSwipe( hashData.pid ,  galleryElements[ hashData.gid - 1 ], true, true );
            }
        };

        initPhotoSwipeFromDOM('.images-gallery');
    }, false)
</script>

<p>Now you have to add a converter to the integration, optionally
configure Cache Size and Cache time to live in minutes (able just for UDP Downlink).</p>

<p><em><strong>Note</strong>: Cache size and Time to live - features, that helps to avoid memory leak when we are storing connections.</em>
<em>Cache time to live - time to storage messages</em>
<em>Cache size - maximum size of messages for UDP client</em></p>

<div id="0">
  <div itemscope="" itemtype="http://schema.org/ImageGallery" class="images-gallery" style="justify-content: start;">
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);">
<a href="/images/udp/integration_and_downlink_converter.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/udp/integration_and_downlink_converter-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none"></figcaption>
    </figure>
  </div>
</div>

<script>
    window.addEventListener("load", function() {
        window.removeEventListener("load", arguments.callee, false);

        if(!document.getElementsByClassName('pswp').length){
            document.body.insertAdjacentHTML('beforeend',
                '<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n' +
                '        <div class="pswp__bg"></div>\n' +
                '        <div class="pswp__scroll-wrap">\n' +
                '            <div class="pswp__container">\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '            </div>\n' +
                '\n' +
                '            <div class="pswp__ui pswp__ui--hidden">\n' +
                '\n' +
                '                <div class="pswp__top-bar">\n' +
                '                    <div class="pswp__counter"></div>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--share" title="Share"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n' +
                '\n' +
                '                    <div class="pswp__preloader">\n' +
                '                        <div class="pswp__preloader__icn">\n' +
                '                            <div class="pswp__preloader__cut">\n' +
                '                                <div class="pswp__preloader__donut"></div>\n' +
                '                            </div>\n' +
                '                        </div>\n' +
                '                    </div>\n' +
                '                </div>\n' +
                '                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">\n' +
                '                    <div class="pswp__share-tooltip"></div>\n' +
                '                </div>\n' +
                '                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n' +
                '                </button>\n' +
                '                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n' +
                '                </button>\n' +
                '                <div class="pswp__caption">\n' +
                '                    <div class="pswp__caption__center"></div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '    </div>'
            );
        }

        var container = document.getElementById('0');

        var initPhotoSwipeFromDOM = function(gallerySelector) {
            var parseThumbnailElements = function(el) {
                var thumbElements = el.childNodes,
                    numNodes = thumbElements.length,
                    items = [],
                    figureEl,
                    linkEl,
                    size,
                    item;

                for(var i = 0; i < numNodes; i++) {

                    figureEl = thumbElements[i];
                    if(figureEl.nodeType !== 1) {
                        continue;
                    }
                    linkEl = figureEl.children[0];
                    size = linkEl.children[0];
                    item = {
                        src: linkEl.getAttribute('href'),
                        w: 2500,
                        h: 0,
                        sizeLoaded: false
                    };

                    if(figureEl.children.length > 1) {
                        item.title = figureEl.children[1].innerHTML;
                    }
                    if(linkEl.children.length > 0) {
                        item.msrc = linkEl.children[0].getAttribute('src');
                    }
                    if(item.msrc === item.src){
                        item.w = parseInt(size.naturalWidth, 10);
                        item.h = parseInt(size.naturalHeight, 10);
                    }

                    item.el = figureEl;
                    items.push(item);
                }
                return items;
            };

            var closest = function closest(el, fn) {
                return el && ( fn(el) ? el : closest(el.parentNode, fn) );
            };

            var onThumbnailsClick = function(e) {
                e = e || window.event;
                e.preventDefault ? e.preventDefault() : e.returnValue = false;

                var eTarget = e.target || e.srcElement;

                var clickedListItem = closest(eTarget, function(el) {
                    return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');
                });

                if(!clickedListItem) {
                    return;
                }

                var clickedGallery = clickedListItem.parentNode,
                    childNodes = clickedListItem.parentNode.childNodes,
                    numChildNodes = childNodes.length,
                    nodeIndex = 0,
                    index;

                for (var i = 0; i < numChildNodes; i++) {
                    if(childNodes[i].nodeType !== 1) {
                        continue;
                    }

                    if(childNodes[i] === clickedListItem) {
                        index = nodeIndex;
                        break;
                    }
                    nodeIndex++;
                }

                if(index >= 0) {
                    openPhotoSwipe( index, clickedGallery );
                }
                return false;
            };

            var photoswipeParseHash = function() {
                var hash = window.location.hash.substring(1),
                    params = {};

                if(hash.length < 5) {
                    return params;
                }

                var vars = hash.split('&');
                for (var i = 0; i < vars.length; i++) {
                    if(!vars[i]) {
                        continue;
                    }
                    var pair = vars[i].split('=');
                    if(pair.length < 2) {
                        continue;
                    }
                    params[pair[0]] = pair[1];
                }

                if(params.gid) {
                    params.gid = parseInt(params.gid, 10);
                }

                return params;
            };

            var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {
                var pswpElement = document.querySelectorAll('.pswp')[0],
                    gallery,
                    options,
                    items;

                items = parseThumbnailElements(galleryElement);

                options = {
                    galleryUID: galleryElement.getAttribute('data-pswp-uid'),
                    getThumbBoundsFn: function(index) {
                        var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail
                            pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
                            rect = thumbnail.getBoundingClientRect();
                        return {x:rect.left, y:rect.top + pageYScroll, w:rect.width};
                    },
                    bgOpacity: 0.8,
                    closeOnScroll: false,
                    shareEl: false,
                    fullscreenEl: false,
                    zoomEl: true,
                    history: false,
                    loop: false
                };

                if(fromURL) {
                    if(options.galleryPIDs) {
                        for(var j = 0; j < items.length; j++) {
                            if(items[j].pid == index) {
                                options.index = j;
                                break;
                            }
                        }
                    } else {
                        options.index = parseInt(index, 10) - 1;
                    }
                } else {
                    options.index = parseInt(index, 10);
                }

                if( isNaN(options.index) ) {
                    return;
                }

                if(disableAnimation) {
                    options.showAnimationDuration = 0;
                }

                gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, items, options);

                gallery.listen('gettingData', function(index, item) {
                    if (!item.sizeLoaded) {
                        item.sizeLoaded = true;
                        var img = new Image();
                        img.onload = function() {
                            item.w = this.width;
                            item.h = this.height;
                            gallery.updateSize(true);
                        }
                        img.src = item.src;
                    }
                });

                gallery.init();

                var buttonLeft = pswpElement.getElementsByClassName('pswp__button--arrow--left')[0];
                var buttonRight = pswpElement.getElementsByClassName('pswp__button--arrow--right')[0];

                buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;

                gallery.listen('beforeChange', function() {
                        buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                        buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;
                    }
                );
            };

            var galleryElements = container.querySelectorAll( gallerySelector );

            for(var i = 0, l = galleryElements.length; i < l; i++) {
                galleryElements[i].setAttribute('data-pswp-uid', i+1);
                galleryElements[i].onclick = onThumbnailsClick;
            }

            var hashData = photoswipeParseHash();
            if(hashData.pid && hashData.gid) {
                openPhotoSwipe( hashData.pid ,  galleryElements[ hashData.gid - 1 ], true, true );
            }
        };

        initPhotoSwipeFromDOM('.images-gallery');
    }, false)
</script>

<p>When integration configured and ready to use, we need to go to Rule Chains, choose ‘Root Rule Chain’ and here create rule node
<strong>Integration Downlink</strong>. Input here some name, choose which integration you need to use and tap <strong>Add</strong>.
After this steps, we need to tap on a right grey circle of rule node <strong>message type switch</strong> and drag this circle to left side of ‘Integration Downlink’,
here lets choose <strong>Attribute Update</strong>, tap ‘Add’ and save Rule node. That’s it!</p>

<div id="0">
  <div itemscope="" itemtype="http://schema.org/ImageGallery" class="images-gallery" style="justify-content: start;">
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/udp/rule_chain_downlink.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/udp/rule_chain_downlink-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none"></figcaption>
    </figure>
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/udp/rule_chain_and_attributes_updated.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/udp/rule_chain_and_attributes_updated-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none"></figcaption>
    </figure>
  </div>
</div>

<script>
    window.addEventListener("load", function() {
        window.removeEventListener("load", arguments.callee, false);

        if(!document.getElementsByClassName('pswp').length){
            document.body.insertAdjacentHTML('beforeend',
                '<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n' +
                '        <div class="pswp__bg"></div>\n' +
                '        <div class="pswp__scroll-wrap">\n' +
                '            <div class="pswp__container">\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '            </div>\n' +
                '\n' +
                '            <div class="pswp__ui pswp__ui--hidden">\n' +
                '\n' +
                '                <div class="pswp__top-bar">\n' +
                '                    <div class="pswp__counter"></div>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--share" title="Share"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n' +
                '\n' +
                '                    <div class="pswp__preloader">\n' +
                '                        <div class="pswp__preloader__icn">\n' +
                '                            <div class="pswp__preloader__cut">\n' +
                '                                <div class="pswp__preloader__donut"></div>\n' +
                '                            </div>\n' +
                '                        </div>\n' +
                '                    </div>\n' +
                '                </div>\n' +
                '                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">\n' +
                '                    <div class="pswp__share-tooltip"></div>\n' +
                '                </div>\n' +
                '                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n' +
                '                </button>\n' +
                '                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n' +
                '                </button>\n' +
                '                <div class="pswp__caption">\n' +
                '                    <div class="pswp__caption__center"></div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '    </div>'
            );
        }

        var container = document.getElementById('0');

        var initPhotoSwipeFromDOM = function(gallerySelector) {
            var parseThumbnailElements = function(el) {
                var thumbElements = el.childNodes,
                    numNodes = thumbElements.length,
                    items = [],
                    figureEl,
                    linkEl,
                    size,
                    item;

                for(var i = 0; i < numNodes; i++) {

                    figureEl = thumbElements[i];
                    if(figureEl.nodeType !== 1) {
                        continue;
                    }
                    linkEl = figureEl.children[0];
                    size = linkEl.children[0];
                    item = {
                        src: linkEl.getAttribute('href'),
                        w: 2500,
                        h: 0,
                        sizeLoaded: false
                    };

                    if(figureEl.children.length > 1) {
                        item.title = figureEl.children[1].innerHTML;
                    }
                    if(linkEl.children.length > 0) {
                        item.msrc = linkEl.children[0].getAttribute('src');
                    }
                    if(item.msrc === item.src){
                        item.w = parseInt(size.naturalWidth, 10);
                        item.h = parseInt(size.naturalHeight, 10);
                    }

                    item.el = figureEl;
                    items.push(item);
                }
                return items;
            };

            var closest = function closest(el, fn) {
                return el && ( fn(el) ? el : closest(el.parentNode, fn) );
            };

            var onThumbnailsClick = function(e) {
                e = e || window.event;
                e.preventDefault ? e.preventDefault() : e.returnValue = false;

                var eTarget = e.target || e.srcElement;

                var clickedListItem = closest(eTarget, function(el) {
                    return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');
                });

                if(!clickedListItem) {
                    return;
                }

                var clickedGallery = clickedListItem.parentNode,
                    childNodes = clickedListItem.parentNode.childNodes,
                    numChildNodes = childNodes.length,
                    nodeIndex = 0,
                    index;

                for (var i = 0; i < numChildNodes; i++) {
                    if(childNodes[i].nodeType !== 1) {
                        continue;
                    }

                    if(childNodes[i] === clickedListItem) {
                        index = nodeIndex;
                        break;
                    }
                    nodeIndex++;
                }

                if(index >= 0) {
                    openPhotoSwipe( index, clickedGallery );
                }
                return false;
            };

            var photoswipeParseHash = function() {
                var hash = window.location.hash.substring(1),
                    params = {};

                if(hash.length < 5) {
                    return params;
                }

                var vars = hash.split('&');
                for (var i = 0; i < vars.length; i++) {
                    if(!vars[i]) {
                        continue;
                    }
                    var pair = vars[i].split('=');
                    if(pair.length < 2) {
                        continue;
                    }
                    params[pair[0]] = pair[1];
                }

                if(params.gid) {
                    params.gid = parseInt(params.gid, 10);
                }

                return params;
            };

            var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {
                var pswpElement = document.querySelectorAll('.pswp')[0],
                    gallery,
                    options,
                    items;

                items = parseThumbnailElements(galleryElement);

                options = {
                    galleryUID: galleryElement.getAttribute('data-pswp-uid'),
                    getThumbBoundsFn: function(index) {
                        var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail
                            pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
                            rect = thumbnail.getBoundingClientRect();
                        return {x:rect.left, y:rect.top + pageYScroll, w:rect.width};
                    },
                    bgOpacity: 0.8,
                    closeOnScroll: false,
                    shareEl: false,
                    fullscreenEl: false,
                    zoomEl: true,
                    history: false,
                    loop: false
                };

                if(fromURL) {
                    if(options.galleryPIDs) {
                        for(var j = 0; j < items.length; j++) {
                            if(items[j].pid == index) {
                                options.index = j;
                                break;
                            }
                        }
                    } else {
                        options.index = parseInt(index, 10) - 1;
                    }
                } else {
                    options.index = parseInt(index, 10);
                }

                if( isNaN(options.index) ) {
                    return;
                }

                if(disableAnimation) {
                    options.showAnimationDuration = 0;
                }

                gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, items, options);

                gallery.listen('gettingData', function(index, item) {
                    if (!item.sizeLoaded) {
                        item.sizeLoaded = true;
                        var img = new Image();
                        img.onload = function() {
                            item.w = this.width;
                            item.h = this.height;
                            gallery.updateSize(true);
                        }
                        img.src = item.src;
                    }
                });

                gallery.init();

                var buttonLeft = pswpElement.getElementsByClassName('pswp__button--arrow--left')[0];
                var buttonRight = pswpElement.getElementsByClassName('pswp__button--arrow--right')[0];

                buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;

                gallery.listen('beforeChange', function() {
                        buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                        buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;
                    }
                );
            };

            var galleryElements = container.querySelectorAll( gallerySelector );

            for(var i = 0, l = galleryElements.length; i < l; i++) {
                galleryElements[i].setAttribute('data-pswp-uid', i+1);
                galleryElements[i].onclick = onThumbnailsClick;
            }

            var hashData = photoswipeParseHash();
            if(hashData.pid && hashData.gid) {
                openPhotoSwipe( hashData.pid ,  galleryElements[ hashData.gid - 1 ], true, true );
            }
        };

        initPhotoSwipeFromDOM('.images-gallery');
    }, false)
</script>

<h2 id="test-downlink">Test Downlink</h2>

<p>To test downlink you can create some <strong>shared attribute</strong> on your device, change it, and try to send some Uplink message on this device. And
you will see Downlink message.</p>

<div id="0">
  <div itemscope="" itemtype="http://schema.org/ImageGallery" class="images-gallery" style="justify-content: start;">
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/udp/add_shared_attribute.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/udp/add_shared_attribute-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none"></figcaption>
    </figure>
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/udp/terminal1.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/udp/terminal1-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none"></figcaption>
    </figure>
  </div>
</div>

<script>
    window.addEventListener("load", function() {
        window.removeEventListener("load", arguments.callee, false);

        if(!document.getElementsByClassName('pswp').length){
            document.body.insertAdjacentHTML('beforeend',
                '<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n' +
                '        <div class="pswp__bg"></div>\n' +
                '        <div class="pswp__scroll-wrap">\n' +
                '            <div class="pswp__container">\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '            </div>\n' +
                '\n' +
                '            <div class="pswp__ui pswp__ui--hidden">\n' +
                '\n' +
                '                <div class="pswp__top-bar">\n' +
                '                    <div class="pswp__counter"></div>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--share" title="Share"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n' +
                '\n' +
                '                    <div class="pswp__preloader">\n' +
                '                        <div class="pswp__preloader__icn">\n' +
                '                            <div class="pswp__preloader__cut">\n' +
                '                                <div class="pswp__preloader__donut"></div>\n' +
                '                            </div>\n' +
                '                        </div>\n' +
                '                    </div>\n' +
                '                </div>\n' +
                '                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">\n' +
                '                    <div class="pswp__share-tooltip"></div>\n' +
                '                </div>\n' +
                '                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n' +
                '                </button>\n' +
                '                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n' +
                '                </button>\n' +
                '                <div class="pswp__caption">\n' +
                '                    <div class="pswp__caption__center"></div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '    </div>'
            );
        }

        var container = document.getElementById('0');

        var initPhotoSwipeFromDOM = function(gallerySelector) {
            var parseThumbnailElements = function(el) {
                var thumbElements = el.childNodes,
                    numNodes = thumbElements.length,
                    items = [],
                    figureEl,
                    linkEl,
                    size,
                    item;

                for(var i = 0; i < numNodes; i++) {

                    figureEl = thumbElements[i];
                    if(figureEl.nodeType !== 1) {
                        continue;
                    }
                    linkEl = figureEl.children[0];
                    size = linkEl.children[0];
                    item = {
                        src: linkEl.getAttribute('href'),
                        w: 2500,
                        h: 0,
                        sizeLoaded: false
                    };

                    if(figureEl.children.length > 1) {
                        item.title = figureEl.children[1].innerHTML;
                    }
                    if(linkEl.children.length > 0) {
                        item.msrc = linkEl.children[0].getAttribute('src');
                    }
                    if(item.msrc === item.src){
                        item.w = parseInt(size.naturalWidth, 10);
                        item.h = parseInt(size.naturalHeight, 10);
                    }

                    item.el = figureEl;
                    items.push(item);
                }
                return items;
            };

            var closest = function closest(el, fn) {
                return el && ( fn(el) ? el : closest(el.parentNode, fn) );
            };

            var onThumbnailsClick = function(e) {
                e = e || window.event;
                e.preventDefault ? e.preventDefault() : e.returnValue = false;

                var eTarget = e.target || e.srcElement;

                var clickedListItem = closest(eTarget, function(el) {
                    return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');
                });

                if(!clickedListItem) {
                    return;
                }

                var clickedGallery = clickedListItem.parentNode,
                    childNodes = clickedListItem.parentNode.childNodes,
                    numChildNodes = childNodes.length,
                    nodeIndex = 0,
                    index;

                for (var i = 0; i < numChildNodes; i++) {
                    if(childNodes[i].nodeType !== 1) {
                        continue;
                    }

                    if(childNodes[i] === clickedListItem) {
                        index = nodeIndex;
                        break;
                    }
                    nodeIndex++;
                }

                if(index >= 0) {
                    openPhotoSwipe( index, clickedGallery );
                }
                return false;
            };

            var photoswipeParseHash = function() {
                var hash = window.location.hash.substring(1),
                    params = {};

                if(hash.length < 5) {
                    return params;
                }

                var vars = hash.split('&');
                for (var i = 0; i < vars.length; i++) {
                    if(!vars[i]) {
                        continue;
                    }
                    var pair = vars[i].split('=');
                    if(pair.length < 2) {
                        continue;
                    }
                    params[pair[0]] = pair[1];
                }

                if(params.gid) {
                    params.gid = parseInt(params.gid, 10);
                }

                return params;
            };

            var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {
                var pswpElement = document.querySelectorAll('.pswp')[0],
                    gallery,
                    options,
                    items;

                items = parseThumbnailElements(galleryElement);

                options = {
                    galleryUID: galleryElement.getAttribute('data-pswp-uid'),
                    getThumbBoundsFn: function(index) {
                        var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail
                            pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
                            rect = thumbnail.getBoundingClientRect();
                        return {x:rect.left, y:rect.top + pageYScroll, w:rect.width};
                    },
                    bgOpacity: 0.8,
                    closeOnScroll: false,
                    shareEl: false,
                    fullscreenEl: false,
                    zoomEl: true,
                    history: false,
                    loop: false
                };

                if(fromURL) {
                    if(options.galleryPIDs) {
                        for(var j = 0; j < items.length; j++) {
                            if(items[j].pid == index) {
                                options.index = j;
                                break;
                            }
                        }
                    } else {
                        options.index = parseInt(index, 10) - 1;
                    }
                } else {
                    options.index = parseInt(index, 10);
                }

                if( isNaN(options.index) ) {
                    return;
                }

                if(disableAnimation) {
                    options.showAnimationDuration = 0;
                }

                gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, items, options);

                gallery.listen('gettingData', function(index, item) {
                    if (!item.sizeLoaded) {
                        item.sizeLoaded = true;
                        var img = new Image();
                        img.onload = function() {
                            item.w = this.width;
                            item.h = this.height;
                            gallery.updateSize(true);
                        }
                        img.src = item.src;
                    }
                });

                gallery.init();

                var buttonLeft = pswpElement.getElementsByClassName('pswp__button--arrow--left')[0];
                var buttonRight = pswpElement.getElementsByClassName('pswp__button--arrow--right')[0];

                buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;

                gallery.listen('beforeChange', function() {
                        buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                        buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;
                    }
                );
            };

            var galleryElements = container.querySelectorAll( gallerySelector );

            for(var i = 0, l = galleryElements.length; i < l; i++) {
                galleryElements[i].setAttribute('data-pswp-uid', i+1);
                galleryElements[i].onclick = onThumbnailsClick;
            }

            var hashData = photoswipeParseHash();
            if(hashData.pid && hashData.gid) {
                openPhotoSwipe( hashData.pid ,  galleryElements[ hashData.gid - 1 ], true, true );
            }
        };

        initPhotoSwipeFromDOM('.images-gallery');
    }, false)
</script>

<p>Also, you can set for Uplink command option <code class="language-plaintext highlighter-rouge">-q</code>, for example 120 seconds. This option setting how long you will wait for a response.
If time of connection is over - you will receive this message on next Uplink. See next example:</p>

<div id="0">
  <div itemscope="" itemtype="http://schema.org/ImageGallery" class="images-gallery" style="justify-content: start;">
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/udp/device_groups_all_shared_attributes_update.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/udp/device_groups_all_shared_attributes_update-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none"></figcaption>
    </figure>
    <figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject" style="max-width: min(225px, 100%);
                    max-height: min(225px, 100%);" class="list-item">
<a href="/images/udp/terminal4.png" onclick="return false;" itemprop="contentUrl"> <img src="/images/udp/terminal4-preview.png" itemprop="thumbnail" alt="image" style="max-width: min(225px, 100%);
                                max-height: min(225px, 100%);" /> </a>       <figcaption itemprop="caption description" style="display: none"></figcaption>
    </figure>
  </div>
</div>

<script>
    window.addEventListener("load", function() {
        window.removeEventListener("load", arguments.callee, false);

        if(!document.getElementsByClassName('pswp').length){
            document.body.insertAdjacentHTML('beforeend',
                '<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n' +
                '        <div class="pswp__bg"></div>\n' +
                '        <div class="pswp__scroll-wrap">\n' +
                '            <div class="pswp__container">\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '                <div class="pswp__item"></div>\n' +
                '            </div>\n' +
                '\n' +
                '            <div class="pswp__ui pswp__ui--hidden">\n' +
                '\n' +
                '                <div class="pswp__top-bar">\n' +
                '                    <div class="pswp__counter"></div>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--share" title="Share"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n' +
                '\n' +
                '                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n' +
                '\n' +
                '                    <div class="pswp__preloader">\n' +
                '                        <div class="pswp__preloader__icn">\n' +
                '                            <div class="pswp__preloader__cut">\n' +
                '                                <div class="pswp__preloader__donut"></div>\n' +
                '                            </div>\n' +
                '                        </div>\n' +
                '                    </div>\n' +
                '                </div>\n' +
                '                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">\n' +
                '                    <div class="pswp__share-tooltip"></div>\n' +
                '                </div>\n' +
                '                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">\n' +
                '                </button>\n' +
                '                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">\n' +
                '                </button>\n' +
                '                <div class="pswp__caption">\n' +
                '                    <div class="pswp__caption__center"></div>\n' +
                '                </div>\n' +
                '            </div>\n' +
                '        </div>\n' +
                '    </div>'
            );
        }

        var container = document.getElementById('0');

        var initPhotoSwipeFromDOM = function(gallerySelector) {
            var parseThumbnailElements = function(el) {
                var thumbElements = el.childNodes,
                    numNodes = thumbElements.length,
                    items = [],
                    figureEl,
                    linkEl,
                    size,
                    item;

                for(var i = 0; i < numNodes; i++) {

                    figureEl = thumbElements[i];
                    if(figureEl.nodeType !== 1) {
                        continue;
                    }
                    linkEl = figureEl.children[0];
                    size = linkEl.children[0];
                    item = {
                        src: linkEl.getAttribute('href'),
                        w: 2500,
                        h: 0,
                        sizeLoaded: false
                    };

                    if(figureEl.children.length > 1) {
                        item.title = figureEl.children[1].innerHTML;
                    }
                    if(linkEl.children.length > 0) {
                        item.msrc = linkEl.children[0].getAttribute('src');
                    }
                    if(item.msrc === item.src){
                        item.w = parseInt(size.naturalWidth, 10);
                        item.h = parseInt(size.naturalHeight, 10);
                    }

                    item.el = figureEl;
                    items.push(item);
                }
                return items;
            };

            var closest = function closest(el, fn) {
                return el && ( fn(el) ? el : closest(el.parentNode, fn) );
            };

            var onThumbnailsClick = function(e) {
                e = e || window.event;
                e.preventDefault ? e.preventDefault() : e.returnValue = false;

                var eTarget = e.target || e.srcElement;

                var clickedListItem = closest(eTarget, function(el) {
                    return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');
                });

                if(!clickedListItem) {
                    return;
                }

                var clickedGallery = clickedListItem.parentNode,
                    childNodes = clickedListItem.parentNode.childNodes,
                    numChildNodes = childNodes.length,
                    nodeIndex = 0,
                    index;

                for (var i = 0; i < numChildNodes; i++) {
                    if(childNodes[i].nodeType !== 1) {
                        continue;
                    }

                    if(childNodes[i] === clickedListItem) {
                        index = nodeIndex;
                        break;
                    }
                    nodeIndex++;
                }

                if(index >= 0) {
                    openPhotoSwipe( index, clickedGallery );
                }
                return false;
            };

            var photoswipeParseHash = function() {
                var hash = window.location.hash.substring(1),
                    params = {};

                if(hash.length < 5) {
                    return params;
                }

                var vars = hash.split('&');
                for (var i = 0; i < vars.length; i++) {
                    if(!vars[i]) {
                        continue;
                    }
                    var pair = vars[i].split('=');
                    if(pair.length < 2) {
                        continue;
                    }
                    params[pair[0]] = pair[1];
                }

                if(params.gid) {
                    params.gid = parseInt(params.gid, 10);
                }

                return params;
            };

            var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {
                var pswpElement = document.querySelectorAll('.pswp')[0],
                    gallery,
                    options,
                    items;

                items = parseThumbnailElements(galleryElement);

                options = {
                    galleryUID: galleryElement.getAttribute('data-pswp-uid'),
                    getThumbBoundsFn: function(index) {
                        var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail
                            pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
                            rect = thumbnail.getBoundingClientRect();
                        return {x:rect.left, y:rect.top + pageYScroll, w:rect.width};
                    },
                    bgOpacity: 0.8,
                    closeOnScroll: false,
                    shareEl: false,
                    fullscreenEl: false,
                    zoomEl: true,
                    history: false,
                    loop: false
                };

                if(fromURL) {
                    if(options.galleryPIDs) {
                        for(var j = 0; j < items.length; j++) {
                            if(items[j].pid == index) {
                                options.index = j;
                                break;
                            }
                        }
                    } else {
                        options.index = parseInt(index, 10) - 1;
                    }
                } else {
                    options.index = parseInt(index, 10);
                }

                if( isNaN(options.index) ) {
                    return;
                }

                if(disableAnimation) {
                    options.showAnimationDuration = 0;
                }

                gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, items, options);

                gallery.listen('gettingData', function(index, item) {
                    if (!item.sizeLoaded) {
                        item.sizeLoaded = true;
                        var img = new Image();
                        img.onload = function() {
                            item.w = this.width;
                            item.h = this.height;
                            gallery.updateSize(true);
                        }
                        img.src = item.src;
                    }
                });

                gallery.init();

                var buttonLeft = pswpElement.getElementsByClassName('pswp__button--arrow--left')[0];
                var buttonRight = pswpElement.getElementsByClassName('pswp__button--arrow--right')[0];

                buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;

                gallery.listen('beforeChange', function() {
                        buttonLeft.hidden = gallery.getCurrentIndex() === 0;
                        buttonRight.hidden = gallery.getCurrentIndex() + 1 === gallery.items.length;
                    }
                );
            };

            var galleryElements = container.querySelectorAll( gallerySelector );

            for(var i = 0, l = galleryElements.length; i < l; i++) {
                galleryElements[i].setAttribute('data-pswp-uid', i+1);
                galleryElements[i].onclick = onThumbnailsClick;
            }

            var hashData = photoswipeParseHash();
            if(hashData.pid && hashData.gid) {
                openPhotoSwipe( hashData.pid ,  galleryElements[ hashData.gid - 1 ], true, true );
            }
        };

        initPhotoSwipeFromDOM('.images-gallery');
    }, false)
</script>

<p><em><strong>Note</strong>: When you use UDP integration, and your connection established for a long time, you will receive just one Downlink message.
All other will be saved on server side and will be sent on next Uplink</em></p>

<h2 id="next-steps">Next steps</h2>

<ul>
  <li>
    <p><a href="/docs/guides#AnchorIDGettingStartedGuides">Getting started guides</a> - These guides provide quick overview of main ThingsBoard features. Designed to be completed in 15-30 minutes.</p>
  </li>
  <li>
    <p><a href="/docs/user-guide/install/installation-options/">Installation guides</a> - Learn how to setup ThingsBoard on various available operating systems.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDDataVisualization">Data visualization</a> - These guides contain instructions how to configure complex ThingsBoard dashboards.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDDataProcessing">Data processing &amp; actions</a> - Learn how to use ThingsBoard Rule Engine.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDDataAnalytics">IoT Data analytics</a> - Learn how to use rule engine to perform basic analytics tasks.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDHardwareSamples">Hardware samples</a> - Learn how to connect various hardware platforms to ThingsBoard.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDAdvancedFeatures">Advanced features</a> - Learn about advanced ThingsBoard features.</p>
  </li>
  <li>
    <p><a href="/docs/guides#AnchorIDContribution">Contribution and Development</a> - Learn about contribution and development in ThingsBoard.</p>
  </li>
</ul>

<p><br /></p>


      </div>
      <footer>
	<main class="light-text">
		<div class="newsletterSubsContainer">
            <script type="text/javascript">
                function subscribeForNewsletter(event) {
                    event.stopPropagation();
                    var script_tag = document.createElement('script');
                    script_tag.setAttribute("type", "text/javascript");
                    script_tag.setAttribute("src", "https://static.mailerlite.com/js/w/webforms.min.js?v28bf44f740701752bfc6767bc7e171d4");
                    document.getElementsByTagName("head")[0].appendChild(script_tag);
                    $(event.target).css('display', 'none');
                    $('#mlb2-7341216').css('display', 'block');
                }
            </script>
            <button class="n-button price subscribe" onClick="subscribeForNewsletter(event)">Sign up for ThingsBoard news</button>
            <div id="mlb2-7341216" class="ml-subscribe-form ml-subscribe-form-7341216" style="display: none;">
<!--            <div id="mlb2-7341216" class="ml-subscribe-form ml-subscribe-form-7341216" style="display: block;">-->
                <div class="ml-vertical-align-center">
                    <div class="subscribe-form ml-block-success" style="display: none;">
                        <div class="form-section">
                            <p>Thank you for your interest in ThingsBoard!<br/>Have a great day!</p>
                        </div>
                    </div>
                    <form class="ml-block-form" action="https://static.mailerlite.com/webforms/submit/r9r9x7" data-id="708170" data-code="r9r9x7" method="POST" target="_blank">
                        <div class="subscribe-form horizontal">
                            <div class="form-section horizontal">
                                <div class="form-group ml-field-email ml-validate-required ml-validate-email">
                                    <input type="email" name="fields[email]" class="form-control" placeholder="Email address*" value="" autocomplete="email" x-autocompletetype="email" spellcheck="false" autocapitalize="off" autocorrect="off">
                                </div>
                            </div>
                            <input type="hidden" name="ml-submit" value="1">
                            <div class="form-section horizontal ml-button-position">
                                <button class="primary n-button price subscribe" type="submit">
                                    Subscribe
                                </button>
                                <button disabled="disabled" style="display: none;" type="button" class="n-button loading">
                                    <img src="https://static.mailerlite.com/images/rolling@2x.gif" width="20" height="20" style="width: 20px; height: 20px;">
                                </button>
                            </div>
                            <p>By subscribing you agree to receive newsletters from ThingsBoard, Inc.</p>
                        </div>
                    </form>
                </div>
            </div>
		</div>

        <hr>

        <div class="deeper">
            <a href="/" class="footer-logo"></a>
            <nav>
                <a href="/docs/getting-started-guides/helloworld/">Get Started</a>
                <a href="/docs/">Documentation</a>
                <a href="/iot-use-cases/">Use cases</a>
                <a href="https://blog.thingsboard.io/">Blog</a>
                <a href="/docs/services/">Services</a>
                <a href="/docs/contact-us/">Contact us</a>
            </nav>
        </div>

        <div class="deepmost">
            <div class="copyright">&copy; 2021 The ThingsBoard Authors</div>
            <div class="social">
                <a href="https://github.com/thingsboard/thingsboard" class="github"></a>
                <a href="https://gitter.im/thingsboard/chat" class="gitter"></a>
                <a href="https://www.youtube.com/thingsboard" class="youtube"></a>
                <a href="http://stackoverflow.com/questions/tagged/thingsboard" class="stack-overflow"></a>
                <a href="https://groups.google.com/forum/#!forum/thingsboard" class="mailing-list"></a>
                <a href="https://www.facebook.com/thingsboard" class="facebook"></a>
                <a href="https://twitter.com/thingsboard" class="twitter"></a>
            </div>
        </div>
	</main>
</footer>

  </div>
</section>

<style>
  .cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
  }
  .gsc-control-cse table, .gsc-control-cse-en table {
    margin:0px !important;
  }
  .gsc-above-wrapper-area {
    border-bottom: 0;
  }
</style>
<script>
    jqueryDefer(function () {
        $(document).on('selectionchange',function() {
        // $(document).mouseup(function () {
            $('.clipboard-btn').removeClass('noChars');
            var selectedChars = getSelectedText();
            // $('#numberChars').html(selectedChars.length);
            if (selectedChars == 0) {
                $('.clipboard-btn').addClass('noChars');
            }
        });
    });
    function getSelectedText() {
        var text;
        if (window.getSelection) {
            text = window.getSelection().toString();
        } else if (document.getSelection) {
            text = document.getSelection();
        } else if (document.selection) {
            text = document.selection.createRange().text;
        }
        return text;
    }
</script>
<script>
    jqueryDefer(function () {
        $(document).ready(function () {
            var allCodeBlocksElements = $(".copy-code");
            allCodeBlocksElements.each(function (i) {
                var codeBlock = $(this);
                if (!codeBlock.hasClass('highlighter-rouge')) {
                    codeBlock = codeBlock.find('.highlighter-rouge');
                }
                codeBlock.each(function () {
                    var block = codeBlock.find('pre.highlight > code .rouge-code');
                    var currentId = "codeblock" + (i + 1);
                    block.attr('id', currentId);
                    var clipButton = $('<button class="clipboard-btn" data-clipboard-target="#' + currentId + '"><p>Copy to clipboard</p><div><img src="/images/copy-code-icon.svg" alt="Copy to clipboard"></div></button>');
                    $(this).append(clipButton);
                    var troyan = codeBlock.find('pre.highlight');
                    var Tooltip = $('<div class="customTooltip"><div class="tooltipText">Copied!</div></div>');
                    troyan.append(Tooltip);
                    troyan.addClass('clipboard-btn');
                    troyan.attr('data-clipboard-target', "#" + currentId);
                    troyan.on('mouseleave', clearTooltip);
                    troyan.on('blur', clearTooltip);
                    troyan.on('click', function(e) {
                        var el = $(e.currentTarget);
                        if (el.hasClass('showTool')) {
                            clearTooltip(e);
                            troyan.attr('data-skip-tooltip', "true");
                        }
                    });
                });
            });

            var clipboard = new Clipboard('.noChars');
            clipboard.on('success', function (e) {
                $('.clipboard-btn').removeClass('noChars');
                e.clearSelection();
                var trigger = e.trigger;
                if (!$(trigger).attr('data-skip-tooltip')) {
                    showTooltip(e.trigger, 'Copied!');
                } else {
                    $(trigger).removeAttr('data-skip-tooltip');
                }
            });

            $('#search').focus(
                function(){
                    $(this).parent('#searchBox').addClass('focused');
                }).blur(
                function(){
                    $(this).parent('#searchBox').removeClass('focused');
                });

            $('#searchBox .searchButton').click(function () {
                var value = $('#search').val();
                window.location.replace('/docs/paas/search/?q=' + value);
            });

            $('#docsBreadcrumbs').click(function () {
                if ($(this).hasClass('active')) {
                    $(this).removeClass('active');
                    $('#docsNav').removeClass('active');
                    $('#searchBox').removeClass('visible');
                } else {
                    $(this).addClass('active');
                    $('#docsNav').addClass('active');
                    $('#searchBox').addClass('visible');
                }
            });
        });

        function clearTooltip(e) {
            var el = $(e.currentTarget);
            el.removeClass('showTool');
            el.attr('aria-label', null);
        }

        function showTooltip(elem, msg) {
            var el = $(elem);
            el.addClass('showTool');
            el.attr('aria-label', msg);
        }
    });
</script>

<script>
    jqueryDefer(function () {
        var markdownTocs = null;
        var contentAnchors = [];
        var activeAnchor = null;
        var firstAnchor = null;
        var lastAnchor = null;

        function updatePositions() {
            contentAnchors = [];
            markdownTocs.each(function (i) {
                var tocAnchor = $(this).children('a');
                var href = tocAnchor.attr('href');
                var contentAnchor = $('div#content ' + href);
                var top = Math.floor(contentAnchor.offset().top);
                var bottom;
                if (i < markdownTocs.length - 1) {
                    var nextHref = $(markdownTocs[i + 1]).children('a').attr('href');
                    var nextContentAnchor = $('div#content ' + nextHref);
                    bottom = Math.floor(nextContentAnchor.offset().top);
                } else {
                    bottom = $('div#content').offset().top + $('div#content').innerHeight();
                }
                var contentAnchorInfo = {anchor: contentAnchor, toc: $(this), top: top, bottom: bottom, href: href};
                contentAnchors.push(contentAnchorInfo);
                if (i === 0) {
                    firstAnchor = contentAnchorInfo;
                }
                if (i === markdownTocs.length - 1) {
                    lastAnchor = contentAnchorInfo;
                }
            });
        }

        function findActiveContentToc() {
            var top = $(window).scrollTop();
            var bottom = top + $(window).height();
            if (bottom === $('#encyclopedia').offset().top + $('#encyclopedia').innerHeight()) {
                return lastAnchor;
            } else {
                bottom -= 154;
                for (var i = 0; i < contentAnchors.length; i++) {
                    var contentAnchor = contentAnchors[i];
                    if (contentAnchor.top <= bottom &&
                        contentAnchor.bottom > top) {
                        return contentAnchor;
                    }
                }
            }
            return firstAnchor;
        }

        function updateActiveToc(init) {
            updatePositions();
            var newActiveAnchor = findActiveContentToc();
            if (!activeAnchor || newActiveAnchor.href !== activeAnchor.href) {
                activeAnchor = newActiveAnchor;
                markdownTocs.removeClass('active');
                activeAnchor.toc.addClass('active');
                var tocTop = $('#table-of-contents').scrollTop() + 100;
                var tocBottom = tocTop + $('#table-of-contents').innerHeight() - 200;
                var activeTocTop = activeAnchor.toc.position().top;
                var activeTocBottom = activeTocTop + activeAnchor.toc.children(':first').height();
                if (tocTop > activeTocTop) {
                    activeAnchor.toc[0].scrollIntoView();
                    $('#table-of-contents')[0].scrollTop -= 100;
                } else if (tocBottom < activeTocBottom) {
                    activeAnchor.toc[0].scrollIntoView();
                    $('#table-of-contents')[0].scrollTop += init ? -100 : 100;
                }
            }
        }
        $( document ).ready(function() {
            var tocs = $('#content > ul#markdown-toc');
            var tableOfContents = $('#table-of-contents');
            tableOfContents.append(tocs);
            markdownTocs = $('#table-of-contents ul#markdown-toc li').filter(function() {
                var tocAnchor = $(this).children('a');
                var href = tocAnchor.attr('href');
                if (!href.startsWith('#')) {
                    return false;
                } else {
                    var contentAnchor = $('div#content ' + href);
                    return contentAnchor.length > 0;
                }
            });
            updateActiveToc(true);
        });

        $(document).on("scroll", function() {
            updateActiveToc(false);
        });

    });
</script>

</body>
</html>

