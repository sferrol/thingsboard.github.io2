







<!Doctype html>
<html id="docs" class="ThingsBoard Cloud Documentation">







<head>
    <meta charset="utf-8">
    <meta name="cf-2fa-verify" content="a08672380de15e9">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Working with telemetry data | ThingsBoard Cloud</title>
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Working with telemetry data" />
<meta name="author" content="thingsboard" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="IoT device time-series data collection using various IoT protocols and ThingsBoard telemetry feature" />
<meta property="og:description" content="IoT device time-series data collection using various IoT protocols and ThingsBoard telemetry feature" />
<link rel="canonical" href="http://0.0.0.0:4002/docs/paas/user-guide/telemetry/" />
<meta property="og:url" content="http://0.0.0.0:4002/docs/paas/user-guide/telemetry/" />
<meta property="og:site_name" content="ThingsBoard" />
<meta property="og:image" content="http://0.0.0.0:4002/images/thingsboard_logo.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://0.0.0.0:4002/images/thingsboard_logo.png" />
<meta property="twitter:title" content="Working with telemetry data" />
<meta name="twitter:site" content="@thingsboard" />
<meta name="twitter:creator" content="@thingsboard" />
<script type="application/ld+json">
{"url":"http://0.0.0.0:4002/docs/paas/user-guide/telemetry/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4002/images/thingsboard_logo.png"},"name":"thingsboard"},"author":{"@type":"Person","name":"thingsboard"},"image":{"twitter":"/images/thingsboard_logo.png","facebook":"/images/thingsboard_logo.png","url":"http://0.0.0.0:4002/images/thingsboard_logo.png","@type":"imageObject"},"description":"IoT device time-series data collection using various IoT protocols and ThingsBoard telemetry feature","@type":"WebPage","headline":"Working with telemetry data","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
    
    <meta name="twitter:description" content="IoT device time-series data collection using various IoT protocols and ThingsBoard telemetry feature"/>
    
    
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/styles.css">
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.7.0/qs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gifffer/1.5.0/gifffer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
    <script type="text/javascript">
        window.onload = function() {
            Gifffer();
        }
    </script>
    <script type="text/javascript">
        /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
        !function (a) {
            "use strict";
            var b = function (b, c, d) {
                function e(a) {
                    return h.body ? a() : void setTimeout(function () {
                        e(a)
                    })
                }

                function f() {
                    i.addEventListener && i.removeEventListener("load", f), i.media = d || "all"
                }

                var g, h = a.document, i = h.createElement("link");
                if (c) g = c; else {
                    var j = (h.body || h.getElementsByTagName("head")[0]).childNodes;
                    g = j[j.length - 1]
                }
                var k = h.styleSheets;
                i.rel = "stylesheet", i.href = b, i.media = "only x", e(function () {
                    g.parentNode.insertBefore(i, c ? g : g.nextSibling)
                });
                var l = function (a) {
                    for (var b = i.href, c = k.length; c--;) if (k[c].href === b) return a();
                    setTimeout(function () {
                        l(a)
                    })
                };
                return i.addEventListener && i.addEventListener("load", f), i.onloadcssdefined = l, l(f), i
            };
            "undefined" != typeof exports ? exports.loadCSS = b : a.loadCSS = b
        }("undefined" != typeof global ? global : this);

        /*! onloadCSS. (onload callback for loadCSS) [c]2017 Filament Group, Inc. MIT License */
        function onloadCSS(a, b) {
            function c() {
                !d && b && (d = !0, b.call(a))
            }

            var d;
            a.addEventListener && a.addEventListener("load", c), a.attachEvent && a.attachEvent("onload", c), "isApplicationInstalled" in navigator && "onloadcssdefined" in a && a.onloadcssdefined(c)
        }
    </script>
    <script type="text/javascript">

        function jqueryDefer(method) {
            if (window.jQuery) {
                method();
            } else {
                setTimeout(function () {
                    jqueryDefer(method)
                }, 50);
            }
        }

        function jqueryUiDefer(method) {
            if (window.jQuery && window.jQuery.ui) {
                method();
            } else {
                setTimeout(function () {
                    jqueryUiDefer(method)
                }, 50);
            }
        }

        window.vis = (function () {
            var stateKey,
                eventKey,
                keys = {
                    hidden: "visibilitychange",
                    webkitHidden: "webkitvisibilitychange",
                    mozHidden: "mozvisibilitychange",
                    msHidden: "msvisibilitychange"
                };
            for (stateKey in keys) {
                if (stateKey in document) {
                    eventKey = keys[stateKey];
                    break;
                }
            }
            return function (c) {
                if (c) document.addEventListener(eventKey, c);
                return !document[stateKey];
            }
        })();

        function loadScript(src, callback) {
            var s, r, t;
            r = false;
            s = document.createElement('script');
            s.type = 'text/javascript';
            s.src = src;
            s.onload = s.onreadystatechange = function () {
                if (!r && (!this.readyState || this.readyState == 'complete')) {
                    r = true;
                    if (callback) {
                        callback();
                    }
                }
            };
            t = document.getElementsByTagName('script')[0];
            t.parentNode.insertBefore(s, t);
        }

        function loadCssAsync(src, callback) {
            var stylesheet = loadCSS(src);
            if (callback) {
                onloadCSS(stylesheet, callback);
            }
        }

        function loadNextScript(index, scriptsList, completeCallback) {
            if (index < scriptsList.length) {
                var script = scriptsList[index];
                if (script.type === 'script') {
                    loadScript(script.src, function () {
                        if (script.callback) {
                            script.callback();
                        }
                        index++;
                        loadNextScript(index, scriptsList, completeCallback);
                    });
                } else if (script.type === 'css') {
                    loadCssAsync(script.src, function () {
                        index++;
                        loadNextScript(index, scriptsList, completeCallback);
                    });
                }
            } else if (completeCallback) {
                completeCallback();
            }
        }

        var initialScriptsList = [
            {src: '/js/jquery-2.2.0.min.js', type: 'script'},
            {src: '/css/jquery-ui.min.css', type: 'css'},
            {src: '/js/jquery-ui.min.js', type: 'script'},
            {src: '/js/jquery.vide.js', type: 'script'},
            {src: '/js/script.js', type: 'script'},
            {src: '/css/photoswipe.css', type: 'css'},
            {src: '/css/default-skin/default-skin.css', type: 'css'},
            {src: '/js/photoswipe.min.js', type: 'script'},
            {src: '/js/photoswipe-ui-default.min.js', type: 'script'}
        ];

        loadNextScript(0, initialScriptsList);

        jqueryDefer(function () {
            (function ($, win) {
                $.fn.inViewport = function (cb) {
                    return this.each(function (i, el) {
                        function visPx() {
                            var H = $(this).height(),
                                r = el.getBoundingClientRect(), t = r.top, b = r.bottom;
                            var result = cb.call(el, Math.max(0, t > 0 ? H - t : (b < H ? b : H)));
                            if (result) {
                                $(win).off("resize scroll", visPx);
                            }
                        }

                        visPx();
                        $(win).on("resize scroll", visPx);
                    });
                };
            }(jQuery, window));
        });

        function inViewportDefer(method) {
            if (window.jQuery && $.fn.inViewport) {
                method();
            } else {
                setTimeout(function () {
                    inViewportDefer(method)
                }, 50);
            }
        }

    </script>
    <script type="text/javascript">
        function _gaLt(event) {
            /* If GA is blocked or not loaded, or not main|middle|touch click then don't track */
            if (!ga.hasOwnProperty("loaded") || ga.loaded != true || (event.which != 1 && event.which != 2)) {
                return;
            }
            var el = event.srcElement || event.target;

            while (el && (typeof el.tagName == 'undefined' || el.tagName.toLowerCase() != 'a' || !el.href)) {
                el = el.parentNode;
            }
            if (el && el.href) {
                var link = el.href;
                if ((link.indexOf(location.host) == -1 || link.indexOf('.' + location.host) > 0) && !link.match(/^javascript\:/i)) {
                    var target = (el.target && !el.target.match(/^_(self|parent|top)$/i)) ? el.target : false;
                    if (event.ctrlKey || event.shiftKey || event.metaKey || event.which == 2) {
                        target = "_blank";
                    }

                    var hbrun = false; // tracker has not yet run
                    var hitBack = function () {
                        if (hbrun) return;
                        hbrun = true;
                        window.location.href = link;
                    };

                    if (target) {
                        ga(
                            "send", "event", "Outgoing Links", link,
                            document.location.pathname + document.location.search
                        );
                    } else {
                        event.preventDefault ? event.preventDefault() : event.returnValue = !1;
                        ga(
                            "send", "event", "Outgoing Links", link,
                            document.location.pathname + document.location.search, {
                                "hitCallback": hitBack
                            }
                        );

                        setTimeout(hitBack, 1000);
                    }
                }
            }
        }

        var _w = window;
        var _gaLtEvt = ("ontouchstart" in _w) ? "click" : "mousedown";
        _w.addEventListener ? _w.addEventListener("load", function () {
                document.body.addEventListener(_gaLtEvt, _gaLt, !1)
            }, !1)
            : _w.attachEvent && _w.attachEvent("onload", function () {
            document.body.attachEvent("on" + _gaLtEvt, _gaLt)
        });
    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-88383331-1', 'auto');
        ga('send', 'pageview');
    </script>
    <script>
        function Burger() {
            var header = $('header');
            var body = $('body');
            if (header.hasClass('opened-burger')) {
                header.removeClass('opened-burger');
                let subMenus = $('nav.head-menu > ul > li > div.centered-sub > ul.sub-menu');
                subMenus.removeClass('open-sub');
                body.css('overflow', '');
            } else {
                header.addClass('opened-burger');
                body.css('overflow', 'hidden');
            }
        }
    </script>
    <script>

        jqueryDefer(function () {
            let menuElement = $('nav.head-menu > ul');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            let menuItems = $('nav.head-menu > ul > li');
            let indicator = $('nav.head-menu > ul > div.indicator');
            let subMenuActive = false;
            menuElement.on('mouseleave', function (event) {
                if (!$(event.relatedTarget).parents('div.sub-menu-container').length) {
                    subMenuActive = false;
                    submenuContainer.removeClass('active bounds-transition');
                    menuItems.removeClass('active');
                    indicator.removeClass('left-transition');
                }
            });
            submenuContainer.on('mouseleave', function (event) {
                if (!$(event.relatedTarget).parents('nav.head-menu > ul').length) {
                    subMenuActive = false;
                    submenuContainer.removeClass('active bounds-transition');
                    menuItems.removeClass('active');
                    indicator.removeClass('left-transition');
                }
            });
            menuItems.each(function() {
                let item = $( this );
                let subMenuId = item.attr('data-submenu-id');
                item.on('mouseenter', function () {
                    let submenus = $('nav.head-menu > div.sub-menu-container > div');
                    submenus.css('display', 'none');
                    menuItems.removeClass('active');
                    item.addClass('active');
                    let targetSubMenu = $('nav.head-menu > div.sub-menu-container > div#'+subMenuId);
                    targetSubMenu.css('display', 'block');
                    submenuContainer.css('overflow', 'visible');
                    let left = item.position().left + (item.outerWidth() - targetSubMenu.outerWidth()) / 2;
                    submenuContainer.css('left', left + 'px');
                    if (!subMenuActive) {
                        submenuContainer.addClass('active');
                        subMenuActive = true;
                    } else {
                        submenuContainer.addClass('bounds-transition');
                        indicator.addClass('left-transition');
                    }
                    indicator.css('left', item.position().left);
                    indicator.css('width', item.outerWidth());
                    submenuContainer.css('height', targetSubMenu.outerHeight() + 'px');
                    submenuContainer.css('width', targetSubMenu.outerWidth() + 'px');
                    submenuContainer.css('overflow', 'hidden');
                });
            });

            let isMobile = $('button.burger').css('display') === 'block';
            if (isMobile) {
                initMobileSubmenu();
            }

            $(window).resize(function(){
                let newIsMobile = $('button.burger').css('display') === 'block';
                if (isMobile !== newIsMobile) {
                    isMobile = newIsMobile;
                    if (isMobile) {
                        initMobileSubmenu();
                    } else {
                        restoreDesktopSubmenu();
                    }
                }
            });

            // Products selector

            
            let productsSelector = $('.products-selector');
            $(window).click(function(e) {
                if (productsSelector[0].contains(e.target)) {
                    if (productsSelector.hasClass('active')) {
                        productsSelector.removeClass('active');
                    } else {
                        productsSelector.addClass('active');
                    }
                } else {
                    productsSelector.removeClass('active');
                }
            });
            

            // Rogue line numbers fix (don't show line numbers for 1 row)
            $( document ).ready(function() {
                $('.rouge-gutter.gl').each(function() {
                    var lineNumbers = $(this).children('.lineno');
                    if (lineNumbers.text() === '1\n') {
                        $(this).css('display', 'none');
                    }
                });
            });
        });

        function initMobileSubmenu() {

            var header = $('header');
            if (header.hasClass('opened-burger')) {
                var body = $('body');
                body.css('overflow', 'hidden');
            }

            let targetSubMenus = $('nav.head-menu > div.sub-menu-container > div');
            targetSubMenus.css('display', 'block');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            submenuContainer.removeClass('active');
            submenuContainer.css('display', 'none');

            targetSubMenus.each(function() {
                let subMenu = $( this );
                let subMenuId = subMenu.attr('id');
                let parent = $('nav.head-menu > ul > li.'+subMenuId);
                parent.append(subMenu);
            });
        }

        function restoreDesktopSubmenu() {
            var body = $('body');
            body.css('overflow', '');
            let targetSubMenus = $('nav.head-menu > ul > li > div');
            let submenuContainer = $('nav.head-menu > div.sub-menu-container');
            submenuContainer.removeClass('active');
            submenuContainer.css('display', 'block');
            let menuItems = $('nav.head-menu > ul > li');
            menuItems.removeClass('active');
            targetSubMenus.each(function() {
                let subMenu = $( this );
                submenuContainer.append(subMenu);
            });
        }

        function listburg(subMenuId) {
            let isMobile = $('button.burger').css('display') === 'block';
            if (isMobile) {
                let targetSubMenu = $('nav.head-menu > ul > li > div.centered-sub#'+subMenuId+' > ul.sub-menu');
                let isOpen = targetSubMenu.hasClass('open-sub');
                let subMenus = $('nav.head-menu > ul > li > div.centered-sub > ul.sub-menu');
                subMenus.removeClass('open-sub');
                if (!isOpen) {
                    targetSubMenu.addClass('open-sub');
                }
            }
        }
    </script>
</head>
<body>

<div class="products-selector">
    <img src="/images/thingsboard-c-icon.svg"/>
    <div class="product-info">
        <div class="product-title">
            Cloud
        </div>
        <div class="product-description">
            ThingsBoard Documentation
        </div>
    </div>
    <div class="products">
        
        

    
        
        


        
            
        
    


        <a href="/docs/paas/user-guide/telemetry/" class="product active">Cloud</a>
        
        

    
        
        


        
            
        
    


        <a href="/docs/pe/user-guide/telemetry/" class="product">Professional Edition</a>
        
        

    
        
        


        
            
        
    


        <a href="/docs/user-guide/telemetry/" class="product">Community Edition</a>
        
        

    


        <a href="/docs/edge/" class="product">Edge</a>
        
        

    


        <a href="/docs/iot-gateway/" class="product">IoT Gateway</a>
        
        

    


        <a href="/products/license-server/" class="product">License Server</a>
        
        

    


        <a href="/docs/trendz/" class="product">Trendz Analytics</a>
        
    </div>
</div>

<header>
    <div class="logo-burger">
        
        <button onclick="Burger()" class="burger"></button>
        <div id="githubButtonContainer">
            <a class="github-button" href="https://github.com/thingsboard/thingsboard" data-show-count="true"
               aria-label="Star thingsboard/thingsboard on GitHub">Star</a>
        </div>
    </div>
    <nav class="head-menu">
        <ul>
            <li class="nav-products" data-submenu-id="nav-products">
                <a onclick="listburg('nav-products')">Products</a>
            </li>
            <li class="nav-services" data-submenu-id="nav-services">
                <a onclick="listburg('nav-services')">Services</a>
            </li>
            
            <li class="nav-cases" data-submenu-id="nav-cases">
                <a onclick="listburg('nav-cases')">Use Cases</a>
            </li>
            <li class="nav-customers" data-submenu-id="nav-customers">
                <a onclick="listburg('nav-customers')">Customers</a>
            </li>
            <li class="nav-company" data-submenu-id="nav-company">
                <a onclick="listburg('nav-company')">Company</a>
            </li>
            <div class="indicator"><div class="head-arrow"></div><div class="line"></div><div class="sub-background"></div></div>
        </ul>
        <div class="sub-menu-container">
            <div id="nav-products" class="centered-sub">
                <ul class="sub-menu products">
                    <div class="sub-groups">
                        <div class="group">
                            <p class="group-name">IoT platforms</p>
                            <a class="cloud-lnk" href="/products/paas/">
                                <img src="/images/thingsboard-c-icon.svg">
                                <div class="sub-text">
                                    <h1>Cloud</h1>
                                    <p>Platform as a service</p>
                                </div>
                            </a>
                            <a class="prof-lnk" href="/products/thingsboard-pe/">
                                <img src="/images/thingsboard-p-icon.svg">
                                <div class="sub-text">
                                    <h1>Professional Edition</h1>
                                    <p>Advanced IoT platform</p>
                                </div>
                            </a>
                            <a class="com-lnk" href="/">
                                <img src="/images/thingsboard-cm-icon.svg">
                                <div class="sub-text">
                                    <h1>Community Edition</h1>
                                    <p>Open source platform</p>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <p class="group-name">Product ecosystem</p>
                            <a class="edge-lnk" href="/products/thingsboard-edge/">
                                <img src="/images/thingsboard-e-icon.svg">
                                <div class="sub-text">
                                    <h1>Edge</h1>
                                    <p>Edge computing</p>
                                </div>
                            </a>
                            <a class="gateway-lnk" href="/docs/iot-gateway/what-is-iot-gateway/">
                                <img src="/images/gateway-icon.svg">
                                <div class="sub-text">
                                    <h1>IoT Gateway</h1>
                                    <p>Connect legacy protocols</p>
                                </div>
                            </a>
                            <a class="license-lnk" href="/products/license-server/">
                                <img src="/images/license-icon.svg">
                                <div class="sub-text">
                                    <h1>License Server</h1>
                                    <p>Billing solution</p>
                                </div>
                            </a>
                            <a class="trendz-lnk" href="/products/trendz/">
                                <img src="/images/trendz-icon.svg">
                                <div class="sub-text">
                                    <h1>Trendz Analytics</h1>
                                    <p>Data analytics and Prediction</p>
                                </div>
                            </a>
                        </div>
                    </div>
                </ul>
            </div>
            <div id="nav-services" class="centered-sub">
                <ul class="sub-menu services">
                    <a href="/docs/services/support/">
                        <img src="/images/support-icon.svg">
                        <div class="sub-text">
                            <h1>Support</h1>
                            <p>Support packages</p>
                        </div>
                    </a>
                    <a href="/docs/services/trainings/">
                        <img src="/images/train-icon.svg">
                        <div class="sub-text">
                            <h1>Trainings</h1>
                            <p>ThingsBoard education courses</p>
                        </div>
                    </a>
                    <a href="/docs/services/consulting/">
                        <img src="/images/prof-icon.svg">
                        <div class="sub-text">
                            <h1>Professional services</h1>
                            <p>Development of solutions by the ThingsBoard team</p>
                        </div>
                    </a>
                </ul>
            </div>
            
            <div id="nav-cases" class="centered-sub">
                <ul class="sub-menu cases">
                    <a href="/smart-metering/">
                        <img src="/images/case-met-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Metering</h1>
                            <p>Collection, analysis and visualization of data from meters</p>
                        </div>
                    </a>
                    <a href="/smart-energy/">
                        <img src="/images/case-eng-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Energy</h1>
                            <p>Energy monitoring and efficiency analysis</p>
                        </div>
                    </a>
                    <a href="/smart-farming/">
                        <img src="/images/case-fam-icon.svg">
                        <div class="sub-text">
                            <h1>Smart Farming</h1>
                            <p>Monitoring of indoor conditions and plant growth characteristics</p>
                        </div>
                    </a>
                    <a href="/fleet-tracking/">
                        <img src="/images/case-trk-icon.svg">
                        <div class="sub-text">
                            <h1>Fleet Tracking</h1>
                            <p>Fleet tracking and fleet management</p>
                        </div>
                    </a>
                </ul>
            </div>
            <div id="nav-customers" class="centered-sub">
                <ul class="sub-menu customers">
                    <div class="sub-groups">
                        <div class="group">
                            <a class="small-link" href="/industries/smart-energy/">
                                <img src="/images/se-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart Energy</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/agriculture/">
                                <img src="/images/agr-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Agriculture</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/smart-buildings/">
                                <img src="/images/sb-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart Buildings</h1>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <a class="small-link" href="/industries/smart-city/">
                                <img src="/images/sc-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Smart City</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/telecom/">
                                <img src="/images/tel-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Telecom</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/industries/industry40/">
                                <img src="/images/in-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Industry 4.0</h1>
                                </div>
                            </a>
                        </div>
                    </div>
                </ul>
            </div>
            <div id="nav-company" class="centered-sub">
                <ul class="sub-menu about">
                    <div class="sub-groups">
                        <div class="group">
                            <a class="small-link" href="/company/">
                                <img src="/images/about-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Our Company</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/docs/contact-us/">
                                <img src="/images/contact-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Contact Us</h1>
                                </div>
                            </a>
                            <a class="small-link" href="/careers/">
                                <img src="/images/careers-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Careers</h1>
                                </div>
                            </a>
                        </div>
                        <div class="group">
                            <a class="small-link" href="/mediakit/">
                                <img src="/images/media-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Media Kit</h1>
                                </div>
                            </a>
                            <a class="small-link" href="https://blog.thingsboard.io/">
                                <img src="/images/blog-s-icon.svg">
                                <div class="sub-text">
                                    <h1>Blog</h1>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="bottom-group">
                        <a class="small-link" href="/partners/hardware/">
                            <img src="/images/hard-s-icon.svg">
                            <div class="sub-text">
                                <h1>Hardware partners</h1>
                            </div>
                        </a>
                        <a class="small-link" href="/partners/distributors/">
                            <img src="/images/dis-s-icon.svg">
                            <div class="sub-text">
                                <h1>Distributors</h1>
                            </div>
                        </a>
                    </div>
                </ul>
            </div>
        </div>
    </nav>
    <div>
        <a href="/installations/" class="n-button try">Try it now</a>
        <a href="/pricing/" class="n-button price">Pricing</a>
    </div>
</header>


<div id="searchBox">
    <input type="text" id="search" placeholder="Search" onkeydown="if (event.keyCode==13) window.location.replace('/docs/paas/search/?q=' + this.value)">
    <button class="searchButton"></button>
</div>

<!--  HERO  -->
<section id="hero">
  <div id="hero-content">
    <div id="vendorStrip">
      <div id="docsList">
          <ul>
            
              
              
              
              <li>
                  <a href="/docs/paas/getting-started-guides/helloworld/" >Getting Started</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/paas/" class="YAH">Documentation</a>
                  
                     <div class="indicator"><div class="head-arrow"></div><div class="line"></div><div class="sub-background"></div></div>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/paas/guides/" >Guides</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/paas/api/" >API</a>
                  
              </li>
            
              
              
              
              <li>
                  <a href="/docs/paas/faq/" >FAQ</a>
                  
              </li>
            
          </ul>
          <div id="docsBreadcrumbs">
              
                  
                  
                  
                  
                      
                  
                      
                  
                      
                  
                      
                  
                      
                         
                         
                         
    

    

    

    

    


                         
                            
                         
                      
                  
                      
                         
                         
                         
    

    

    

    
        
        
        

                         
                            
                  
                    <span class="item">Documentation</span>
                    
                        <span class="divider">></span>
                    
                  
                    <span class="item">Key concepts</span>
                    
                        <span class="divider">></span>
                    
                  
                    <span class="item">Time-series data</span>
                    
                  
              
          </div>
      </div>
    </div>
  </div>
</section>
<div id="docsNav">
    <div class="docItems">
        
            
            
                <a class="toc" href="/docs/paas/getting-started-guides/helloworld/" >Getting Started</a>
            
        
            
            
                <div class="pi-accordion">
                    


<a class="item" data-title="ThingsBoard Cloud" href="/docs/paas/"></a>


<a class="item" data-title="What is ThingsBoard?" href="/docs/paas/getting-started-guides/what-is-thingsboard/"></a>


<a class="item" data-title="What is ThingsBoard Cloud?" href="/products/paas/what-is-thingsboard-cloud/"></a>


<a class="item" data-title="How to connect your device?" href="/docs/paas/getting-started-guides/connectivity/"></a>


<div class="item item-new" data-title="Solution Templates">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/solution-templates/overview/"></a>


<a class="item" data-title="Temperature & Humidity Sensors" href="/docs/paas/solution-templates/temperature-humidity-sensors/"></a>


<a class="item" data-title="Smart office" href="/docs/paas/solution-templates/smart-office/"></a>


<a class="item" data-title="Fleet tracking" href="/docs/paas/solution-templates/fleet-tracking/"></a>


<a class="item" data-title="Water metering" href="/docs/paas/solution-templates/water-metering/"></a>
  </div>
</div>


<div class="item" data-title="Key concepts">
  <div class="container">


<a class="item" data-title="Entities and Relations" href="/docs/paas/user-guide/entities-and-relations/"></a>


<a class="item item-new" data-title="Device Profiles" href="/docs/paas/user-guide/device-profiles/"></a>


<a class="item" data-title="Attributes" href="/docs/paas/user-guide/attributes/"></a>


<a class="item" data-title="Time-series data" href="/docs/paas/user-guide/telemetry/"></a>


<a class="item" data-title="Alarms" href="/docs/paas/user-guide/alarms/"></a>


<a class="item" data-title="Remote commands to devices" href="/docs/paas/user-guide/rpc/"></a>
  </div>
</div>


<div class="item" data-title="Dashboards">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/dashboards/"></a>


<a class="item" data-title="Aliases" href="/docs/paas/user-guide/ui/aliases/"></a>


<a class="item" data-title="Widget Actions" href="/docs/paas/user-guide/ui/widget-actions/"></a>


<a class="item" data-title="Widgets Library" href="/docs/paas/user-guide/ui/widget-library/"></a>


<a class="item" data-title="Widgets development" href="/docs/paas/user-guide/contribution/widgets-development/"></a>
  </div>
</div>


<div class="item" data-title="Rule engine">
  <div class="container">


<a class="item" data-title="Getting Started" href="/docs/paas/user-guide/rule-engine-2-0/re-getting-started/"></a>


<a class="item" data-title="Overview" href="/docs/paas/user-guide/rule-engine-2-0/overview/"></a>


<a class="item" data-title="Architecture" href="/docs/paas/user-guide/rule-engine-2-0/architecture/"></a>


<div class="item" data-title="Nodes">
  <div class="container">


<a class="item" data-title="Filter Nodes" href="/docs/paas/user-guide/rule-engine-2-0/filter-nodes/"></a>


<a class="item" data-title="Enrichment Nodes" href="/docs/paas/user-guide/rule-engine-2-0/enrichment-nodes/"></a>


<a class="item" data-title="Transformation Nodes" href="/docs/paas/user-guide/rule-engine-2-0/transformation-nodes/"></a>


<a class="item" data-title="Action Nodes" href="/docs/paas/user-guide/rule-engine-2-0/action-nodes/"></a>


<a class="item" data-title="External Nodes" href="/docs/paas/user-guide/rule-engine-2-0/external-nodes/"></a>


<a class="item" data-title="Analytics Nodes" href="/docs/paas/user-guide/rule-engine-2-0/analytics-nodes/"></a>
  </div>
</div>
  </div>
</div>


<div class="item" data-title="White-labeling">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/white-labeling/"></a>


<a class="item" data-title="Self-registration" href="/docs/paas/user-guide/self-registration/"></a>


<a class="item" data-title="Custom Translations" href="/docs/paas/user-guide/custom-translation/"></a>


<a class="item" data-title="Custom Menu" href="/docs/paas/user-guide/custom-menu/"></a>


<a class="item" data-title="Domains" href="/products/paas/domains/"></a>
  </div>
</div>


<div class="item" data-title="Integrations">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/integrations/"></a>


<a class="item" data-title="Remote Integrations" href="/docs/paas/user-guide/integrations/remote-integrations/"></a>


<a class="item" data-title="HTTP" href="/docs/paas/user-guide/integrations/http/"></a>


<a class="item" data-title="MQTT" href="/docs/paas/user-guide/integrations/mqtt/"></a>


<a class="item" data-title="OPC-UA" href="/docs/paas/user-guide/integrations/opc-ua/"></a>


<a class="item" data-title="Actility ThingPark" href="/docs/paas/user-guide/integrations/thingpark/"></a>


<a class="item" data-title="TheThingsNetwork" href="/docs/paas/user-guide/integrations/ttn/"></a>


<a class="item" data-title="TheThingsIndustries" href="/docs/paas/user-guide/integrations/tti/"></a>


<a class="item" data-title="LORIOT" href="/docs/paas/user-guide/integrations/loriot/"></a>


<a class="item" data-title="AWS IoT" href="/docs/paas/user-guide/integrations/aws-iot/"></a>


<a class="item" data-title="AWS Kinesis" href="/docs/paas/user-guide/integrations/aws-kinesis/"></a>


<a class="item" data-title="IBM Watson" href="/docs/paas/user-guide/integrations/ibm-watson-iot/"></a>


<a class="item" data-title="Azure Event Hub" href="/docs/paas/user-guide/integrations/azure-event-hub/"></a>


<a class="item" data-title="Azure IoT Hub" href="/docs/paas/user-guide/integrations/azure-iot-hub/"></a>


<a class="item" data-title="TCP" href="/docs/paas/user-guide/integrations/tcp/"></a>


<a class="item" data-title="UDP" href="/docs/paas/user-guide/integrations/udp/"></a>


<a class="item" data-title="SigFox" href="/docs/paas/user-guide/integrations/sigfox/"></a>


<a class="item" data-title="Ocean Connect" href="/docs/paas/user-guide/integrations/ocean-connect/"></a>


<a class="item" data-title="Custom Integration development guide" href="/docs/paas/user-guide/integrations/custom/"></a>


<a class="item" data-title="Notifications and Alarms on your smartphone using Telegram Bot" href="/docs/paas/user-guide/rule-engine-2-0/tutorials/integration-with-telegram-bot/"></a>
  </div>
</div>


<div class="item" data-title="Analytics">
  <div class="container">


<a class="item" data-title="Trendz Analytics" href="/docs/trendz/"></a>


<a class="item" data-title="Kafka Streams" href="/docs/paas/samples/analytics/kafka-streams/"></a>
  </div>
</div>


<div class="item" data-title="Other Features">
  <div class="container">


<a class="item" data-title="Device Connectivity Status" href="/docs/paas/user-guide/device-connectivity-status/"></a>


<a class="item" data-title="Claiming Devices" href="/docs/paas/user-guide/claiming-devices/"></a>


<a class="item" data-title="Device provisioning" href="/docs/paas/user-guide/device-provisioning/"></a>


<a class="item" data-title="Entity Views" href="/docs/paas/user-guide/entity-views/"></a>


<a class="item" data-title="API Limits" href="/docs/paas/user-guide/api-limits/"></a>


<a class="item" data-title="Bulk Provisioning" href="/docs/paas/user-guide/bulk-provisioning/"></a>


<a class="item" data-title="Entity Groups" href="/docs/paas/user-guide/groups/"></a>


<a class="item" data-title="Scheduler" href="/docs/paas/user-guide/scheduler/"></a>


<a class="item" data-title="Reporting" href="/docs/paas/user-guide/reporting/"></a>


<a class="item" data-title="CSV/XLS data export" href="/docs/paas/user-guide/csv-xls-data-export/"></a>


<a class="item" data-title="File Storage" href="/docs/paas/user-guide/file-storage/"></a>
  </div>
</div>


<div class="item" data-title="Security">
  <div class="container">


<a class="item" data-title="Audit Log" href="/docs/paas/user-guide/audit-log/"></a>


<a class="item" data-title="Advanced RBAC for IoT" href="/docs/paas/user-guide/rbac/"></a>


<a class="item" data-title="OAuth 2 Support" href="/docs/paas/user-guide/oauth-2-support/"></a>


<a class="item" data-title="MQTT over SSL" href="/docs/paas/user-guide/mqtt-over-ssl/"></a>


<a class="item" data-title="Device authentication options" href="/docs/paas/user-guide/device-credentials/"></a>


<a class="item" data-title="Access Token based authentication" href="/docs/paas/user-guide/access-token/"></a>


<a class="item" data-title="Basic MQTT Credentials" href="/docs/paas/user-guide/basic-mqtt/"></a>


<a class="item" data-title="X.509 Certificate based authentication" href="/docs/paas/user-guide/certificates/"></a>
  </div>
</div>


<div class="item" data-title="Administration UI">
  <div class="container">


<a class="item" data-title="Tenants" href="/docs/paas/user-guide/ui/tenants/"></a>


<a class="item" data-title="Customers" href="/docs/paas/user-guide/ui/customers/"></a>


<a class="item" data-title="Users" href="/docs/paas/user-guide/ui/users/"></a>


<a class="item" data-title="Assets" href="/docs/paas/user-guide/ui/assets/"></a>


<a class="item" data-title="Devices" href="/docs/paas/user-guide/ui/devices/"></a>


<a class="item" data-title="Rule Chains" href="/docs/paas/user-guide/ui/rule-chains/"></a>


<a class="item" data-title="Dashboards" href="/docs/paas/user-guide/ui/dashboards/"></a>


<div class="item" data-title="Widgets">
  <div class="container">


<a class="item" data-title="Trip Animation Widget" href="/docs/paas/user-guide/ui/trip-animation-widget/"></a>


<a class="item" data-title="Advanced Settings of the Entity Table widget" href="/docs/paas/user-guide/ui/entity-table-widget/"></a>


<a class="item" data-title="Advanced data key configuration" href="/docs/paas/user-guide/ui/advanced-data-key-configuration/"></a>
  </div>
</div>
  </div>
</div>


<a class="item" data-title="Subscriptions" href="/products/paas/subscription/"></a>


<a class="item" data-title="Plan and billing" href="/products/paas/billing-info/"></a>
                </div>
            
        
            
            
                <a class="toc" href="/docs/paas/guides/" >Guides</a>
            
        
            
            
                <a class="toc" href="/docs/paas/api/" >API</a>
            
        
            
            
                <a class="toc" href="/docs/paas/faq/" >FAQ</a>
            
        
    </div>
</div>








<section id="encyclopedia">
  
  <div id="docsToc">
        <div class="pi-accordion">
        


<a class="item" data-title="ThingsBoard Cloud" href="/docs/paas/"></a>


<a class="item" data-title="What is ThingsBoard?" href="/docs/paas/getting-started-guides/what-is-thingsboard/"></a>


<a class="item" data-title="What is ThingsBoard Cloud?" href="/products/paas/what-is-thingsboard-cloud/"></a>


<a class="item" data-title="How to connect your device?" href="/docs/paas/getting-started-guides/connectivity/"></a>


<div class="item item-new" data-title="Solution Templates">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/solution-templates/overview/"></a>


<a class="item" data-title="Temperature & Humidity Sensors" href="/docs/paas/solution-templates/temperature-humidity-sensors/"></a>


<a class="item" data-title="Smart office" href="/docs/paas/solution-templates/smart-office/"></a>


<a class="item" data-title="Fleet tracking" href="/docs/paas/solution-templates/fleet-tracking/"></a>


<a class="item" data-title="Water metering" href="/docs/paas/solution-templates/water-metering/"></a>
  </div>
</div>


<div class="item" data-title="Key concepts">
  <div class="container">


<a class="item" data-title="Entities and Relations" href="/docs/paas/user-guide/entities-and-relations/"></a>


<a class="item item-new" data-title="Device Profiles" href="/docs/paas/user-guide/device-profiles/"></a>


<a class="item" data-title="Attributes" href="/docs/paas/user-guide/attributes/"></a>


<a class="item" data-title="Time-series data" href="/docs/paas/user-guide/telemetry/"></a>


<a class="item" data-title="Alarms" href="/docs/paas/user-guide/alarms/"></a>


<a class="item" data-title="Remote commands to devices" href="/docs/paas/user-guide/rpc/"></a>
  </div>
</div>


<div class="item" data-title="Dashboards">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/dashboards/"></a>


<a class="item" data-title="Aliases" href="/docs/paas/user-guide/ui/aliases/"></a>


<a class="item" data-title="Widget Actions" href="/docs/paas/user-guide/ui/widget-actions/"></a>


<a class="item" data-title="Widgets Library" href="/docs/paas/user-guide/ui/widget-library/"></a>


<a class="item" data-title="Widgets development" href="/docs/paas/user-guide/contribution/widgets-development/"></a>
  </div>
</div>


<div class="item" data-title="Rule engine">
  <div class="container">


<a class="item" data-title="Getting Started" href="/docs/paas/user-guide/rule-engine-2-0/re-getting-started/"></a>


<a class="item" data-title="Overview" href="/docs/paas/user-guide/rule-engine-2-0/overview/"></a>


<a class="item" data-title="Architecture" href="/docs/paas/user-guide/rule-engine-2-0/architecture/"></a>


<div class="item" data-title="Nodes">
  <div class="container">


<a class="item" data-title="Filter Nodes" href="/docs/paas/user-guide/rule-engine-2-0/filter-nodes/"></a>


<a class="item" data-title="Enrichment Nodes" href="/docs/paas/user-guide/rule-engine-2-0/enrichment-nodes/"></a>


<a class="item" data-title="Transformation Nodes" href="/docs/paas/user-guide/rule-engine-2-0/transformation-nodes/"></a>


<a class="item" data-title="Action Nodes" href="/docs/paas/user-guide/rule-engine-2-0/action-nodes/"></a>


<a class="item" data-title="External Nodes" href="/docs/paas/user-guide/rule-engine-2-0/external-nodes/"></a>


<a class="item" data-title="Analytics Nodes" href="/docs/paas/user-guide/rule-engine-2-0/analytics-nodes/"></a>
  </div>
</div>
  </div>
</div>


<div class="item" data-title="White-labeling">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/white-labeling/"></a>


<a class="item" data-title="Self-registration" href="/docs/paas/user-guide/self-registration/"></a>


<a class="item" data-title="Custom Translations" href="/docs/paas/user-guide/custom-translation/"></a>


<a class="item" data-title="Custom Menu" href="/docs/paas/user-guide/custom-menu/"></a>


<a class="item" data-title="Domains" href="/products/paas/domains/"></a>
  </div>
</div>


<div class="item" data-title="Integrations">
  <div class="container">


<a class="item" data-title="Overview" href="/docs/paas/user-guide/integrations/"></a>


<a class="item" data-title="Remote Integrations" href="/docs/paas/user-guide/integrations/remote-integrations/"></a>


<a class="item" data-title="HTTP" href="/docs/paas/user-guide/integrations/http/"></a>


<a class="item" data-title="MQTT" href="/docs/paas/user-guide/integrations/mqtt/"></a>


<a class="item" data-title="OPC-UA" href="/docs/paas/user-guide/integrations/opc-ua/"></a>


<a class="item" data-title="Actility ThingPark" href="/docs/paas/user-guide/integrations/thingpark/"></a>


<a class="item" data-title="TheThingsNetwork" href="/docs/paas/user-guide/integrations/ttn/"></a>


<a class="item" data-title="TheThingsIndustries" href="/docs/paas/user-guide/integrations/tti/"></a>


<a class="item" data-title="LORIOT" href="/docs/paas/user-guide/integrations/loriot/"></a>


<a class="item" data-title="AWS IoT" href="/docs/paas/user-guide/integrations/aws-iot/"></a>


<a class="item" data-title="AWS Kinesis" href="/docs/paas/user-guide/integrations/aws-kinesis/"></a>


<a class="item" data-title="IBM Watson" href="/docs/paas/user-guide/integrations/ibm-watson-iot/"></a>


<a class="item" data-title="Azure Event Hub" href="/docs/paas/user-guide/integrations/azure-event-hub/"></a>


<a class="item" data-title="Azure IoT Hub" href="/docs/paas/user-guide/integrations/azure-iot-hub/"></a>


<a class="item" data-title="TCP" href="/docs/paas/user-guide/integrations/tcp/"></a>


<a class="item" data-title="UDP" href="/docs/paas/user-guide/integrations/udp/"></a>


<a class="item" data-title="SigFox" href="/docs/paas/user-guide/integrations/sigfox/"></a>


<a class="item" data-title="Ocean Connect" href="/docs/paas/user-guide/integrations/ocean-connect/"></a>


<a class="item" data-title="Custom Integration development guide" href="/docs/paas/user-guide/integrations/custom/"></a>


<a class="item" data-title="Notifications and Alarms on your smartphone using Telegram Bot" href="/docs/paas/user-guide/rule-engine-2-0/tutorials/integration-with-telegram-bot/"></a>
  </div>
</div>


<div class="item" data-title="Analytics">
  <div class="container">


<a class="item" data-title="Trendz Analytics" href="/docs/trendz/"></a>


<a class="item" data-title="Kafka Streams" href="/docs/paas/samples/analytics/kafka-streams/"></a>
  </div>
</div>


<div class="item" data-title="Other Features">
  <div class="container">


<a class="item" data-title="Device Connectivity Status" href="/docs/paas/user-guide/device-connectivity-status/"></a>


<a class="item" data-title="Claiming Devices" href="/docs/paas/user-guide/claiming-devices/"></a>


<a class="item" data-title="Device provisioning" href="/docs/paas/user-guide/device-provisioning/"></a>


<a class="item" data-title="Entity Views" href="/docs/paas/user-guide/entity-views/"></a>


<a class="item" data-title="API Limits" href="/docs/paas/user-guide/api-limits/"></a>


<a class="item" data-title="Bulk Provisioning" href="/docs/paas/user-guide/bulk-provisioning/"></a>


<a class="item" data-title="Entity Groups" href="/docs/paas/user-guide/groups/"></a>


<a class="item" data-title="Scheduler" href="/docs/paas/user-guide/scheduler/"></a>


<a class="item" data-title="Reporting" href="/docs/paas/user-guide/reporting/"></a>


<a class="item" data-title="CSV/XLS data export" href="/docs/paas/user-guide/csv-xls-data-export/"></a>


<a class="item" data-title="File Storage" href="/docs/paas/user-guide/file-storage/"></a>
  </div>
</div>


<div class="item" data-title="Security">
  <div class="container">


<a class="item" data-title="Audit Log" href="/docs/paas/user-guide/audit-log/"></a>


<a class="item" data-title="Advanced RBAC for IoT" href="/docs/paas/user-guide/rbac/"></a>


<a class="item" data-title="OAuth 2 Support" href="/docs/paas/user-guide/oauth-2-support/"></a>


<a class="item" data-title="MQTT over SSL" href="/docs/paas/user-guide/mqtt-over-ssl/"></a>


<a class="item" data-title="Device authentication options" href="/docs/paas/user-guide/device-credentials/"></a>


<a class="item" data-title="Access Token based authentication" href="/docs/paas/user-guide/access-token/"></a>


<a class="item" data-title="Basic MQTT Credentials" href="/docs/paas/user-guide/basic-mqtt/"></a>


<a class="item" data-title="X.509 Certificate based authentication" href="/docs/paas/user-guide/certificates/"></a>
  </div>
</div>


<div class="item" data-title="Administration UI">
  <div class="container">


<a class="item" data-title="Tenants" href="/docs/paas/user-guide/ui/tenants/"></a>


<a class="item" data-title="Customers" href="/docs/paas/user-guide/ui/customers/"></a>


<a class="item" data-title="Users" href="/docs/paas/user-guide/ui/users/"></a>


<a class="item" data-title="Assets" href="/docs/paas/user-guide/ui/assets/"></a>


<a class="item" data-title="Devices" href="/docs/paas/user-guide/ui/devices/"></a>


<a class="item" data-title="Rule Chains" href="/docs/paas/user-guide/ui/rule-chains/"></a>


<a class="item" data-title="Dashboards" href="/docs/paas/user-guide/ui/dashboards/"></a>


<div class="item" data-title="Widgets">
  <div class="container">


<a class="item" data-title="Trip Animation Widget" href="/docs/paas/user-guide/ui/trip-animation-widget/"></a>


<a class="item" data-title="Advanced Settings of the Entity Table widget" href="/docs/paas/user-guide/ui/entity-table-widget/"></a>


<a class="item" data-title="Advanced data key configuration" href="/docs/paas/user-guide/ui/advanced-data-key-configuration/"></a>
  </div>
</div>
  </div>
</div>


<a class="item" data-title="Subscriptions" href="/products/paas/subscription/"></a>


<a class="item" data-title="Plan and billing" href="/products/paas/billing-info/"></a>
        </div> <!-- /pi-accordion -->
  </div> <!-- /docsToc -->
  
  <div id="docsContent" class=" hasTocContent">
      <div id="table-of-contents">
          
              <h4>On this page</h4>
          
      </div>
      <div id="top-spacer"></div>
      <h1>Working with telemetry data</h1>
      <div id="content">
          
<ul id="markdown-toc">
  <li><a href="#data-points" id="markdown-toc-data-points">Data points</a></li>
  <li><a href="#time-series-data-upload-api" id="markdown-toc-time-series-data-upload-api">Time-series data upload API</a></li>
  <li><a href="#data-visualization" id="markdown-toc-data-visualization">Data visualization</a></li>
  <li><a href="#data-storage" id="markdown-toc-data-storage">Data storage</a></li>
  <li><a href="#data-retention" id="markdown-toc-data-retention">Data retention</a></li>
  <li><a href="#data-durability" id="markdown-toc-data-durability">Data durability</a></li>
  <li><a href="#rule-engine" id="markdown-toc-rule-engine">Rule engine</a></li>
  <li><a href="#data-query-rest-api" id="markdown-toc-data-query-rest-api">Data Query REST API</a>    <ul>
      <li><a href="#get-time-series-data-keys-for-specific-entity" id="markdown-toc-get-time-series-data-keys-for-specific-entity">Get time-series data keys for specific entity</a></li>
      <li><a href="#get-latest-time-series-data-values-for-specific-entity" id="markdown-toc-get-latest-time-series-data-values-for-specific-entity">Get latest time-series data values for specific entity</a></li>
      <li><a href="#get-historical-time-series-data-values-for-specific-entity" id="markdown-toc-get-historical-time-series-data-values-for-specific-entity">Get historical time-series data values for specific entity</a></li>
    </ul>
  </li>
  <li><a href="#websocket-api" id="markdown-toc-websocket-api">WebSocket API</a>    <ul>
      <li><a href="#example" id="markdown-toc-example">Example</a></li>
    </ul>
  </li>
</ul>

<p>ThingsBoard provides a rich set of features related to time-series data:</p>

<ul>
  <li><strong>Collect</strong> data from devices using various <a href="/docs/paas/getting-started-guides/connectivity/">protocols and integrations</a>;</li>
  <li><strong>Store</strong> time series data in SQL (PostgreSQL) or NoSQL (Cassandra or Timescale) databases;</li>
  <li><strong>Query</strong> the latest time series data values or all data within the specified time range with flexible aggregation;</li>
  <li><strong>Subscribe</strong> to data updates using <a href="#websocket-api">WebSockets</a> for visualization or real-time analytics;</li>
  <li><strong>Visualize</strong> time series data using configurable and highly customizable widgets and <a href="/docs/paas/user-guide/dashboards/">dashboards</a>;</li>
  <li><strong>Filter and analyze</strong> data using flexible <a href="/docs/paas/user-guide/rule-engine-2-0/re-getting-started/">Rule Engine</a>;</li>
  <li><strong>Generate <a href="/docs/paas/user-guide/alarms/">alarms</a></strong> based on collected data;</li>
  <li><strong>Forward</strong> data to external systems using <a href="/docs/paas/user-guide/rule-engine-2-0/external-nodes/">External Rule Nodes</a> (e.g. Kafka or RabbitMQ Rule Nodes).</li>
</ul>

<p>This guide provides an overview of the features listed above, and some useful links to get more details.</p>

<h2 id="data-points">Data points</h2>

<p>ThingsBoard internally treats time-series data as timestamped key-value pairs. We call single timestamped key-value pair a <strong>data point</strong>. 
Flexibility and simplicity of the key-value format allow easy and seamless integration with almost any IoT device on the market. 
Key is always a string and is basically a data point key name, while the value can be either string, boolean, double, integer or JSON.</p>

<div class="info-banner">
<img src="/images/doc-info-icon.svg" />   <div>
    <p>Examples below use <strong>internal</strong> data format. The device itself may upload data using <strong>various protocols and data formats</strong>. See <a href="/docs/paas/user-guide/telemetry/#time-series-data-upload-api">Time-series data upload API</a> for more details.</p>
  </div>
</div>

<p>The following JSON contains 5 data points: temperature (double), humidity (integer), hvacEnabled (boolean), hvacState (string) and configuration (JSON):</p>

<div class="language-json copy-code highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
 </span><span class="nl">"temperature"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.2</span><span class="p">,</span><span class="w"> 
 </span><span class="nl">"humidity"</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w">
 </span><span class="nl">"hvacEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
 </span><span class="nl">"hvacState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IDLE"</span><span class="p">,</span><span class="w">
 </span><span class="nl">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"someNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"someArray"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="w">
    </span><span class="nl">"someNestedObject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>You may notice that the JSON listed above does not have a timestamp information. In such case, ThingsBoard uses current server timestamp. 
However, you may include timestamp information into the message. See example below:</p>

<div class="language-json copy-code highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1527863043000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"temperature"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"humidity"</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="time-series-data-upload-api">Time-series data upload API</h2>

<p>You may use built-in transport protocol implementations:</p>

<ul>
  <li><a href="/docs/paas/reference/mqtt-api/#telemetry-upload-api">MQTT API reference</a></li>
  <li><a href="/docs/paas/reference/coap-api/#telemetry-upload-api">CoAP API reference</a></li>
  <li><a href="/docs/paas/reference/http-api/#telemetry-upload-api">HTTP API reference</a></li>
  <li><a href="/docs/paas/reference/lwm2m-api/#telemetry-upload-api">LwM2M API reference</a></li>
</ul>

<p>Most of the protocols above support JSON, Protobuf or own data format. For other protocols, please review <a href="/docs/paas/getting-started-guides/connectivity/">How to connect your device?</a> guide.</p>

<h2 id="data-visualization">Data visualization</h2>

<p>We assume you have already pushed time-series data to ThingsBoard. Now you may use it in your dashboards. 
We recommend <a href="/docs/paas/user-guide/dashboards/">dashboards overview</a> to get started.
Once you are familiar how to create dashboards and configure data sources,
you may use widgets to visualize either latest values or real-time changes and historical values.
Good examples of widgets that visualize latest values are <a href="/docs/paas/user-guide/ui/widget-library/#digital-gauges">digital</a> and <a href="/docs/paas/user-guide/ui/widget-library/#analog-gauges">analog</a> gauges, or <a href="/docs/paas/user-guide/ui/widget-library/#cards">cards</a>.
<a href="/docs/paas/user-guide/ui/widget-library/#charts">Charts</a> are used to visualize historical and real-time values and <a href="/docs/paas/user-guide/ui/widget-library/#maps-widgets">maps</a> to visualize movement of devices and assets.</p>

<p>You may also use <a href="/docs/paas/user-guide/ui/widget-library/#input-widgets">input widgets</a> to allow dashboard users to input new time-series values using the dashboards.</p>

<h2 id="data-storage">Data storage</h2>

<p>ThingsBoard Cloud stores time-series data in the Cassandra database with replication factor of 3. 
The on-prem installation of ThingsBoard support storage of time-series data in SQL (PostgreSQL) or NoSQL (Cassandra or Timescale) databases.</p>

<h2 id="data-retention">Data retention</h2>

<p>ThingsBoard Cloud stores data with configurable time-to-live (TTL) parameter. 
The value of the parameter is part of the <a href="/products/paas/subscription/">Subscription</a> plan.
You may overwrite the default value in the Save Timeseries rule node or using TTL metadata field of your message.
This allows you to optimize storage consumption. The maximum allowed value of TTL is 5 years.
For example, you may store raw data for 3 month and aggregated data for 3 years.</p>

<h2 id="data-durability">Data durability</h2>

<p>The device that sends message with time-series data to ThingsBoard will receive confirmation 
once the message is successfully stored into the Rule Engine <a href="/docs/paas/user-guide/rule-engine-2-0/overview/#rule-engine-queue">Queue</a> 
that is configured for particular device <a href="/docs/paas/user-guide/device-profiles/#queue-name">profile</a>.</p>

<p>As a tenant administrator, you may configure <a href="/docs/paas/user-guide/rule-engine-2-0/overview/#queue-processing-strategy">processing strategy</a> for the queue.
You may configure the queue either to reprocess or ignore the failures of the message processing. 
This allows granular control on the level of durability for the time-series data and all other messages processed by the rule engine.</p>

<h2 id="rule-engine">Rule engine</h2>

<p>The <a href="/docs/paas/user-guide/rule-engine-2-0/re-getting-started/">Rule Engine</a> is responsible for processing all sorts of incoming data and event.
You may find most popular scenarios of using attributes within rule engine below:</p>

<p><strong>Generate alarms based on the logical expressions against time-series values</strong></p>

<p>Use <a href="/docs/paas/user-guide/device-profiles/#alarm-rules">alarm rules</a> to configure most common alarm conditions via UI
or use <a href="/docs/paas/user-guide/rule-engine-2-0/filter-nodes/">filter nodes</a> to configure more specific use cases via custom JS functions.</p>

<p><strong>Modify incoming time-series data before they are stored in the database</strong></p>

<p>Use <a href="/docs/paas/user-guide/rule-engine-2-0/filter-nodes/#message-type-switch-node">message type switch</a> rule node to filter messages that contain Post telemetry request.
Then, use <a href="/docs/paas/user-guide/rule-engine-2-0/transformation-nodes/">transformation rule nodes</a> to modify a particular message.</p>

<p><strong>Calculate delta between previous and current time-series value</strong></p>

<p>Use <a href="/docs/paas/user-guide/rule-engine-2-0/enrichment-nodes/#calculate-delta">calculate delta</a> rule node to calculate power, water and other consumption based on smart-meter readings.</p>

<p><strong>Fetch previous time-series values to analyze incoming telemetry from device</strong></p>

<p>Use <a href="/docs/paas/user-guide/rule-engine-2-0/enrichment-nodes/#originator-telemetry">originator telemetry</a> rule node to enrich incoming time-series data message with previous time-series data of the device.</p>

<p><strong>Fetch attribute values to analyze incoming telemetry from device</strong></p>

<p>Use <a href="/docs/paas/user-guide/rule-engine-2-0/enrichment-nodes/">enrichment</a> rule nodes to enrich incoming telemetry message with attributes of the device, related asset, customer or tenant.
This is extremely powerful technique that allows to modify processing logic and parameters based on settings stored in the attributes.</p>

<p><strong>Use analytics rule nodes to aggregate data for related assets</strong></p>

<p>Use <a href="/docs/paas/user-guide/rule-engine-2-0/analytics-nodes/">analytics</a> rule nodes to aggregate data from multiple devices or assets.</p>

<p>Useful to calculate total water consumption for the building/district based on data from multiple water meters.</p>

<h2 id="data-query-rest-api">Data Query REST API</h2>

<p>ThingsBoard provides following REST API to fetch entity data:</p>

<div class="info-banner">
<img src="/images/doc-info-icon.svg" />   <div>
    <p><strong>NOTE:</strong> The API is available via Swagger UI. Please review the general <a href="/docs/paas/reference/rest-api/">REST API</a> documentation for more details. The API is backward compatible with TB v1.0+ and this is the main reason why API call URLs contain plugin.</p>
  </div>
</div>

<h5 id="get-time-series-data-keys-for-specific-entity">Get time-series data keys for specific entity</h5>

<p>You can fetch list of all time-series <em>data keys</em> for particular <em>entity type</em> and <em>entity id</em> using GET request to the following URL</p>

<div class="language-shell copy-code highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>http<span class="o">(</span>s<span class="o">)</span>://host:port/api/plugins/telemetry/<span class="o">{</span>entityType<span class="o">}</span>/<span class="o">{</span>entityId<span class="o">}</span>/keys/timeseries
</pre></td></tr></tbody></table></code></pre></div></div>

<script>
  jqueryUiDefer(initTabs);
  function initTabs() {
    $(function(){
        $("#get-telemetry-keys").tabs();
    });
  }
</script>

<div id="get-telemetry-keys" class="docs-tabs">
  <div class="ui-tabs-scrollbox">
    <ul>
      <li><a href="#A">get-telemetry-keys.sh</a></li>
      <li><a href="#B">get-telemetry-keys-result.json</a></li>
    </ul>
  </div>
  <div id="A">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/get-telemetry-keys.sh"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>curl <span class="nt">-v</span> <span class="nt">-X</span> GET http://localhost:8080/api/plugins/telemetry/DEVICE/ac8e6020-ae99-11e6-b9bd-2b15845ada4e/keys/timeseries <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"X-Authorization: </span><span class="nv">$JWT_TOKEN</span><span class="s2">"</span>
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="B">
    <table class="includecode">
<tr><td>
<div class="language-json copy-code highlighter-rouge" id="resources/get-telemetry-keys-result.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="s2">"gas"</span><span class="p">,</span><span class="s2">"temperature"</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
</div>

<p>Supported entity types are: TENANT, CUSTOMER, USER, DASHBOARD, ASSET, DEVICE, ALARM, ENTITY_VIEW</p>

<h5 id="get-latest-time-series-data-values-for-specific-entity">Get latest time-series data values for specific entity</h5>

<p>You can fetch list of latest values for particular <em>entity type</em> and <em>entity id</em> using GET request to the following URL</p>

<div class="language-shell copy-code highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>http<span class="o">(</span>s<span class="o">)</span>://host:port/api/plugins/telemetry/<span class="o">{</span>entityType<span class="o">}</span>/<span class="o">{</span>entityId<span class="o">}</span>/values/timeseries?keys<span class="o">=</span>key1,key2,key3
</pre></td></tr></tbody></table></code></pre></div></div>

<script>
  jqueryUiDefer(initTabs);
  function initTabs() {
    $(function(){
        $("#get-latest-telemetry-values").tabs();
    });
  }
</script>

<div id="get-latest-telemetry-values" class="docs-tabs">
  <div class="ui-tabs-scrollbox">
    <ul>
      <li><a href="#A">get-latest-telemetry-values.sh</a></li>
      <li><a href="#B">get-latest-telemetry-values-result.json</a></li>
    </ul>
  </div>
  <div id="A">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/get-latest-telemetry-values.sh"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>curl <span class="nt">-v</span> <span class="nt">-X</span> GET http://localhost:8080/api/plugins/telemetry/DEVICE/ac8e6020-ae99-11e6-b9bd-2b15845ada4e/values/timeseries?keys<span class="o">=</span>gas,temperature <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"X-Authorization: </span><span class="nv">$JWT_TOKEN</span><span class="s2">"</span>
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="B">
    <table class="includecode">
<tr><td>
<div class="language-json copy-code highlighter-rouge" id="resources/get-latest-telemetry-values-result.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"gas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479735870786</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"temperature"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479735870786</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
</div>

<p>Supported entity types are: TENANT, CUSTOMER, USER, DASHBOARD, ASSET, DEVICE, ALARM, ENTITY_VIEW</p>

<h5 id="get-historical-time-series-data-values-for-specific-entity">Get historical time-series data values for specific entity</h5>

<p>You can also fetch list of historical values for particular <em>entity type</em> and <em>entity id</em> using GET request to the following URL</p>

<div class="language-shell copy-code highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>http<span class="o">(</span>s<span class="o">)</span>://host:port/api/plugins/telemetry/<span class="o">{</span>entityType<span class="o">}</span>/<span class="o">{</span>entityId<span class="o">}</span>/values/timeseries?keys<span class="o">=</span>key1,key2,key3&amp;startTs<span class="o">=</span>1479735870785&amp;endTs<span class="o">=</span>1479735871858&amp;interval<span class="o">=</span>60000&amp;limit<span class="o">=</span>100&amp;agg<span class="o">=</span>AVG
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The supported parameters are described below:</p>

<ul>
  <li><strong>keys</strong> - comma-separated list of telemetry keys to fetch.</li>
  <li><strong>startTs</strong> - Unix timestamp that identifies the start of the interval in milliseconds.</li>
  <li><strong>endTs</strong> - Unix timestamp that identifies the end of the interval in milliseconds.</li>
  <li><strong>interval</strong> - the aggregation interval, in milliseconds.</li>
  <li><strong>agg</strong> - the aggregation function. One of MIN, MAX, AVG, SUM, COUNT, NONE.</li>
  <li><strong>limit</strong> - the max amount of data points to return or intervals to process.</li>
</ul>

<p>ThingsBoard will use <em>startTs</em>, <em>endTs</em>, and <em>interval</em> to identify aggregation partitions or sub-queries and execute asynchronous queries to DB that leverage built-in aggregation functions.</p>

<script>
  jqueryUiDefer(initTabs);
  function initTabs() {
    $(function(){
        $("#get-telemetry-values").tabs();
    });
  }
</script>

<div id="get-telemetry-values" class="docs-tabs">
  <div class="ui-tabs-scrollbox">
    <ul>
      <li><a href="#A">get-telemetry-values.sh</a></li>
      <li><a href="#B">get-telemetry-values-result.json</a></li>
    </ul>
  </div>
  <div id="A">
    <table class="includecode">
<tr><td>
<div class="language-shell copy-code highlighter-rouge" id="resources/get-telemetry-values.sh"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>curl <span class="nt">-v</span> <span class="nt">-X</span> GET <span class="s2">"http://localhost:8080/api/plugins/telemetry/DEVICE/ac8e6020-ae99-11e6-b9bd-2b15845ada4e/values/timeseries?keys=gas,temperature&amp;startTs=1479735870785&amp;endTs=1479735871858&amp;interval=60000&amp;limit=100&amp;agg=AVG"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"X-Authorization: </span><span class="nv">$JWT_TOKEN</span><span class="s2">"</span>
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
  <div id="B">
    <table class="includecode">
<tr><td>
<div class="language-json copy-code highlighter-rouge" id="resources/get-telemetry-values-result.json"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"gas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479735870786</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479735871857</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"temperature"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479735870786</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1479735871857</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
</div>

<p>Supported entity types are: TENANT, CUSTOMER, USER, DASHBOARD, ASSET, DEVICE, ALARM, ENTITY_VIEW</p>

<h2 id="websocket-api">WebSocket API</h2>

<p>WebSockets are actively used by Thingsobard Web UI. WebSocket API duplicates REST API functionality and provides the ability to subscribe to device data changes.
You can open a WebSocket connection to a telemetry service using the following URL</p>

<div class="language-shell copy-code highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>ws<span class="o">(</span>s<span class="o">)</span>://host:port/api/ws/plugins/telemetry?token<span class="o">=</span><span class="nv">$JWT_TOKEN</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Once opened, you can send</p>

<p><a href="https://github.com/thingsboard/thingsboard/blob/master/application/src/main/java/org/thingsboard/server/service/telemetry/cmd/TelemetryPluginCmdsWrapper.java">subscription commands</a> 
and receive 
<a href="https://github.com/thingsboard/thingsboard/blob/master/application/src/main/java/org/thingsboard/server/service/telemetry/sub/TelemetrySubscriptionUpdate.java">subscription updates</a>:</p>

<p>where</p>

<ul>
  <li><strong>cmdId</strong> - unique command id (within corresponding WebSocket connection)</li>
  <li><strong>entityType</strong> - unique entity type. Supported entity types are: TENANT, CUSTOMER, USER, DASHBOARD, ASSET, DEVICE, ALARM</li>
  <li><strong>entityId</strong> - unique entity identifier</li>
  <li><strong>keys</strong> - a comma-separated list of data keys</li>
  <li><strong>timeWindow</strong> - fetch interval for time series subscriptions, in milliseconds. Data will be fetch within following interval <strong>[now()-timeWindow, now()]</strong></li>
  <li><strong>startTs</strong> - start time of fetch interval for historical data query, in milliseconds.</li>
  <li><strong>endTs</strong> - end time of fetch interval for historical data query, in milliseconds.</li>
</ul>

<h4 id="example">Example</h4>

<p>Change values of the following variables :</p>

<ul>
  <li>
    <p><strong>token</strong> - to the JWT token which you can get using the <a href="/docs/paas/reference/rest-api/#rest-api-auth">following link</a>.</p>
  </li>
  <li>
    <p><strong>entityId</strong> - to your device id.</p>
  </li>
</ul>

<p>In case of live-demo server :</p>

<ul>
  <li>replace <strong>host:port</strong> with <strong>demo-thingsboard.io</strong> and choose secure connection - <strong>wss://</strong></li>
</ul>

<p>In case of local installation :</p>

<ul>
  <li>replace <strong>host:port</strong> with <strong>127.0.0.1:8080</strong> and choose <strong>ws://</strong></li>
</ul>

<script>
  jqueryUiDefer(initTabs);
  function initTabs() {
    $(function(){
        $("#web-socket").tabs();
    });
  }
</script>

<div id="web-socket" class="docs-tabs">
  <div class="ui-tabs-scrollbox">
    <ul>
      <li><a href="#A">web-socket.html</a></li>
    </ul>
  </div>
  <div id="A">
    <table class="includecode">
<tr><td>
<div class="language-html copy-code highlighter-rouge" id="resources/web-socket.html"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE HTML&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>

    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
        <span class="kd">function</span> <span class="nx">WebSocketAPIExample</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">YOUR_JWT_TOKEN</span><span class="dl">"</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">entityId</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">YOUR_DEVICE_ID</span><span class="dl">"</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">webSocket</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="dl">"</span><span class="s2">ws(s)://host:port/api/ws/plugins/telemetry?token=</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">token</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">entityId</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">YOUR_DEVICE_ID</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Invalid device id!</span><span class="dl">"</span><span class="p">);</span>
                <span class="nx">webSocket</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">token</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">YOUR_JWT_TOKEN</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Invalid JWT token!</span><span class="dl">"</span><span class="p">);</span>
                <span class="nx">webSocket</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
            <span class="p">}</span>

            <span class="nx">webSocket</span><span class="p">.</span><span class="nx">onopen</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="na">tsSubCmds</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="na">entityType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">DEVICE</span><span class="dl">"</span><span class="p">,</span>
                            <span class="na">entityId</span><span class="p">:</span> <span class="nx">entityId</span><span class="p">,</span>
                            <span class="na">scope</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LATEST_TELEMETRY</span><span class="dl">"</span><span class="p">,</span>
                            <span class="na">cmdId</span><span class="p">:</span> <span class="mi">10</span>
                        <span class="p">}</span>
                    <span class="p">],</span>
                    <span class="na">historyCmds</span><span class="p">:</span> <span class="p">[],</span>
                    <span class="na">attrSubCmds</span><span class="p">:</span> <span class="p">[]</span>
                <span class="p">};</span>
                <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">object</span><span class="p">);</span>
                <span class="nx">webSocket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
                <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Message is sent: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">data</span><span class="p">);</span>
            <span class="p">};</span>

            <span class="nx">webSocket</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">received_msg</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
                <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Message is received: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">received_msg</span><span class="p">);</span>
            <span class="p">};</span>

            <span class="nx">webSocket</span><span class="p">.</span><span class="nx">onclose</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Connection is closed!</span><span class="dl">"</span><span class="p">);</span>
            <span class="p">};</span>
        <span class="p">}</span>
    <span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"sse"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:WebSocketAPIExample()"</span><span class="nt">&gt;</span>Run WebSocket<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>
</td></tr></table>
  </div>
</div>


      </div>
      <footer>
	<main class="light-text">
		<div class="newsletterSubsContainer">
            <script type="text/javascript">
                function subscribeForNewsletter(event) {
                    event.stopPropagation();
                    var script_tag = document.createElement('script');
                    script_tag.setAttribute("type", "text/javascript");
                    script_tag.setAttribute("src", "https://static.mailerlite.com/js/w/webforms.min.js?v28bf44f740701752bfc6767bc7e171d4");
                    document.getElementsByTagName("head")[0].appendChild(script_tag);
                    $(event.target).css('display', 'none');
                    $('#mlb2-7341216').css('display', 'block');
                }
            </script>
            <button class="n-button price subscribe" onClick="subscribeForNewsletter(event)">Sign up for ThingsBoard news</button>
            <div id="mlb2-7341216" class="ml-subscribe-form ml-subscribe-form-7341216" style="display: none;">
<!--            <div id="mlb2-7341216" class="ml-subscribe-form ml-subscribe-form-7341216" style="display: block;">-->
                <div class="ml-vertical-align-center">
                    <div class="subscribe-form ml-block-success" style="display: none;">
                        <div class="form-section">
                            <p>Thank you for your interest in ThingsBoard!<br/>Have a great day!</p>
                        </div>
                    </div>
                    <form class="ml-block-form" action="https://static.mailerlite.com/webforms/submit/r9r9x7" data-id="708170" data-code="r9r9x7" method="POST" target="_blank">
                        <div class="subscribe-form horizontal">
                            <div class="form-section horizontal">
                                <div class="form-group ml-field-email ml-validate-required ml-validate-email">
                                    <input type="email" name="fields[email]" class="form-control" placeholder="Email address*" value="" autocomplete="email" x-autocompletetype="email" spellcheck="false" autocapitalize="off" autocorrect="off">
                                </div>
                            </div>
                            <input type="hidden" name="ml-submit" value="1">
                            <div class="form-section horizontal ml-button-position">
                                <button class="primary n-button price subscribe" type="submit">
                                    Subscribe
                                </button>
                                <button disabled="disabled" style="display: none;" type="button" class="n-button loading">
                                    <img src="https://static.mailerlite.com/images/rolling@2x.gif" width="20" height="20" style="width: 20px; height: 20px;">
                                </button>
                            </div>
                            <p>By subscribing you agree to receive newsletters from ThingsBoard, Inc.</p>
                        </div>
                    </form>
                </div>
            </div>
		</div>

        <hr>

        <div class="deeper">
            <a href="/" class="footer-logo"></a>
            <nav>
                <a href="/docs/getting-started-guides/helloworld/">Get Started</a>
                <a href="/docs/">Documentation</a>
                <a href="/iot-use-cases/">Use cases</a>
                <a href="https://blog.thingsboard.io/">Blog</a>
                <a href="/docs/services/">Services</a>
                <a href="/docs/contact-us/">Contact us</a>
            </nav>
        </div>

        <div class="deepmost">
            <div class="copyright">&copy; 2021 The ThingsBoard Authors</div>
            <div class="social">
                <a href="https://github.com/thingsboard/thingsboard" class="github"></a>
                <a href="https://gitter.im/thingsboard/chat" class="gitter"></a>
                <a href="https://www.youtube.com/thingsboard" class="youtube"></a>
                <a href="http://stackoverflow.com/questions/tagged/thingsboard" class="stack-overflow"></a>
                <a href="https://groups.google.com/forum/#!forum/thingsboard" class="mailing-list"></a>
                <a href="https://www.facebook.com/thingsboard" class="facebook"></a>
                <a href="https://twitter.com/thingsboard" class="twitter"></a>
            </div>
        </div>
	</main>
</footer>

  </div>
</section>

<style>
  .cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
  }
  .gsc-control-cse table, .gsc-control-cse-en table {
    margin:0px !important;
  }
  .gsc-above-wrapper-area {
    border-bottom: 0;
  }
</style>
<script>
    jqueryDefer(function () {
        $(document).on('selectionchange',function() {
        // $(document).mouseup(function () {
            $('.clipboard-btn').removeClass('noChars');
            var selectedChars = getSelectedText();
            // $('#numberChars').html(selectedChars.length);
            if (selectedChars == 0) {
                $('.clipboard-btn').addClass('noChars');
            }
        });
    });
    function getSelectedText() {
        var text;
        if (window.getSelection) {
            text = window.getSelection().toString();
        } else if (document.getSelection) {
            text = document.getSelection();
        } else if (document.selection) {
            text = document.selection.createRange().text;
        }
        return text;
    }
</script>
<script>
    jqueryDefer(function () {
        $(document).ready(function () {
            var allCodeBlocksElements = $(".copy-code");
            allCodeBlocksElements.each(function (i) {
                var codeBlock = $(this);
                if (!codeBlock.hasClass('highlighter-rouge')) {
                    codeBlock = codeBlock.find('.highlighter-rouge');
                }
                codeBlock.each(function () {
                    var block = codeBlock.find('pre.highlight > code .rouge-code');
                    var currentId = "codeblock" + (i + 1);
                    block.attr('id', currentId);
                    var clipButton = $('<button class="clipboard-btn" data-clipboard-target="#' + currentId + '"><p>Copy to clipboard</p><div><img src="/images/copy-code-icon.svg" alt="Copy to clipboard"></div></button>');
                    $(this).append(clipButton);
                    var troyan = codeBlock.find('pre.highlight');
                    var Tooltip = $('<div class="customTooltip"><div class="tooltipText">Copied!</div></div>');
                    troyan.append(Tooltip);
                    troyan.addClass('clipboard-btn');
                    troyan.attr('data-clipboard-target', "#" + currentId);
                    troyan.on('mouseleave', clearTooltip);
                    troyan.on('blur', clearTooltip);
                    troyan.on('click', function(e) {
                        var el = $(e.currentTarget);
                        if (el.hasClass('showTool')) {
                            clearTooltip(e);
                            troyan.attr('data-skip-tooltip', "true");
                        }
                    });
                });
            });

            var clipboard = new Clipboard('.noChars');
            clipboard.on('success', function (e) {
                $('.clipboard-btn').removeClass('noChars');
                e.clearSelection();
                var trigger = e.trigger;
                if (!$(trigger).attr('data-skip-tooltip')) {
                    showTooltip(e.trigger, 'Copied!');
                } else {
                    $(trigger).removeAttr('data-skip-tooltip');
                }
            });

            $('#search').focus(
                function(){
                    $(this).parent('#searchBox').addClass('focused');
                }).blur(
                function(){
                    $(this).parent('#searchBox').removeClass('focused');
                });

            $('#searchBox .searchButton').click(function () {
                var value = $('#search').val();
                window.location.replace('/docs/paas/search/?q=' + value);
            });

            $('#docsBreadcrumbs').click(function () {
                if ($(this).hasClass('active')) {
                    $(this).removeClass('active');
                    $('#docsNav').removeClass('active');
                    $('#searchBox').removeClass('visible');
                } else {
                    $(this).addClass('active');
                    $('#docsNav').addClass('active');
                    $('#searchBox').addClass('visible');
                }
            });
        });

        function clearTooltip(e) {
            var el = $(e.currentTarget);
            el.removeClass('showTool');
            el.attr('aria-label', null);
        }

        function showTooltip(elem, msg) {
            var el = $(elem);
            el.addClass('showTool');
            el.attr('aria-label', msg);
        }
    });
</script>

<script>
    jqueryDefer(function () {
        var markdownTocs = null;
        var contentAnchors = [];
        var activeAnchor = null;
        var firstAnchor = null;
        var lastAnchor = null;

        function updatePositions() {
            contentAnchors = [];
            markdownTocs.each(function (i) {
                var tocAnchor = $(this).children('a');
                var href = tocAnchor.attr('href');
                var contentAnchor = $('div#content ' + href);
                var top = Math.floor(contentAnchor.offset().top);
                var bottom;
                if (i < markdownTocs.length - 1) {
                    var nextHref = $(markdownTocs[i + 1]).children('a').attr('href');
                    var nextContentAnchor = $('div#content ' + nextHref);
                    bottom = Math.floor(nextContentAnchor.offset().top);
                } else {
                    bottom = $('div#content').offset().top + $('div#content').innerHeight();
                }
                var contentAnchorInfo = {anchor: contentAnchor, toc: $(this), top: top, bottom: bottom, href: href};
                contentAnchors.push(contentAnchorInfo);
                if (i === 0) {
                    firstAnchor = contentAnchorInfo;
                }
                if (i === markdownTocs.length - 1) {
                    lastAnchor = contentAnchorInfo;
                }
            });
        }

        function findActiveContentToc() {
            var top = $(window).scrollTop();
            var bottom = top + $(window).height();
            if (bottom === $('#encyclopedia').offset().top + $('#encyclopedia').innerHeight()) {
                return lastAnchor;
            } else {
                bottom -= 154;
                for (var i = 0; i < contentAnchors.length; i++) {
                    var contentAnchor = contentAnchors[i];
                    if (contentAnchor.top <= bottom &&
                        contentAnchor.bottom > top) {
                        return contentAnchor;
                    }
                }
            }
            return firstAnchor;
        }

        function updateActiveToc(init) {
            updatePositions();
            var newActiveAnchor = findActiveContentToc();
            if (!activeAnchor || newActiveAnchor.href !== activeAnchor.href) {
                activeAnchor = newActiveAnchor;
                markdownTocs.removeClass('active');
                activeAnchor.toc.addClass('active');
                var tocTop = $('#table-of-contents').scrollTop() + 100;
                var tocBottom = tocTop + $('#table-of-contents').innerHeight() - 200;
                var activeTocTop = activeAnchor.toc.position().top;
                var activeTocBottom = activeTocTop + activeAnchor.toc.children(':first').height();
                if (tocTop > activeTocTop) {
                    activeAnchor.toc[0].scrollIntoView();
                    $('#table-of-contents')[0].scrollTop -= 100;
                } else if (tocBottom < activeTocBottom) {
                    activeAnchor.toc[0].scrollIntoView();
                    $('#table-of-contents')[0].scrollTop += init ? -100 : 100;
                }
            }
        }
        $( document ).ready(function() {
            var tocs = $('#content > ul#markdown-toc');
            var tableOfContents = $('#table-of-contents');
            tableOfContents.append(tocs);
            markdownTocs = $('#table-of-contents ul#markdown-toc li').filter(function() {
                var tocAnchor = $(this).children('a');
                var href = tocAnchor.attr('href');
                if (!href.startsWith('#')) {
                    return false;
                } else {
                    var contentAnchor = $('div#content ' + href);
                    return contentAnchor.length > 0;
                }
            });
            updateActiveToc(true);
        });

        $(document).on("scroll", function() {
            updateActiveToc(false);
        });

    });
</script>

</body>
</html>

